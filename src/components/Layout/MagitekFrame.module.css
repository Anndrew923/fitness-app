/* ============================================================
   MAGITEK FRAME - 魔導外殼容器 (V4.2: Triple-Layer Strata)
   ============================================================ */

/* ============================================================
   根容器：徹底擊穿 390px 限制，確保邊框自動貼邊
   ⚡ V4.2 精準擊穿：針對瀏覽器模擬，恢復滑動邏輯
   ============================================================ */
.container {
  padding: 0 !important;
  margin: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  max-width: none !important;        /* ⚡ 擊穿 390px 限制 */
  /* ⚡ V4.2 精準擊穿：真正的滾動容器（針對瀏覽器） */
  overflow-y: auto !important;
  overflow-x: hidden !important;
  position: relative !important;
  background-color: transparent !important;
  z-index: 0;
}

/* ============================================================
   Layer 1: 唯一星空背景層 (z: -100)
   主要樣式由 index.css 的 #layer-master-bg 控制
   此處保留類名以維持兼容性
   ============================================================ */
.layerBg {
  /* 主要樣式由 index.css 的 #layer-master-bg 控制 */
  /* 此處僅保留基本定位，確保兼容性 */
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -100 !important;
  pointer-events: none;
  background-color: transparent !important;
  /* 性能優化：禁用所有動畫 */
  animation: none !important;
  transform: none !important;
  will-change: auto !important;
  transition: none !important;
}

/* ============================================================
   Layer 3: 唯一捲動層 (z: 10)
   主要樣式由 index.css 的 #layer-scroll-content 控制
   此處保留類名以維持兼容性
   ============================================================ */
.layerContent {
  /* 主要樣式由 index.css 的 #layer-scroll-content 控制 */
  /* 保留基本樣式以維持兼容性 */
  width: 100%;
  margin: 0 !important;
  background: transparent !important;
  background-color: transparent !important;
  box-sizing: border-box;
  /* GPU 加速優化 */
  transform: translateZ(0);
  will-change: scroll-position;
}

/* ============================================================
   V12.0 最終視覺合體 - 頂部狀態列 HUD
   使用新版透明素材 V3，確保星空背景能正確穿透
   ============================================================ */
.topStatusHud {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  width: 100% !important;
  /* ⚡ V12.0: 根據新素材高度調整 */
  height: 120px !important;
  min-height: 120px !important;
  max-height: 120px !important;
  /* ⚡ V12.0: 背景圖片由 index.css 控制，使用 V3 素材 */
  background: transparent !important;
  background-color: transparent !important;
  box-shadow: none !important;
  /* ⚡ V12.0: 透明 PNG 不需要 screen 濾黑 */
  mix-blend-mode: normal !important;
  padding-top: calc(var(--mg-safe-area-top, 0px) + env(safe-area-inset-top, 44px)) !important;
  padding-bottom: 0 !important;
  padding-left: 0 !important;
  padding-right: 0 !important;
  margin: 0 !important;
  pointer-events: none !important; /* ⚡ 確保不阻擋觸控 */
  z-index: 10000 !important; /* ⚡ 全 App 最高權重 */
  overflow: visible !important; /* 確保內部組件依然看得見 */
}

/* ⚡ V5.8: 只有 HUD 內部的按鈕能點擊 */
.topStatusHud > *,
.topStatusHud button,
.topStatusHud a {
  pointer-events: auto !important; /* ⚡ 只有裡面的按鈕能點擊 */
}
