# 功能檢查清單

## 📋 使用說明

此檢查清單用於確保每次修改後所有功能正常運作。建議在以下情況使用：
- 完成新功能開發後
- 修復 Bug 後
- Git 回滾或合併後
- 準備發布新版本前

---

## 🎯 核心功能檢查

### 1. 用戶認證與資料管理
- [ ] 用戶可以正常登入
- [ ] 用戶可以正常註冊
- [ ] 訪客模式可以正常使用
- [ ] 用戶資料可以正常載入
- [ ] 用戶資料可以正常保存到 Firebase
- [ ] 頭像上傳功能正常
- [ ] 用戶登出功能正常

### 2. 評測功能
- [ ] 力量評測（Strength）可以正常使用
- [ ] 爆發力測試（Explosive Power）可以正常使用
- [ ] 心肺耐力測試（Cardio）可以正常使用
- [ ] 肌肉量評估（Muscle Mass）可以正常使用
- [ ] 體脂肪率測試（Body Fat）可以正常使用
- [ ] 所有評測結果可以正常計算
- [ ] 評測結果可以正常保存

### 3. 天梯系統
- [ ] 天梯頁面可以正常顯示
- [ ] 天梯排名可以正常顯示
- [ ] 天梯提交功能正常（最多 3 次/天）
- [ ] 天梯提交確認對話框正常顯示
- [ ] 天梯提交確認對話框防背景滾動功能正常
- [ ] 天梯分數計算正確
- [ ] PR 值（百分比排名）顯示正常
- [ ] 天梯歷史記錄正常

### 4. 榮譽認證系統
- [ ] 榮譽認證按鈕在 UserInfo 頁面正常顯示
- [ ] 點擊榮譽認證按鈕可以正常導航到認證頁面
- [ ] 認證頁面可以正常訪問
- [ ] 認證申請功能正常
- [ ] 認證狀態可以正常顯示

### 5. 歷史紀錄
- [ ] 歷史紀錄頁面可以正常顯示
- [ ] 歷史數據可以正常載入
- [ ] 歷史數據圖表正常顯示
- [ ] 歷史數據刪除功能正常
- [ ] 歷史數據清理功能正常

### 6. 社群功能
- [ ] 社群頁面可以正常顯示
- [ ] 動態牆可以正常顯示
- [ ] 發布動態功能正常
- [ ] 點讚功能正常
- [ ] 留言功能正常
- [ ] 好友系統正常
- [ ] 好友邀請功能正常
- [ ] 好友動態頁面（`/friend-feed/:userId`）可以正常訪問
- [ ] 好友動態頁面可以正常顯示用戶資料
- [ ] 好友動態頁面可以正常顯示動態內容

### 7. 管理員面板
- [ ] 管理員面板路由（`/admin`）正常
- [ ] 非管理員用戶訪問會被重定向
- [ ] 管理員權限檢查功能正常
- [ ] 認證審核標籤頁正常顯示
- [ ] 檢舉審核標籤頁正常顯示
- [ ] 操作記錄標籤頁正常顯示
- [ ] 認證申請列表可以正常載入
- [ ] 檢舉列表可以正常載入
- [ ] 操作記錄可以正常載入
- [ ] 認證審核功能（通過/拒絕）正常
- [ ] 檢舉審核功能（通過/拒絕）正常
- [ ] 審核模態框正常顯示和關閉
- [ ] 審核備註功能正常

### 8. 入口頁面
- [ ] 啟動畫面（`/` - WelcomeSplash）正常顯示
- [ ] 啟動畫面進度條動畫正常
- [ ] 啟動畫面自動跳轉功能正常（已登入跳轉到 `/user-info`，未登入跳轉到 `/landing`）
- [ ] 登陸頁（`/landing`）正常顯示
- [ ] 登陸頁語言切換功能正常
- [ ] 登陸頁登入按鈕功能正常
- [ ] 登陸頁訪客模式按鈕功能正常
- [ ] 歡迎頁（`/welcome`）正常顯示
- [ ] 歡迎頁登入按鈕功能正常
- [ ] 歡迎頁訪客模式按鈕功能正常
- [ ] 已登入用戶訪問歡迎頁會自動跳轉

---

## 🎨 UI/UX 檢查

### 1. 導覽列
- [ ] 底部導覽列正常顯示
- [ ] 所有導覽按鈕可以正常點擊
- [ ] 當前頁面按鈕高亮顯示正確
- [ ] 導覽列圖標顯示正常
- [ ] 導覽列文字顯示正常（中英文）
- [ ] 社群按鈕（Community）功能正常
- [ ] 首頁按鈕（Home/UserInfo）功能正常
- [ ] 開始評測按鈕（Assessment）功能正常
- [ ] 天梯按鈕（Ladder）功能正常
- [ ] 歷史按鈕（History）功能正常
- [ ] 工具按鈕（Tools）功能正常
- [ ] 訪客模式下按鈕顯示/隱藏邏輯正確

### 2. 設定按鈕
- [ ] 設定按鈕在 UserInfo 頁面右上角正常顯示
- [ ] 設定按鈕圖標（齒輪）顯示正確
- [ ] 點擊設定按鈕可以正常導航到設定頁面
- [ ] 設定按鈕樣式正確（白色背景、圓形、固定定位）
- [ ] 設定按鈕 z-index 正確（不會遮擋 Modal）

### 3. 工具頁面
- [ ] 工具頁面可以正常訪問
- [ ] 工具頁面標題和副標題顯示正確
- [ ] 所有工具卡片正常顯示（6 個工具）
- [ ] 工具分類標題顯示正確（重量訓練、有氧運動）
- [ ] 工具圖標顯示正常
- [ ] 工具描述文字顯示正確
- [ ] "即將推出"標籤顯示正常

### 4. 響應式設計
- [ ] 桌面版顯示正常
- [ ] 平板版顯示正常
- [ ] 手機版顯示正常
- [ ] 所有按鈕在移動端可以正常點擊
- [ ] 文字大小在移動端適配良好

---

## 🔗 路由和導航檢查

### 1. 路由配置
- [ ] `/` 路由正常（WelcomeSplash）
- [ ] `/landing` 路由正常（LandingPage）
- [ ] `/welcome` 路由正常（Welcome）
- [ ] `/user-info` 路由正常
- [ ] `/training-tools` 路由正常
- [ ] `/settings` 路由正常
- [ ] `/verification` 路由正常
- [ ] `/ladder` 路由正常
- [ ] `/history` 路由正常
- [ ] `/community` 路由正常
- [ ] `/friend-feed/:userId` 路由正常
- [ ] `/admin` 路由正常（管理員面板）
- [ ] `/privacy-policy` 路由正常（隱私權政策）
- [ ] `/terms` 路由正常（服務條款）
- [ ] `/about` 路由正常（關於我們）
- [ ] `/features` 路由正常（功能介紹）
- [ ] `/disclaimer` 路由正常（免責聲明）
- [ ] `/contact` 路由正常（聯絡我們）
- [ ] 所有評測頁面路由正常（`/strength`, `/cardio`, `/explosive-power`, `/muscle-mass`, `/body-fat`）
- [ ] `/login` 路由正常
- [ ] 404 頁面正常（訪問不存在的路由）

### 2. 導航功能
- [ ] 從 UserInfo 頁面可以導航到設定頁面
- [ ] 從底部導覽列可以導航到工具頁面
- [ ] 從工具頁面可以返回其他頁面
- [ ] 從社群頁面可以導航到好友動態頁面
- [ ] 從設定頁面可以導航到管理員面板（管理員用戶）
- [ ] 從登陸頁可以導航到登入頁或訪客模式
- [ ] 從歡迎頁可以導航到登入頁或訪客模式
- [ ] 瀏覽器返回按鈕功能正常
- [ ] 深層鏈接（Deep Link）功能正常

### 3. 路由保護
- [ ] 需要登入的頁面正確保護（ProtectedRoute）
- [ ] 未登入用戶訪問保護頁面會導向登入頁
- [ ] 訪客模式限制正確

---

## 🌐 國際化（i18n）檢查

### 1. 中文翻譯
- [ ] 所有頁面中文翻譯完整
- [ ] 工具頁面翻譯正確（title, subtitle, category, tools）
- [ ] 導覽列翻譯正確
- [ ] 設定按鈕 aria-label 翻譯正確
- [ ] 所有按鈕文字翻譯正確

### 2. 英文翻譯
- [ ] 所有頁面英文翻譯完整
- [ ] 工具頁面翻譯正確
- [ ] 導覽列翻譯正確
- [ ] 語言切換功能正常

### 3. 翻譯鍵值
- [ ] 沒有顯示翻譯鍵名（如 `tools.title`）
- [ ] 所有翻譯都有 fallback 值
- [ ] 翻譯鍵值命名規範一致

---

## 📱 廣告配置檢查

### 1. 廣告顯示配置
- [ ] 工具頁面廣告配置正確（`adConfig.js`）
- [ ] 工具頁面內容檢查通過（`checkPageContent`）
- [ ] 工具頁面合規檢查通過（`preAdDisplayCheck`）
- [ ] 廣告橫幅在工具頁面正常顯示
- [ ] 廣告不會遮擋重要內容

### 2. 廣告位置
- [ ] 工具頁面頂部廣告正常（如果配置）
- [ ] 工具頁面底部廣告正常
- [ ] 廣告不會影響用戶體驗

---

## 🐛 已知問題檢查

### 1. 天梯提交功能
- [ ] 天梯提交功能正常運作
- [ ] 天梯提交確認對話框正常顯示
- [ ] 防背景滾動功能正常
- [ ] 沒有重複的 SubmitConfirmModal

### 2. Modal 和對話框
- [ ] 所有 Modal 正常顯示
- [ ] Modal 關閉功能正常
- [ ] Modal 背景滾動鎖定正常
- [ ] 沒有 z-index 衝突

### 3. 數據保存
- [ ] 用戶數據可以正常保存到 Firebase
- [ ] 本地數據可以正常保存
- [ ] 數據同步正常

---

## 🔧 技術檢查

### 1. 代碼質量
- [ ] 沒有 ESLint 錯誤
- [ ] 沒有 TypeScript 錯誤（如果使用）
- [ ] 沒有控制台錯誤
- [ ] 沒有控制台警告（重要）

### 2. 性能檢查
- [ ] 頁面載入速度正常
- [ ] 沒有明顯的性能問題
- [ ] 圖片載入正常
- [ ] 懶加載（Lazy Loading）正常

### 3. 瀏覽器兼容性
- [ ] Chrome 正常
- [ ] Firefox 正常
- [ ] Safari 正常（如果支持）
- [ ] Edge 正常

---

## 📦 文件完整性檢查

### 1. 核心文件
- [ ] `src/UserInfo.jsx` - 包含設定按鈕（第 1496-1517 行）
- [ ] `src/userinfo.css` - 包含設定按鈕樣式（第 2184-2234 行）
- [ ] `src/components/TrainingTools.jsx` - 工具頁面組件存在
- [ ] `src/components/TrainingTools.css` - 工具頁面樣式存在
- [ ] `src/components/BottomNavBar.jsx` - 包含工具按鈕（第 115-134 行）
- [ ] `src/App.jsx` - 包含 TrainingTools import（第 38 行）和路由（第 499-501 行）
- [ ] `src/i18n.js` - 包含 tools 翻譯（中文：1616-1655 行，英文：3572-3611 行）
- [ ] `src/pages/AdminPanel.jsx` - 管理員面板組件存在
- [ ] `src/pages/AdminPanel.css` - 管理員面板樣式存在
- [ ] `src/utils/adminSystem.js` - 管理員系統工具存在
- [ ] `src/components/FriendFeed.jsx` - 好友動態頁面組件存在
- [ ] `src/components/FriendFeed.css` - 好友動態頁面樣式存在
- [ ] `src/WelcomeSplash.jsx` - 啟動畫面組件存在
- [ ] `src/WelcomeSplash.css` - 啟動畫面樣式存在
- [ ] `src/LandingPage.jsx` - 登陸頁組件存在
- [ ] `src/LandingPage.css` - 登陸頁樣式存在
- [ ] `src/Welcome.jsx` - 歡迎頁組件存在
- [ ] `src/Welcome.css` - 歡迎頁樣式存在
- [ ] `src/PrivacyPolicy.jsx` - 隱私權政策頁面存在
- [ ] `src/Terms.jsx` - 服務條款頁面存在
- [ ] `src/About.jsx` - 關於我們頁面存在
- [ ] `src/Features.jsx` - 功能介紹頁面存在
- [ ] `src/Disclaimer.jsx` - 免責聲明頁面存在
- [ ] `src/Contact.jsx` - 聯絡我們頁面存在

### 2. 配置文件
- [ ] `src/config/adConfig.js` - 包含 `training-tools` 配置（第 50 行）
- [ ] `src/config/adConfig.js` - 包含 `checkPageContent` 檢查（第 155-159 行）
- [ ] `src/utils/adMobCompliance.js` - 包含工具頁面合規檢查（第 188-192 行）

---

## 🚀 發布前檢查

### 1. 功能完整性
- [ ] 所有核心功能正常
- [ ] 所有新功能正常
- [ ] 沒有已知的嚴重 Bug

### 2. 測試覆蓋
- [ ] 手動測試完成
- [ ] 主要流程測試通過
- [ ] 邊界情況測試通過

### 3. 文檔更新
- [ ] README 已更新（如果需要）
- [ ] 變更日誌已更新（如果需要）
- [ ] API 文檔已更新（如果需要）

### 4. 版本控制
- [ ] 所有修改已提交到 Git
- [ ] Git 提交訊息清晰
- [ ] 沒有未提交的修改

---

## 📝 快速檢查清單（每次修改後必檢）

### 關鍵功能（5 分鐘檢查）
- [ ] 設定按鈕在 UserInfo 頁面右上角顯示
- [ ] 工具頁面可以正常訪問
- [ ] 榮譽認證按鈕在 UserInfo 頁面顯示
- [ ] 天梯提交功能正常
- [ ] 底部導覽列所有 6 個按鈕正常（社群、首頁、開始評測、天梯、歷史、工具）
- [ ] 啟動畫面可以正常跳轉
- [ ] 登陸頁和歡迎頁功能正常

### 路由檢查（2 分鐘檢查）
- [ ] `/` 啟動畫面路由正常
- [ ] `/landing` 登陸頁路由正常
- [ ] `/training-tools` 路由正常
- [ ] `/settings` 路由正常
- [ ] `/verification` 路由正常
- [ ] `/admin` 管理員面板路由正常（管理員用戶）

### 翻譯檢查（2 分鐘檢查）
- [ ] 工具頁面文字顯示正確（不是鍵名）
- [ ] 所有按鈕文字顯示正確

---

## 🔍 問題排查指南

### 如果設定按鈕不見了
1. 檢查 `src/UserInfo.jsx` 第 1496-1517 行是否有設定按鈕代碼
2. 檢查 `src/userinfo.css` 第 2184 行開始是否有設定按鈕樣式
3. 檢查瀏覽器控制台是否有錯誤
4. 檢查 z-index 是否被其他元素遮擋

### 如果工具頁面顯示 404
1. 檢查 `src/App.jsx` 第 38 行是否有 `TrainingTools` import
2. 檢查 `src/App.jsx` 第 499-501 行是否有 `/training-tools` 路由
3. 檢查路由是否在 404 路由（`path="*"`）之前

### 如果翻譯顯示鍵名
1. 檢查 `src/i18n.js` 中是否有對應的翻譯
2. 檢查翻譯鍵值是否正確（注意大小寫）
3. 檢查組件中使用的翻譯鍵值是否正確
4. 清除瀏覽器緩存並重新載入

### 如果廣告不顯示
1. 檢查 `src/config/adConfig.js` 中是否有 `training-tools` 配置
2. 檢查 `checkPageContent` 函數是否包含工具頁面檢查
3. 檢查 `preAdDisplayCheck` 函數是否包含工具頁面檢查
4. 檢查瀏覽器控制台的廣告相關日誌

### 如果管理員面板無法訪問
1. 檢查 `src/pages/AdminPanel.jsx` 是否存在
2. 檢查 `src/utils/adminSystem.js` 中的 `checkAdminStatus` 函數
3. 檢查 Firebase 中用戶是否被標記為管理員
4. 檢查 `src/App.jsx` 中是否有 `/admin` 路由配置
5. 檢查非管理員用戶是否會被正確重定向

### 如果入口頁面無法正常跳轉
1. 檢查 `src/WelcomeSplash.jsx` 中的跳轉邏輯
2. 檢查 `auth.currentUser` 狀態是否正確
3. 檢查 `src/App.jsx` 中的路由配置順序
4. 檢查瀏覽器控制台是否有錯誤

### 如果好友動態頁面無法訪問
1. 檢查 `src/components/FriendFeed.jsx` 是否存在
2. 檢查 `src/App.jsx` 中是否有 `/friend-feed/:userId` 路由
3. 檢查路由參數 `userId` 是否正確傳遞
4. 檢查 Firebase 權限規則是否允許讀取用戶資料

---

## 📊 檢查記錄模板

### 檢查日期：YYYY-MM-DD
### 檢查人員：___________
### 版本號：___________

#### 檢查結果
- [ ] 所有核心功能正常
- [ ] 所有 UI/UX 正常
- [ ] 所有路由正常
- [ ] 所有翻譯正常
- [ ] 廣告配置正常

#### 發現的問題
1. ___________
2. ___________
3. ___________

#### 已修復的問題
1. ___________
2. ___________
3. ___________

#### 備註
___________

---

## 🔄 更新記錄

- **2024-XX-XX**: 創建初始檢查清單
- **2024-XX-XX**: 添加工具頁面檢查項目
- **2024-XX-XX**: 添加設定按鈕檢查項目
- **2024-XX-XX**: 補充管理員面板、入口頁面、靜態頁面、好友動態頁面檢查項目

---

## 💡 使用建議

1. **每次修改後**：使用「快速檢查清單」進行快速驗證
2. **功能完成後**：使用完整的檢查清單進行全面測試
3. **發布前**：使用「發布前檢查」確保所有項目通過
4. **遇到問題時**：參考「問題排查指南」進行診斷

---

## 📞 聯繫與支持

如有疑問或發現檢查清單遺漏的項目，請及時更新此文檔。

