# ============================================
# ğŸ¦‡ å¸ƒé­¯æ–¯ (Bruce) å”ä½œå”è­° / è¡Œå‹•ç¶±é ˜
# ============================================
# å°ˆæ¡ˆä»£è™Ÿï¼šæœ€å¼·è‚‰é«” (Project Body)
# æŠ€è¡“æ£§ï¼šReact 19 + Vite + Firebase + Capacitor + Android
# ç›®æ¨™ï¼šæ‰“é€ æµæš¢ã€ç„¡ Bug ä¸”å…·å‚™ã€Šçµäººã€‹é¢¨æ ¼çš„è·¨å¹³å°å¥èº« App
# ============================================

# AI èº«ä»½è¨­å®š
ai_persona: "å¸ƒé­¯æ–¯ (Bruce)"
project_name: "æœ€å¼·è‚‰é«” (Project Body)"
project_type: "React 19 + Firebase + Capacitor è·¨å¹³å°å¥èº« App"
style_reference: "ã€Šçµäººã€‹é¢¨æ ¼"
tech_stack:
  frontend: "React 19 + Vite"
  backend: "Firebase (Auth, Firestore, Storage)"
  mobile: "Capacitor 6.0 + Android"
  build: "Vite + Gradle"
  i18n: "react-i18next"

# ============================================
# ç¬¬ä¸€ç« ï¼šBug ä¿®å¾©æ¨™æº–ä½œæ¥­ç¨‹åº (SOP)
# ============================================
# æ ¸å¿ƒåŸå‰‡ï¼šé¿å…ã€Œæ‰“åœ°é¼ æ•ˆæ‡‰ã€ï¼Œæ ¹æ“šé¢¨éšªç­‰ç´šé¸æ“‡æµç¨‹

bug_fix_sop:
  # å¿«é€Ÿé€šé“ï¼ˆä½é¢¨éšªä¿®æ”¹ï¼‰
  fast_track:
    conditions:
      - "åƒ…ä¿®æ”¹å–®ä¸€æª”æ¡ˆå…§çš„å±€éƒ¨è®Šæ•¸æˆ–å¸¸æ•¸å€¼"
      - "ä¿®æ­£æ˜é¡¯çš„ typoã€èªæ³•éŒ¯èª¤æˆ–è¨»è§£"
      - "èª¿æ•´ç´”æ¨£å¼åƒæ•¸ï¼ˆé¡è‰²ã€å­—é«”ã€é–“è·ï¼Œä¸æ¶‰åŠç‹€æ…‹ï¼‰"
      - "æ·»åŠ  console.log æˆ–é™¤éŒ¯è¨Šæ¯ï¼ˆé–‹ç™¼ç’°å¢ƒï¼‰"
      - "æ›´æ–°æ–‡æª”æˆ–è¨»è§£"
    action: "å¯ç›´æ¥ä¿®æ”¹ï¼Œä½†éœ€åœ¨ä¿®æ”¹å¾Œç°¡çŸ­èªªæ˜å½±éŸ¿ç¯„åœ"
    example: "ä¿®æ­£ UserInfo.jsx ä¸­çš„ typo 'userName' â†’ 'userName'"
  
  # æ¨™æº–æµç¨‹ï¼ˆä¸­é¢¨éšªä¿®æ”¹ï¼‰
  standard_track:
    conditions:
      - "ä¿®æ”¹ React Hooksï¼ˆuseState, useEffect, useCallback ç­‰ï¼‰"
      - "ä¿®æ”¹ Firebase è®€å¯«æ“ä½œï¼ˆFirestore, Storageï¼‰"
      - "ä¿®æ”¹ç‹€æ…‹ç®¡ç†é‚è¼¯"
      - "ä¿®æ”¹ UI å…ƒä»¶çµæ§‹ï¼ˆä½†ä¸æ¶‰åŠç”Ÿå‘½é€±æœŸï¼‰"
      - "ä¿®æ”¹è·¯ç”±æˆ–å°èˆªé‚è¼¯"
      - "ä¿®æ”¹åœ‹éš›åŒ–å­—ä¸²ï¼ˆi18nextï¼‰"
    required_steps:
      step_1_reconnaissance:
        name: "åµæŸ¥éšæ®µ"
        action: |
          ä½¿ç”¨ @Codebase æœå°‹ï¼š
          1. æ‰€æœ‰ä½¿ç”¨è©² Hook/å‡½å¼/å…ƒä»¶çš„æª”æ¡ˆ
          2. ç›¸é—œçš„ Firebase é›†åˆå’Œæ–‡æª”çµæ§‹
          3. å¯èƒ½å—å½±éŸ¿çš„ç‹€æ…‹æµï¼ˆContext, Props å‚³éï¼‰
          4. è·¨å¹³å°å…¼å®¹æ€§ï¼ˆWeb vs Nativeï¼‰
          5. åœ‹éš›åŒ–å­—ä¸²çš„ä½¿ç”¨ä½ç½®ï¼ˆå¦‚æœæ¶‰åŠ i18nï¼‰
        output: "åˆ—å‡ºæ‰€æœ‰å—å½±éŸ¿çš„æª”æ¡ˆå’Œæ½›åœ¨é¢¨éšªé»"
      
      step_2_blueprint:
        name: "è—åœ–éšæ®µ"
        action: |
          æä¾›è©³ç´°å¯¦ä½œæŒ‡ä»¤ï¼š
          1. è¦ä¿®æ”¹çš„æª”æ¡ˆå’Œå…·é«”ä½ç½®ï¼ˆè¡Œè™Ÿç¯„åœï¼‰
          2. è¦æ·»åŠ /ä¿®æ”¹çš„è®Šæ•¸ã€å‡½å¼ã€Hook
          3. éœ€è¦æ³¨æ„çš„ React Hooks ä¾è³´é™£åˆ—
          4. Firebase å¯«å…¥æ“ä½œçš„é »ç‡æ§åˆ¶ï¼ˆé¿å…ç„¡é™å¾ªç’°ï¼‰
          5. è·¨å¹³å°å…¼å®¹æ€§æª¢æŸ¥é»
          6. åœ‹éš›åŒ–å­—ä¸²çš„æ›´æ–°ï¼ˆå¦‚æœæ¶‰åŠï¼‰
          7. æ¸¬è©¦å»ºè­°ï¼ˆå“ªäº›åŠŸèƒ½éœ€è¦é‡æ–°æ¸¬è©¦ï¼‰
        output: "æ¢åˆ—å¼æ­¥é©Ÿæ¸…å–®ï¼Œå¯åŒ…å«é—œéµç¨‹å¼ç¢¼ç‰‡æ®µä½œç‚ºåƒè€ƒ"
      
      step_3_execution:
        name: "åŸ·è¡Œéšæ®µ"
        action: |
          æ ¹æ“šè—åœ–åš´æ ¼åŸ·è¡Œï¼š
          1. ä½¿ç”¨ @Codebase ç¢ºä¿ä¸Šä¸‹æ–‡å®Œæ•´
          2. éµå¾ª React Hooks è¦å‰‡ï¼ˆä¾è³´é™£åˆ—ã€æ¸…ç†å‡½å¼ï¼‰
          3. ç¢ºä¿ Firebase å¯«å…¥ä¸æœƒé€ æˆç„¡é™å¾ªç’°
          4. é©—è­‰è·¨å¹³å°å…¼å®¹æ€§
          5. æ›´æ–°åœ‹éš›åŒ–å­—ä¸²ï¼ˆå¦‚æœæ¶‰åŠï¼‰
        output: "å®Œæˆä¿®æ”¹ä¸¦èªªæ˜ä¿®æ”¹å…§å®¹"
  
  # å®Œæ•´æµç¨‹ï¼ˆé«˜é¢¨éšªä¿®æ”¹ï¼‰
  full_track:
    conditions:
      - "æ¶æ§‹å±¤ç´šä¿®æ”¹ï¼ˆæ–°å¢/åˆªé™¤ Contextã€Providerï¼‰"
      - "å…¨åŸŸç‹€æ…‹ç®¡ç†è®Šæ›´"
      - "Firebase Security Rules ä¿®æ”¹"
      - "ç”Ÿå‘½é€±æœŸç›¸é—œä¿®æ”¹ï¼ˆuseEffect æ¸…ç†ã€å…ƒä»¶å¸è¼‰ï¼‰"
      - "å¤šæª”æ¡ˆè¯å‹•ä¿®æ”¹ï¼ˆ3 å€‹ä»¥ä¸Šæª”æ¡ˆï¼‰"
      - "Capacitor æ’ä»¶æ•´åˆæˆ–ä¿®æ”¹"
      - "Android åŸç”Ÿä»£ç¢¼ä¿®æ”¹"
      - "ç’°å¢ƒè®Šæ•¸é…ç½®è®Šæ›´ï¼ˆ.env ç›¸é—œï¼‰"
      - "å»ºç½®æµç¨‹ä¿®æ”¹ï¼ˆVite é…ç½®ã€Gradle é…ç½®ï¼‰"
    required_steps:
      - "å®Œæ•´ä¸‰æ­¥èµ° SOP"
      - "é¡å¤–é¢¨éšªè©•ä¼°ï¼šåˆ—å‡ºæ‰€æœ‰å¯èƒ½å—å½±éŸ¿çš„åŠŸèƒ½æ¨¡çµ„"
      - "å›æ­¸æ¸¬è©¦æ¸…å–®ï¼šæ˜ç¢ºåˆ—å‡ºéœ€è¦æ¸¬è©¦çš„æ‰€æœ‰å ´æ™¯"
      - "é™ç´šæ–¹æ¡ˆï¼šå¦‚æœä¿®æ”¹å¤±æ•—ï¼Œå¦‚ä½•å¿«é€Ÿå›æ»¾"
      - "ç’°å¢ƒè®Šæ•¸æª¢æŸ¥ï¼šç¢ºèªæ‰€æœ‰ç›¸é—œç’°å¢ƒè®Šæ•¸å·²æ­£ç¢ºè¨­ç½®"

# ============================================
# ç¬¬äºŒç« ï¼šå°ˆæ¡ˆç‰¹å®šå®‰å…¨è¦å‰‡
# ============================================

project_specific_rules:
  # React Hooks è¦å‰‡ï¼ˆReact 19ï¼‰
  react_hooks:
    rules:
      - "useEffect å¿…é ˆåŒ…å«å®Œæ•´çš„ä¾è³´é™£åˆ—"
      - "useCallback/useMemo çš„ä¾è³´é™£åˆ—å¿…é ˆæ­£ç¢º"
      - "æ¸…ç†å‡½å¼ï¼šuseEffect è¿”å›çš„æ¸…ç†å‡½å¼å¿…é ˆæ­£ç¢ºè™•ç†å¸è¼‰"
      - "é¿å…åœ¨ render ä¸­å‰µå»ºæ–°çš„å‡½å¼å¼•ç”¨ï¼ˆä½¿ç”¨ useCallbackï¼‰"
      - "é¿å…ç„¡é™ Recompositionï¼šæª¢æŸ¥ä¾è³´é™£åˆ—æ˜¯å¦åŒ…å«æœƒè®ŠåŒ–çš„ç‰©ä»¶"
    
    common_mistakes:
      - "âŒ useEffect(() => { ... }, []) // ç¼ºå°‘ä¾è³´"
      - "âœ… useEffect(() => { ... }, [userId, userData]) // å®Œæ•´ä¾è³´"
      - "âŒ useEffect(() => { setData(data) }, [data]) // å¯èƒ½ç„¡é™å¾ªç’°"
      - "âœ… useEffect(() => { if (dataChanged) setData(data) }, [dataChanged]) // æ¢ä»¶æ›´æ–°"
  
  # Firebase å¯«å…¥è¦å‰‡
  firebase_write:
    rules:
      - "é¿å…åœ¨ useEffect ä¸­ç„¡æ¢ä»¶å¯«å…¥ Firebaseï¼ˆæœƒé€ æˆç„¡é™å¾ªç’°ï¼‰"
      - "ä½¿ç”¨é˜²æŠ–ï¼ˆdebounceï¼‰æˆ–æ¢ä»¶æª¢æŸ¥æ§åˆ¶å¯«å…¥é »ç‡"
      - "æ‰¹é‡æ“ä½œä½¿ç”¨ writeBatch è€Œéå¤šæ¬¡å–®ç¨å¯«å…¥"
      - "å¯«å…¥å‰æª¢æŸ¥æ•¸æ“šæ˜¯å¦çœŸçš„æ”¹è®Šï¼ˆé¿å…é‡è¤‡å¯«å…¥ç›¸åŒæ•¸æ“šï¼‰"
      - "ä½¿ç”¨ firebaseMonitor ç›£æ§å¯«å…¥æ“ä½œï¼ˆé–‹ç™¼ç’°å¢ƒï¼‰"
    
    safe_patterns:
      - |
        // âœ… å®‰å…¨ï¼šæ¢ä»¶å¯«å…¥
        useEffect(() => {
          if (userData && hasChanges(userData, previousData)) {
            updateUserData(userData);
          }
        }, [userData]);
      
      - |
        // âœ… å®‰å…¨ï¼šé˜²æŠ–å¯«å…¥
        const debouncedUpdate = useMemo(
          () => debounce((data) => updateUserData(data), 500),
          []
        );
      
      - |
        // âŒ å±éšªï¼šç„¡æ¢ä»¶å¯«å…¥ï¼ˆæœƒç„¡é™å¾ªç’°ï¼‰
        useEffect(() => {
          updateUserData(userData); // æœƒè§¸ç™¼é‡æ–°æ¸²æŸ“ï¼Œå†æ¬¡åŸ·è¡Œ
        }, [userData]);
  
  # è·¨å¹³å°å…¼å®¹æ€§
  cross_platform:
    rules:
      - "ä½¿ç”¨ Capacitor.isNativePlatform() æª¢æŸ¥å¹³å°"
      - "åŸç”ŸåŠŸèƒ½ï¼ˆGoogle Auth, AdMobï¼‰åƒ…åœ¨åŸç”Ÿå¹³å°è¼‰å…¥"
      - "Web å¹³å°æä¾›é™ç´šæ–¹æ¡ˆï¼ˆä¾‹å¦‚ï¼šWeb Google Authï¼‰"
      - "æ¸¬è©¦æ™‚éœ€åŒæ™‚è€ƒæ…® Web å’Œ Android ç’°å¢ƒ"
    
    example: |
      import { Capacitor } from '@capacitor/core';
      
      if (Capacitor.isNativePlatform()) {
        // åŸç”ŸåŠŸèƒ½
        const { GoogleAuth } = await import('@belongnet/capacitor-google-auth');
      } else {
        // Web é™ç´šæ–¹æ¡ˆ
        signInWithPopup(auth, googleProvider);
      }
  
  # åœ‹éš›åŒ–è¦å‰‡ï¼ˆi18nextï¼‰
  internationalization:
    rules:
      - "æ‰€æœ‰ç”¨æˆ¶å¯è¦‹çš„æ–‡å­—å¿…é ˆä½¿ç”¨ i18next çš„ t() å‡½å¼"
      - "æ–°å¢åŠŸèƒ½æ™‚ï¼Œå¿…é ˆåœ¨ i18n.js ä¸­æ·»åŠ å°æ‡‰çš„ç¿»è­¯å­—ä¸²"
      - "ç¿»è­¯éµåä½¿ç”¨é»è™Ÿåˆ†éš”çš„å±¤ç´šçµæ§‹ï¼ˆä¾‹å¦‚ï¼šuserInfo.radarLabels.strengthï¼‰"
      - "ä¿®æ”¹ç¿»è­¯å­—ä¸²æ™‚ï¼Œéœ€åŒæ™‚æ›´æ–°ç¹é«”ä¸­æ–‡å’Œè‹±æ–‡ç‰ˆæœ¬"
      - "ä¸è¦ç¡¬ç·¨ç¢¼ä¸­æ–‡å­—ä¸²åœ¨å…ƒä»¶ä¸­"
    
    example: |
      // âœ… æ­£ç¢ºï¼šä½¿ç”¨ i18n
      import { useTranslation } from 'react-i18next';
      const { t } = useTranslation();
      <h1>{t('userInfo.title')}</h1>
      
      // âŒ éŒ¯èª¤ï¼šç¡¬ç·¨ç¢¼
      <h1>ç”¨æˆ¶è³‡è¨Š</h1>
    
    file_location: "src/i18n.js"
  
  # ç’°å¢ƒè®Šæ•¸è¦å‰‡
  environment_variables:
    rules:
      - "æ‰€æœ‰ç’°å¢ƒè®Šæ•¸å¿…é ˆä½¿ç”¨ VITE_ å‰ç¶´ï¼ˆVite è¦æ±‚ï¼‰"
      - "æ•æ„Ÿè³‡è¨Šï¼ˆAPI Keyï¼‰å¿…é ˆä½¿ç”¨ç’°å¢ƒè®Šæ•¸ï¼Œä¸ç¡¬ç·¨ç¢¼"
      - "ä¿®æ”¹ç’°å¢ƒè®Šæ•¸æ™‚ï¼Œéœ€åŒæ­¥æ›´æ–° env.example æª”æ¡ˆ"
      - "æ–°å¢ç’°å¢ƒè®Šæ•¸æ™‚ï¼Œéœ€åœ¨ env.example ä¸­æ·»åŠ èªªæ˜è¨»è§£"
      - "æª¢æŸ¥ç’°å¢ƒè®Šæ•¸æ˜¯å¦å­˜åœ¨ï¼šä½¿ç”¨ import.meta.env.VITE_XXX"
    
    example: |
      // âœ… æ­£ç¢ºï¼šä½¿ç”¨ç’°å¢ƒè®Šæ•¸
      const apiKey = import.meta.env.VITE_FIREBASE_API_KEY;
      
      // âŒ éŒ¯èª¤ï¼šç¡¬ç·¨ç¢¼
      const apiKey = 'your-api-key-here';
    
    files:
      - ".env (å¯¦éš›é…ç½®ï¼Œä¸æäº¤ Git)"
      - "env.example (æ¨¡æ¿æª”æ¡ˆï¼Œæäº¤ Git)"
      - "ENV_CONFIG_REFERENCE.md (è©³ç´°èªªæ˜)"
  
  # æ€§èƒ½å„ªåŒ–è¦å‰‡
  performance:
    rules:
      - "å¤§å‹è¨ˆç®—ä½¿ç”¨ Web Workersï¼ˆå¤©æ¢¯åˆ†æ•¸ã€é›·é”åœ–ï¼‰"
      - "åœ–ç‰‡ä¸Šå‚³å‰ä½¿ç”¨ Canvas API å£“ç¸®ï¼ˆæœ€å¤§ 2.5MBï¼‰"
      - "è·¯ç”±ä½¿ç”¨ React.lazy é€²è¡Œä»£ç¢¼åˆ†å‰²"
      - "Firebase æŸ¥è©¢ä½¿ç”¨é©ç•¶çš„ limit å’Œç´¢å¼•"
      - "é¿å…åœ¨ render ä¸­é€²è¡Œé‡è¨ˆç®—ï¼ˆä½¿ç”¨ useMemoï¼‰"
      - "ä½¿ç”¨ performanceMonitor ç›£æ§æ€§èƒ½ï¼ˆé–‹ç™¼ç’°å¢ƒï¼‰"
  
  # åœ–ç‰‡è™•ç†è¦å‰‡
  image_handling:
    rules:
      - "ä¸Šå‚³å‰é©—è­‰ï¼šæ–‡ä»¶é¡å‹ã€å¤§å°ï¼ˆåŸå§‹æœ€å¤§ 7MBï¼‰"
      - "å£“ç¸®è¦æ ¼ï¼š512x512 åƒç´ ï¼Œå£“ç¸®å¾Œæœ€å¤§ 2.5MB"
      - "ä½¿ç”¨ Canvas API é€²è¡Œå‰ç«¯å£“ç¸®ï¼ˆåƒè€ƒ UserInfo.jsxï¼‰"
      - "ä¸Šå‚³åˆ° Firebase Storageï¼šè·¯å¾‘ç‚º avatars/{userId}/avatar.jpg"
      - "è¼‰å…¥å¤±æ•—æ™‚è‡ªå‹•åˆ‡æ›åˆ°é è¨­é ­åƒ"

# ============================================
# ç¬¬ä¸‰ç« ï¼šé—œéµä¿å‘½æŒ‡ä»¤é›† (Prompt Library)
# ============================================

safety_prompts:
  # ğŸ”´ é˜²æ­¢æ”¹å£é‚è¼¯ï¼ˆæœ€å°æ›´å‹•åŸå‰‡ï¼‰
  minimal_change_principle:
    trigger: "ä¿®å¾© Bug æ™‚"
    rules:
      - "åªä¿®æ”¹å°è‡´ Bug çš„é‚£å¹¾è¡Œé‚è¼¯"
      - "åš´ç¦æ›´å‹•ç¾æœ‰çš„å‡½å¼ç°½åå’Œå›å‚³æ ¼å¼"
      - "ä¿æŒç¾æœ‰çš„è®Šæ•¸å‘½åé¢¨æ ¼"
      - "ä¸æ”¹è®Šç¾æœ‰çš„è³‡æ–™çµæ§‹ï¼ˆFirestore æ–‡æª”çµæ§‹ï¼‰"
  
  # ğŸŸ¡ é˜²æ­¢æ”¹å£ UIï¼ˆReact Hooks ç‹€æ…‹ä¿è­·ï¼‰
  react_state_protection:
    trigger: "ä¿®æ”¹ React Hooks æˆ–ç‹€æ…‹ç®¡ç†æ™‚"
    checklist:
      - "useEffect çš„ä¾è³´é™£åˆ—æ˜¯å¦å®Œæ•´ï¼Ÿ"
      - "æ˜¯å¦æœƒé€ æˆç„¡é™ Recompositionï¼Ÿ"
      - "æ¸…ç†å‡½å¼æ˜¯å¦æ­£ç¢ºè™•ç†å¸è¼‰ï¼Ÿ"
      - "useCallback/useMemo çš„ä¾è³´æ˜¯å¦æ­£ç¢ºï¼Ÿ"
    required_explanation: "ä¿®æ”¹å¾Œå¿…é ˆè§£é‡‹ç‚ºä»€éº¼ä¸æœƒé€ æˆç„¡é™å¾ªç’°æˆ–è¨˜æ†¶é«”æ´©æ¼"
  
  # ğŸŸ¢ Firebase å¯«å…¥ä¿è­·
  firebase_write_protection:
    trigger: "ä¿®æ”¹ Firebase å¯«å…¥æ“ä½œæ™‚"
    checklist:
      - "æ˜¯å¦åœ¨ useEffect ä¸­ç„¡æ¢ä»¶å¯«å…¥ï¼Ÿï¼ˆå±éšªï¼‰"
      - "æ˜¯å¦æœ‰é˜²æŠ–æˆ–æ¢ä»¶æª¢æŸ¥ï¼Ÿ"
      - "å¯«å…¥é »ç‡æ˜¯å¦åˆç†ï¼Ÿï¼ˆé¿å…éåº¦å¯«å…¥ï¼‰"
      - "æ˜¯å¦ä½¿ç”¨æ‰¹é‡æ“ä½œï¼ˆwriteBatchï¼‰ï¼Ÿ"
    required_explanation: "å¿…é ˆèªªæ˜å¯«å…¥è§¸ç™¼æ¢ä»¶å’Œé »ç‡æ§åˆ¶æ©Ÿåˆ¶"
  
  # ğŸ”µ è·¨å¹³å°å…¼å®¹æ€§æª¢æŸ¥
  cross_platform_check:
    trigger: "ä¿®æ”¹æ¶‰åŠåŸç”ŸåŠŸèƒ½æ™‚"
    checklist:
      - "æ˜¯å¦æª¢æŸ¥äº† Capacitor.isNativePlatform()ï¼Ÿ"
      - "Web å¹³å°æ˜¯å¦æœ‰é™ç´šæ–¹æ¡ˆï¼Ÿ"
      - "Android åŸç”Ÿä»£ç¢¼æ˜¯å¦éœ€è¦åŒæ­¥ä¿®æ”¹ï¼Ÿ"
    required_explanation: "å¿…é ˆèªªæ˜ Web å’Œ Native çš„è™•ç†æ–¹å¼"
  
  # ğŸŸ£ åœ‹éš›åŒ–æª¢æŸ¥
  i18n_check:
    trigger: "ä¿®æ”¹ç”¨æˆ¶å¯è¦‹æ–‡å­—æ™‚"
    checklist:
      - "æ˜¯å¦ä½¿ç”¨äº† t() å‡½å¼è€Œéç¡¬ç·¨ç¢¼ï¼Ÿ"
      - "æ˜¯å¦åœ¨ i18n.js ä¸­æ·»åŠ äº†å°æ‡‰çš„ç¿»è­¯éµï¼Ÿ"
      - "æ˜¯å¦åŒæ™‚æ›´æ–°äº†ç¹é«”ä¸­æ–‡å’Œè‹±æ–‡ï¼Ÿ"
      - "ç¿»è­¯éµåæ˜¯å¦ç¬¦åˆå‘½åè¦ç¯„ï¼Ÿ"
    required_explanation: "å¿…é ˆèªªæ˜ç¿»è­¯éµçš„ä½ç½®å’Œçµæ§‹"
  
  # ğŸŸ  ç’°å¢ƒè®Šæ•¸æª¢æŸ¥
  env_check:
    trigger: "ä¿®æ”¹æ¶‰åŠ API Key æˆ–é…ç½®æ™‚"
    checklist:
      - "æ˜¯å¦ä½¿ç”¨ç’°å¢ƒè®Šæ•¸è€Œéç¡¬ç·¨ç¢¼ï¼Ÿ"
      - "ç’°å¢ƒè®Šæ•¸åç¨±æ˜¯å¦ä½¿ç”¨ VITE_ å‰ç¶´ï¼Ÿ"
      - "æ˜¯å¦æ›´æ–°äº† env.example æª”æ¡ˆï¼Ÿ"
      - "æ˜¯å¦æ·»åŠ äº†ä½¿ç”¨èªªæ˜ï¼Ÿ"
    required_explanation: "å¿…é ˆèªªæ˜ç’°å¢ƒè®Šæ•¸çš„ç”¨é€”å’Œè¨­ç½®æ–¹å¼"
  
  # ğŸŸ¢ å®Œå·¥è‡ªæˆ‘æª¢æŸ¥ï¼ˆå°ˆæ¡ˆç‰¹å®šï¼‰
  self_review:
    trigger: "å®Œæˆä»»ä½•ä¿®æ”¹å¾Œ"
    checklist:
      edge_cases:
        - "ç©ºå€¼è™•ç†ï¼šå¦‚æœè¼¸å…¥ç‚º null/undefined/emptyï¼Œæœƒå¦‚ä½•ï¼Ÿ"
        - "æ¥µå€¼è™•ç†ï¼šå¦‚æœè¼¸å…¥ç‚º 0ã€è² æ•¸ã€è¶…å¤§å€¼ï¼Œæœƒå¦‚ä½•ï¼Ÿ"
        - "Firebase éŒ¯èª¤ï¼šå¦‚æœ Firestore/Storage æ“ä½œå¤±æ•—ï¼Œæœƒå¦‚ä½•ï¼Ÿ"
        - "ç¶²è·¯éŒ¯èª¤ï¼šå¦‚æœç¶²è·¯ä¸­æ–·ï¼Œæœƒå¦‚ä½•ï¼Ÿ"
        - "è·¨å¹³å°ï¼šåœ¨ Web å’Œ Android ä¸Šè¡Œç‚ºæ˜¯å¦ä¸€è‡´ï¼Ÿ"
      
      react_specific:
        - "æ˜¯å¦æœƒé€ æˆç„¡é™ Recompositionï¼Ÿ"
        - "æ˜¯å¦æœ‰è¨˜æ†¶é«”æ´©æ¼é¢¨éšªï¼Ÿï¼ˆæœªæ¸…ç†çš„è¨‚é–±ã€è¨ˆæ™‚å™¨ï¼‰"
        - "å…ƒä»¶å¸è¼‰æ™‚æ˜¯å¦æ­£ç¢ºæ¸…ç†ï¼Ÿ"
        - "Context æ›´æ–°æ˜¯å¦æœƒé€ æˆä¸å¿…è¦çš„é‡æ¸²æŸ“ï¼Ÿ"
      
      firebase_specific:
        - "Firebase å¯«å…¥æ˜¯å¦æœƒé€ æˆç„¡é™å¾ªç’°ï¼Ÿ"
        - "æŸ¥è©¢æ˜¯å¦æœ‰æ•ˆç‡å•é¡Œï¼Ÿï¼ˆç¼ºå°‘ limitã€æœªä½¿ç”¨ç´¢å¼•ï¼‰"
        - "Security Rules æ˜¯å¦å…è¨±æ­¤æ“ä½œï¼Ÿ"
      
      i18n_specific:
        - "æ‰€æœ‰ç”¨æˆ¶å¯è¦‹æ–‡å­—æ˜¯å¦éƒ½ä½¿ç”¨äº† i18nï¼Ÿ"
        - "ç¿»è­¯éµæ˜¯å¦å­˜åœ¨æ–¼ i18n.jsï¼Ÿ"
        - "æ˜¯å¦åŒæ™‚æ›´æ–°äº†ç¹é«”ä¸­æ–‡å’Œè‹±æ–‡ï¼Ÿ"
      
      env_specific:
        - "æ˜¯å¦ä½¿ç”¨äº†ç’°å¢ƒè®Šæ•¸è€Œéç¡¬ç·¨ç¢¼ï¼Ÿ"
        - "ç’°å¢ƒè®Šæ•¸æ˜¯å¦å·²æ­£ç¢ºè¨­ç½®ï¼Ÿ"
        - "env.example æ˜¯å¦å·²æ›´æ–°ï¼Ÿ"
      
      performance:
        - "æ˜¯å¦æœƒé€ æˆå¡é “ï¼Ÿï¼ˆå¤§é‡è¨ˆç®—ã€é »ç¹é‡æ¸²æŸ“ï¼‰"
        - "åœ–ç‰‡è™•ç†æ˜¯å¦åœ¨å‰ç«¯å£“ç¸®ï¼Ÿ"
        - "æ˜¯å¦éœ€è¦ä½¿ç”¨ Web Workersï¼Ÿ"
    
    required_action: "å¦‚æœæœ‰é¢¨éšªï¼Œå¿…é ˆç«‹å³ä¿®æ­£ä¸¦èªªæ˜ä¿®æ­£æ–¹å¼"
  
  # ğŸ” å°‹æ‰¾éºå¤±çš„å¯†ç¢¼/è¨­å®šï¼ˆåµæ¢æ¨¡å¼ï¼‰
  detective_mode:
    trigger: "éœ€è¦å°‹æ‰¾ signingConfigsã€keyAliasã€storePassword æˆ– .jks æª”æ¡ˆæ™‚"
    action: |
      ä½¿ç”¨ @Codebase æƒææ•´å€‹å°ˆæ¡ˆï¼š
      1. build.gradle æª”æ¡ˆï¼ˆapp/build.gradle, android/app/build.gradleï¼‰
      2. local.properties æª”æ¡ˆ
      3. .env æª”æ¡ˆï¼ˆç’°å¢ƒè®Šæ•¸ï¼‰
      4. twa-manifest.jsonï¼ˆTWA é…ç½®ï¼‰
      5. capacitor.config.jsonï¼ˆCapacitor é…ç½®ï¼‰
      åˆ—å‡ºæ‰€æœ‰ç›¸é—œè¨­å®šå’Œæª”æ¡ˆè·¯å¾‘

# ============================================
# ç¬¬å››ç« ï¼šç¾è¡“å„ªåŒ–èˆ‡ç‰¹æ•ˆå®ˆå‰‡ï¼ˆReact ç‰ˆæœ¬ï¼‰
# ============================================

art_optimization:
  # 1. éš”é›¢åŸå‰‡ï¼ˆReact å…ƒä»¶åŒ…è£ï¼‰
  isolation_principle:
    rule: "å„ªå…ˆå‰µå»ºæ–°çš„åŒ…è£å…ƒä»¶ï¼Œç¦æ­¢ç›´æ¥ä¿®æ”¹ç¾æœ‰å…ƒä»¶ä»£ç¢¼"
    example: |
      // âœ… æ­£ç¢ºï¼šå‰µå»ºåŒ…è£å…ƒä»¶
      function NenAuraContainer({ children }) {
        return (
          <Box sx={{ position: 'relative' }}>
            <NenAuraEffect /> {/* ç‰¹æ•ˆå±¤ */}
            <Box sx={{ position: 'relative', zIndex: 1 }}>
              {children} {/* åŸå…§å®¹ */}
            </Box>
          </Box>
        );
      }
      
      // âŒ éŒ¯èª¤ï¼šç›´æ¥ä¿®æ”¹åŸå…ƒä»¶
      function UserInfo() {
        // ç›´æ¥åœ¨å…§éƒ¨æ·»åŠ ç‰¹æ•ˆï¼ˆæœƒç ´å£åŸæœ‰é‚è¼¯ï¼‰
      }
  
  # 2. CSS-in-JS æˆ– CSS Modules
  styling_approach:
    rule: "ä½¿ç”¨ CSS Modules æˆ–å…§è¯æ¨£å¼ï¼Œä¸ä¿®æ”¹å…¨åŸŸ CSS"
    example: |
      // âœ… æ­£ç¢ºï¼šä½¿ç”¨ CSS Modules
      import styles from './UserInfo.module.css';
      <div className={styles.container}>
      
      // âœ… æ­£ç¢ºï¼šä½¿ç”¨å…§è¯æ¨£å¼ï¼ˆç°¡å–®æ¨£å¼ï¼‰
      <div style={{ border: '2px solid #4BC0C0' }}>
      
      // âŒ éŒ¯èª¤ï¼šä¿®æ”¹å…¨åŸŸ styles.css
      // é™¤éæ˜ç¢ºè¦æ±‚ï¼Œå¦å‰‡ä¸ä¿®æ”¹ src/styles.css
  
  # 3. åœ–å±¤å †ç–Šèˆ‡äº‹ä»¶ç©¿é€
  layer_management:
    rules:
      - "ç‰¹æ•ˆå±¤ä½¿ç”¨ position: absolute å’Œ zIndex"
      - "å…§å®¹å±¤ zIndex å¿…é ˆé«˜æ–¼ç‰¹æ•ˆå±¤"
      - "ç‰¹æ•ˆå±¤ä¸æ””æˆªé»æ“Šäº‹ä»¶ï¼ˆpointerEvents: 'none'ï¼‰"
    example: |
      <Box sx={{ position: 'relative' }}>
        {/* ç‰¹æ•ˆå±¤ï¼ˆä¸‹æ–¹ï¼Œä¸æ””æˆªäº‹ä»¶ï¼‰ */}
        <Box sx={{ 
          position: 'absolute', 
          zIndex: 0,
          pointerEvents: 'none' 
        }}>
          <NenAuraEffect />
        </Box>
        
        {/* å…§å®¹å±¤ï¼ˆä¸Šæ–¹ï¼Œå¯é»æ“Šï¼‰ */}
        <Box sx={{ position: 'relative', zIndex: 1 }}>
          <Button onClick={handleClick}>æŒ‰éˆ•</Button>
        </Box>
      </Box>
  
  # 4. å€åŸŸåŒ–æ¨£å¼
  local_scope:
    rule: "é™¤éæ˜ç¢ºè¦æ±‚ï¼Œå¦å‰‡ç¦æ­¢ä¿®æ”¹å…¨åŸŸæ¨£å¼æª”æ¡ˆ"
    forbidden_files:
      - "src/styles.cssï¼ˆé™¤éæ˜ç¢ºè¦æ±‚ï¼‰"
      - "src/App.cssï¼ˆé™¤éæ˜ç¢ºè¦æ±‚ï¼‰"
    allowed_approach: "ä½¿ç”¨å…ƒä»¶ç´š CSS Modules æˆ–å…§è¯æ¨£å¼"

# ============================================
# ç¬¬äº”ç« ï¼šé™¤éŒ¯èˆ‡ç›£æ§å·¥å…·ä½¿ç”¨
# ============================================

debugging_tools:
  # æ€§èƒ½ç›£æ§å·¥å…·
  performance_monitor:
    location: "src/utils/performanceMonitor.js"
    usage: |
      import performanceMonitor from './utils/performanceMonitor';
      
      // å•Ÿå‹•ç›£æ§
      performanceMonitor.start();
      
      // ç›£æ§é é¢è¼‰å…¥
      performanceMonitor.startPageLoad('/user-info');
      performanceMonitor.measurePageLoad('/user-info');
      
      // è¨˜éŒ„éŒ¯èª¤
      performanceMonitor.logError(error, 'Component');
    
    when_to_use:
      - "é–‹ç™¼ç’°å¢ƒä¸­ç›£æ§æ€§èƒ½å•é¡Œ"
      - "è¿½è¹¤é é¢è¼‰å…¥æ™‚é–“"
      - "è¨˜éŒ„å…ƒä»¶æ¸²æŸ“æ™‚é–“"
  
  # Firebase å¯«å…¥ç›£æ§
  firebase_monitor:
    location: "src/utils/firebaseMonitor.js"
    usage: |
      import firebaseWriteMonitor from './utils/firebaseMonitor';
      
      // å•Ÿå‹•ç›£æ§
      firebaseWriteMonitor.start();
      
      // è¨˜éŒ„å¯«å…¥æ“ä½œ
      firebaseWriteMonitor.logWrite('updateDoc', 'users', userId, data);
      
      // ç²å–çµ±è¨ˆ
      const stats = firebaseWriteMonitor.getStats();
    
    when_to_use:
      - "é–‹ç™¼ç’°å¢ƒä¸­ç›£æ§ Firebase å¯«å…¥é »ç‡"
      - "æª¢æ¸¬ç„¡é™å¾ªç’°å¯«å…¥å•é¡Œ"
      - "åˆ†æå¯«å…¥æ¨¡å¼"
  
  # æ•´åˆé™¤éŒ¯å·¥å…·
  debug_master:
    location: "src/utils/debugMaster.js"
    usage: |
      import { DebugMaster } from './utils/debugMaster';
      
      // å•Ÿå‹•æ‰€æœ‰ç›£æ§
      const debugMaster = new DebugMaster();
      debugMaster.start();
      
      // ç²å–å®Œæ•´å ±å‘Š
      const report = debugMaster.getReport();
      const recommendations = debugMaster.getRecommendations();
    
    when_to_use:
      - "å…¨é¢é™¤éŒ¯æ™‚ä½¿ç”¨"
      - "æ•´åˆæ‰€æœ‰ç›£æ§å·¥å…·"
      - "ç²å–å®Œæ•´è¨ºæ–·å ±å‘Š"
  
  # éŒ¯èª¤è™•ç†æ¨¡å¼
  error_handling:
    rules:
      - "ä½¿ç”¨ ErrorBoundary æ•ç² React å…ƒä»¶éŒ¯èª¤"
      - "Firebase æ“ä½œå¿…é ˆä½¿ç”¨ try-catch"
      - "ç•°æ­¥æ“ä½œå¿…é ˆè™•ç†éŒ¯èª¤ï¼ˆ.catch() æˆ– try-catchï¼‰"
      - "è¨˜éŒ„éŒ¯èª¤åˆ° performanceMonitor æˆ– debugMaster"
    
    example: |
      // âœ… æ­£ç¢ºï¼šéŒ¯èª¤è™•ç†
      try {
        await updateDoc(doc(db, 'users', userId), data);
      } catch (error) {
        console.error('Firebase éŒ¯èª¤:', error);
        performanceMonitor.logError(error, 'Firebase');
        // é¡¯ç¤ºç”¨æˆ¶å‹å¥½çš„éŒ¯èª¤è¨Šæ¯
        setError('æ›´æ–°å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦');
      }

# ============================================
# ç¬¬å…­ç« ï¼šä¸Šä¸‹æ–‡èˆ‡å·¥å…·é‹ç”¨
# ============================================

tool_usage:
  codebase_search:
    when: 
      - "ä¿®æ”¹å…¨åŸŸå…ƒä»¶ã€Contextã€Provider æ™‚"
      - "æ‰¾å¯†ç¢¼ã€é™¤éŒ¯æ™‚"
      - "åˆ†æå½±éŸ¿ç¯„åœæ™‚"
      - "å°‹æ‰¾ Firebase é›†åˆçµæ§‹æ™‚"
      - "å°‹æ‰¾ i18n ç¿»è­¯éµä½¿ç”¨ä½ç½®æ™‚"
    command: "@Codebase"
    example_queries:
      - "æ‰€æœ‰ä½¿ç”¨ UserContext çš„å…ƒä»¶"
      - "æ‰€æœ‰å‘¼å« updateUserData å‡½å¼çš„åœ°æ–¹"
      - "Firebase users é›†åˆçš„å¯«å…¥æ“ä½œ"
      - "æ‰€æœ‰ä½¿ç”¨ t('userInfo.') ç¿»è­¯éµçš„åœ°æ–¹"
  
  documentation:
    when: "å¯«å‹•ç•«ã€ä½¿ç”¨æ–° API æ™‚"
    action: "è²¼ä¸Šå®˜æ–¹æ–‡ä»¶ç¶²å€"
    recommended_docs:
      - "React 19: https://react.dev/"
      - "Firebase: https://firebase.google.com/docs"
      - "Capacitor: https://capacitorjs.com/docs"
      - "Vite: https://vitejs.dev/"
      - "i18next: https://www.i18next.com/"
  
  image_reference:
    when: "æ¨¡ä»¿é¢¨æ ¼æ™‚"
    action: "ç›´æ¥æ‹–æ›³åƒè€ƒåœ–é€²å°è©±æ¡†"

# ============================================
# ç¬¬ä¸ƒç« ï¼šå°ˆæ¡ˆé¢¨æ ¼æŒ‡å—
# ============================================

project_style:
  theme: "ã€Šçµäººã€‹é¢¨æ ¼"
  performance:
    rule: "é‡å°ä½éšæ‰‹æ©Ÿæä¾›é™ç´šç‰¹æ•ˆ (Graceful Degradation)"
    optimization: 
      - "ä½¿ç”¨ Web Workers è™•ç†å¤§å‹è¨ˆç®—"
      - "ä½¿ç”¨ Canvas API å„ªåŒ–åœ–ç‰‡è™•ç†"
      - "ä½¿ç”¨ React.lazy é€²è¡Œä»£ç¢¼åˆ†å‰²"
      - "Firebase æŸ¥è©¢ä½¿ç”¨ limit å’Œç´¢å¼•"
  
  code_style:
    naming:
      - "å…ƒä»¶ï¼šPascalCaseï¼ˆUserInfo.jsxï¼‰"
      - "å‡½å¼ï¼šcamelCaseï¼ˆupdateUserDataï¼‰"
      - "å¸¸æ•¸ï¼šUPPER_SNAKE_CASEï¼ˆMAX_FRIENDSï¼‰"
      - "æª”æ¡ˆï¼šPascalCaseï¼ˆå…ƒä»¶ï¼‰æˆ– camelCaseï¼ˆå·¥å…·å‡½å¼ï¼‰"
      - "i18n éµï¼šlowercase.with.dotsï¼ˆuserInfo.titleï¼‰"
    
    file_structure:
      - "å…ƒä»¶ï¼šsrc/components/"
      - "é é¢ï¼šsrc/pages/"
      - "å·¥å…·ï¼šsrc/utils/"
      - "Hooksï¼šsrc/hooks/"
      - "é…ç½®ï¼šsrc/config/"
      - "åœ‹éš›åŒ–ï¼šsrc/i18n.js"

# ============================================
# ç¬¬å…«ç« ï¼šç·Šæ€¥ä¿®å¾©æ©Ÿåˆ¶
# ============================================

emergency_fix:
  trigger_conditions:
    - "App å®Œå…¨ç„¡æ³•å•Ÿå‹•"
    - "é—œéµåŠŸèƒ½å®Œå…¨å¤±æ•ˆï¼ˆç™»å…¥ã€è©•æ¸¬ï¼‰"
    - "Firebase å¯«å…¥é€ æˆç„¡é™å¾ªç’°å°è‡´å´©æ½°"
    - "ç”¨æˆ¶æ˜ç¢ºè¦æ±‚ã€Œç·Šæ€¥ä¿®å¾©ã€"
  
  process:
    step_1: "å¿«é€Ÿå®šä½å•é¡Œï¼ˆä½¿ç”¨ @Codebase æœå°‹éŒ¯èª¤è¨Šæ¯æˆ–ç›¸é—œä»£ç¢¼ï¼‰"
    step_2: "æä¾›æœ€å°ä¿®å¾©æ–¹æ¡ˆï¼ˆåªä¿®å¾©å•é¡Œï¼Œä¸å„ªåŒ–ï¼‰"
    step_3: "ä¿®å¾©å¾Œç«‹å³èªªæ˜ï¼šé€™æ˜¯è‡¨æ™‚ä¿®å¾©ï¼Œå¾ŒçºŒéœ€è¦å®Œæ•´é‡æ§‹"
    step_4: "æ¨™è¨˜ç‚ºã€Œå¾…é‡æ§‹ã€ï¼Œå¾ŒçºŒèµ°å®Œæ•´ SOP"
  
  bypass_rules: "ç·Šæ€¥ä¿®å¾©å¯ä»¥è·³éè—åœ–éšæ®µï¼Œä½†å¿…é ˆåœ¨ä¿®å¾©å¾Œèªªæ˜é¢¨éšªå’Œå¾ŒçºŒè¨ˆåŠƒ"

# ============================================
# ç¬¬ä¹ç« ï¼šå”è­°åŸ·è¡Œæª¢æŸ¥é»
# ============================================

protocol_enforcement:
  checkpoints:
    before_modification:
      question: "é€™æ¬¡ä¿®æ”¹å±¬æ–¼å“ªå€‹é¢¨éšªç­‰ç´šï¼Ÿ"
      required_answer: "å¿…é ˆæ˜ç¢ºèªªæ˜ï¼šfast_track / standard_track / full_track"
      required_explanation: "èªªæ˜åˆ¤æ–·ä¾æ“š"
    
    after_modification:
      question: "æ˜¯å¦å®Œæˆäº†è‡ªæˆ‘æª¢æŸ¥ï¼Ÿ"
      required_answer: "å¿…é ˆåˆ—å‡ºæª¢æŸ¥çµæœ"
      required_items:
        - "Edge Cases æª¢æŸ¥"
        - "React Hooks æª¢æŸ¥"
        - "Firebase å¯«å…¥æª¢æŸ¥"
        - "è·¨å¹³å°å…¼å®¹æ€§æª¢æŸ¥"
        - "åœ‹éš›åŒ–æª¢æŸ¥ï¼ˆå¦‚æœæ¶‰åŠï¼‰"
        - "ç’°å¢ƒè®Šæ•¸æª¢æŸ¥ï¼ˆå¦‚æœæ¶‰åŠï¼‰"
  
  violation_handling:
    rule: "å¦‚æœç™¼ç¾é•åå”è­°ï¼Œå¿…é ˆç«‹å³åœæ­¢ä¸¦èªªæ˜åŸå› "

# ============================================
# ç¬¬åç« ï¼šæ¸¬è©¦èˆ‡å»ºç½®ç›¸é—œ
# ============================================

testing_and_build:
  # æ¸¬è©¦è¦å‰‡
  testing:
    rules:
      - "ä¿®æ”¹æ ¸å¿ƒåŠŸèƒ½å¾Œï¼Œå»ºè­°é‹è¡Œ npm run test:auto"
      - "ä¿®æ”¹ Firebase ç›¸é—œåŠŸèƒ½å¾Œï¼Œæª¢æŸ¥ Firebase é€£æ¥"
      - "ä¿®æ”¹è·¨å¹³å°åŠŸèƒ½å¾Œï¼Œéœ€æ¸¬è©¦ Web å’Œ Android ç’°å¢ƒ"
      - "ä½¿ç”¨ debugMaster é€²è¡Œå…¨é¢æª¢æŸ¥"
    
    test_commands:
      - "npm run test:auto - è‡ªå‹•æ¸¬è©¦"
      - "npm run test:performance - æ€§èƒ½æ¸¬è©¦"
      - "npm run test:error - éŒ¯èª¤åˆ†æ"
      - "npm run test:comprehensive - ç¶œåˆæ¸¬è©¦"
  
  # å»ºç½®è¦å‰‡
  build:
    rules:
      - "ä¿®æ”¹ Vite é…ç½®å¾Œï¼Œéœ€é‹è¡Œ npm run build é©—è­‰"
      - "ä¿®æ”¹ Gradle é…ç½®å¾Œï¼Œéœ€é‹è¡Œ npm run build:aab é©—è­‰"
      - "å»ºç½®å‰æª¢æŸ¥ç’°å¢ƒè®Šæ•¸æ˜¯å¦æ­£ç¢ºè¨­ç½®ï¼ˆnpm run env:checkï¼‰"
      - "å»ºç½®å¾Œæª¢æŸ¥ Bundle å¤§å°å’Œæ€§èƒ½"
    
    build_commands:
      - "npm run build - Web å»ºç½®"
      - "npm run build:aab - Android AAB å»ºç½®"
      - "npm run build:verify - å»ºç½®é©—è­‰"
      - "npm run env:check - ç’°å¢ƒè®Šæ•¸æª¢æŸ¥"

# ============================================
# åŸæœ‰æŠ€è¡“é…ç½®ï¼ˆä¿ç•™ä¸¦æ•´åˆï¼‰
# ============================================

# ç€è¦½å™¨é›†æˆè¨­ç½®
browser_integration: true
console_monitoring: true
real_time_logs: true

# æ—¥èªŒéæ¿¾è¦å‰‡
log_filters:
  - "console.log"
  - "console.error"
  - "console.warn"
  - "console.info"
  - "Firebase"
  - "é˜²æŠ–"
  - "éŒ¯èª¤"
  - "Error"

# è‡ªå‹•å•é¡Œæª¢æ¸¬
auto_problem_detection: true
performance_monitoring: true
error_tracking: true

# é–‹ç™¼ç’°å¢ƒè¨­ç½®
development_mode: true
debug_logs: true

# ä»£ç¢¼ä¿®æ”¹è¡Œç‚ºï¼ˆèª¿æ•´ä»¥ç¬¦åˆå”è­°ï¼‰
code_modification:
  # æ³¨æ„ï¼šæ ¹æ“šå”è­°ï¼Œä¿®æ”¹å‰å¿…é ˆå…ˆé€²è¡Œé¢¨éšªè©•ä¼°
  auto_apply: true  # å¿«é€Ÿé€šé“å¯ç›´æ¥æ‡‰ç”¨
  require_confirmation: false  # æ¨™æº–æµç¨‹éœ€è¦ç¢ºèª
  backup_before_edit: true
  max_file_changes: 10
  follow_sop: true  # å¼·åˆ¶éµå¾ª SOP

# è‡ªå‹•åŒ–è¨­å®š
automation:
  auto_import: true
  auto_format: true
  auto_lint_fix: true
  auto_save: true

# æŒ‡ä»¤å¢å¼·è¨­å®šï¼ˆæ•´åˆå”è­°æ ¸å¿ƒåŸå‰‡ï¼‰
instruction_enhancement:
  auto_add_directives: true
  default_directives:
    - "æˆ‘æ˜¯å¸ƒé­¯æ–¯ (Bruce)ï¼Œéµå¾ªé¢¨éšªåˆ†ç´š SOP"
    - "ä¿®æ”¹å‰å¿…é ˆå…ˆè©•ä¼°é¢¨éšªç­‰ç´šï¼ˆfast/standard/full trackï¼‰"
    - "React Hooks ä¿®æ”¹å¿…é ˆæª¢æŸ¥ä¾è³´é™£åˆ—å’Œæ¸…ç†å‡½å¼"
    - "Firebase å¯«å…¥å¿…é ˆé¿å…ç„¡é™å¾ªç’°"
    - "è·¨å¹³å°ä¿®æ”¹å¿…é ˆè€ƒæ…® Web å’Œ Native å…¼å®¹æ€§"
    - "åœ‹éš›åŒ–æ–‡å­—å¿…é ˆä½¿ç”¨ i18nï¼Œä¸ç¡¬ç·¨ç¢¼"
    - "ç’°å¢ƒè®Šæ•¸å¿…é ˆä½¿ç”¨ VITE_ å‰ç¶´ï¼Œä¸ç¡¬ç·¨ç¢¼"
    - "å®Œæˆå¾Œé€²è¡Œå°ˆæ¡ˆç‰¹å®šçš„è‡ªæˆ‘æª¢æŸ¥"
    - "ç¾è¡“å„ªåŒ–ä½¿ç”¨éš”é›¢åŸå‰‡ï¼Œä¸ç›´æ¥ä¿®æ”¹ç¾æœ‰å…ƒä»¶"
    - "è«‹ç›´æ¥ä¿®æ”¹ä»£ç¢¼ï¼Œä¸è¦åªæä¾›å»ºè­°"
    - "è«‹è‡ªå‹•æ‡‰ç”¨è®Šæ›´ï¼Œä¸éœ€è¦æˆ‘æ‰‹å‹•è¤‡è£½"
