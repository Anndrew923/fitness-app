var e1=Object.defineProperty;var t1=(u,i,o)=>i in u?e1(u,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):u[i]=o;var Sh=(u,i,o)=>t1(u,typeof i!="symbol"?i+"":i,o);import{a as n1,b as a1,g as l1,r as R,u as Rl,d as qn,B as i1,e as s1,f as It,N as So,L as r1,R as c1}from"./react-vendor-BDjDj9br.js";import{_ as o1,C as u1,r as Nh,S as d1,a as f1,F as h1,g as m1,b as mr,c as g1,d as p1,i as l0,p as v1,u as x1,e as y1,f as b1,h as S1,j as N1,G as i0,k as s0,l as hn,m as r0,s as zi,n as Lo,o as yt,q as Dt,w as st,t as _o,v as Li,x as Ht,y as E1,z as A1,A as Al,B as j1,D as T1,E as No,H as B1,I as w1}from"./firebase-Di_elNVp.js";import{P as Re,R as ur,a as c0,b as o0,c as u0,d as d0,e as f0,B as Eh,C as Ah,X as jh,Y as Th,T as Bh,L as R1,f as wh}from"./charts-4JPOcrvE.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&c(g)}).observe(document,{childList:!0,subtree:!0});function o(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function c(d){if(d.ep)return;d.ep=!0;const h=o(d);fetch(d.href,h)}})();var Eo={exports:{}},Oi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rh;function _1(){if(Rh)return Oi;Rh=1;var u=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function o(c,d,h){var g=null;if(h!==void 0&&(g=""+h),d.key!==void 0&&(g=""+d.key),"key"in d){h={};for(var p in d)p!=="key"&&(h[p]=d[p])}else h=d;return d=h.ref,{$$typeof:u,type:c,key:g,ref:d!==void 0?d:null,props:h}}return Oi.Fragment=i,Oi.jsx=o,Oi.jsxs=o,Oi}var _h;function O1(){return _h||(_h=1,Eo.exports=_1()),Eo.exports}var s=O1(),Ao={exports:{}},Di={},jo={exports:{}},To={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oh;function D1(){return Oh||(Oh=1,function(u){function i(S,G){var ee=S.length;S.push(G);e:for(;0<ee;){var ye=ee-1>>>1,Ee=S[ye];if(0<d(Ee,G))S[ye]=G,S[ee]=Ee,ee=ye;else break e}}function o(S){return S.length===0?null:S[0]}function c(S){if(S.length===0)return null;var G=S[0],ee=S.pop();if(ee!==G){S[0]=ee;e:for(var ye=0,Ee=S.length,me=Ee>>>1;ye<me;){var de=2*(ye+1)-1,pe=S[de],_e=de+1,Xe=S[_e];if(0>d(pe,ee))_e<Ee&&0>d(Xe,pe)?(S[ye]=Xe,S[_e]=ee,ye=_e):(S[ye]=pe,S[de]=ee,ye=de);else if(_e<Ee&&0>d(Xe,ee))S[ye]=Xe,S[_e]=ee,ye=_e;else break e}}return G}function d(S,G){var ee=S.sortIndex-G.sortIndex;return ee!==0?ee:S.id-G.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;u.unstable_now=function(){return h.now()}}else{var g=Date,p=g.now();u.unstable_now=function(){return g.now()-p}}var v=[],x=[],y=1,N=null,w=3,A=!1,D=!1,L=!1,te=!1,q=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function J(S){for(var G=o(x);G!==null;){if(G.callback===null)c(x);else if(G.startTime<=S)c(x),G.sortIndex=G.expirationTime,i(v,G);else break;G=o(x)}}function H(S){if(L=!1,J(S),!D)if(o(v)!==null)D=!0,U||(U=!0,he());else{var G=o(x);G!==null&&W(H,G.startTime-S)}}var U=!1,$=-1,Z=5,ne=-1;function ae(){return te?!0:!(u.unstable_now()-ne<Z)}function F(){if(te=!1,U){var S=u.unstable_now();ne=S;var G=!0;try{e:{D=!1,L&&(L=!1,Q($),$=-1),A=!0;var ee=w;try{t:{for(J(S),N=o(v);N!==null&&!(N.expirationTime>S&&ae());){var ye=N.callback;if(typeof ye=="function"){N.callback=null,w=N.priorityLevel;var Ee=ye(N.expirationTime<=S);if(S=u.unstable_now(),typeof Ee=="function"){N.callback=Ee,J(S),G=!0;break t}N===o(v)&&c(v),J(S)}else c(v);N=o(v)}if(N!==null)G=!0;else{var me=o(x);me!==null&&W(H,me.startTime-S),G=!1}}break e}finally{N=null,w=ee,A=!1}G=void 0}}finally{G?he():U=!1}}}var he;if(typeof k=="function")he=function(){k(F)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,le=P.port2;P.port1.onmessage=F,he=function(){le.postMessage(null)}}else he=function(){q(F,0)};function W(S,G){$=q(function(){S(u.unstable_now())},G)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(S){S.callback=null},u.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<S?Math.floor(1e3/S):5},u.unstable_getCurrentPriorityLevel=function(){return w},u.unstable_next=function(S){switch(w){case 1:case 2:case 3:var G=3;break;default:G=w}var ee=w;w=G;try{return S()}finally{w=ee}},u.unstable_requestPaint=function(){te=!0},u.unstable_runWithPriority=function(S,G){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var ee=w;w=S;try{return G()}finally{w=ee}},u.unstable_scheduleCallback=function(S,G,ee){var ye=u.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ye+ee:ye):ee=ye,S){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=ee+Ee,S={id:y++,callback:G,priorityLevel:S,startTime:ee,expirationTime:Ee,sortIndex:-1},ee>ye?(S.sortIndex=ee,i(x,S),o(v)===null&&S===o(x)&&(L?(Q($),$=-1):L=!0,W(H,ee-ye))):(S.sortIndex=Ee,i(v,S),D||A||(D=!0,U||(U=!0,he()))),S},u.unstable_shouldYield=ae,u.unstable_wrapCallback=function(S){var G=w;return function(){var ee=w;w=G;try{return S.apply(this,arguments)}finally{w=ee}}}}(To)),To}var Dh;function U1(){return Dh||(Dh=1,jo.exports=D1()),jo.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uh;function M1(){if(Uh)return Di;Uh=1;var u=U1(),i=n1(),o=a1();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function g(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(h(e)!==e)throw Error(c(188))}function v(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(c(188));return t!==e?null:e}for(var n=e,a=t;;){var l=n.return;if(l===null)break;var r=l.alternate;if(r===null){if(a=l.return,a!==null){n=a;continue}break}if(l.child===r.child){for(r=l.child;r;){if(r===n)return p(l),e;if(r===a)return p(l),t;r=r.sibling}throw Error(c(188))}if(n.return!==a.return)n=l,a=r;else{for(var f=!1,m=l.child;m;){if(m===n){f=!0,n=l,a=r;break}if(m===a){f=!0,a=l,n=r;break}m=m.sibling}if(!f){for(m=r.child;m;){if(m===n){f=!0,n=r,a=l;break}if(m===a){f=!0,a=r,n=l;break}m=m.sibling}if(!f)throw Error(c(189))}}if(n.alternate!==a)throw Error(c(190))}if(n.tag!==3)throw Error(c(188));return n.stateNode.current===n?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,N=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),k=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function he(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var P=Symbol.for("react.client.reference");function le(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===P?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case te:return"Profiler";case L:return"StrictMode";case H:return"Suspense";case U:return"SuspenseList";case ne:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case k:return(e.displayName||"Context")+".Provider";case Q:return(e._context.displayName||"Context")+".Consumer";case J:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return t=e.displayName||null,t!==null?t:le(e.type)||"Memo";case Z:t=e._payload,e=e._init;try{return le(e(t))}catch{}}return null}var W=Array.isArray,S=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ye=[],Ee=-1;function me(e){return{current:e}}function de(e){0>Ee||(e.current=ye[Ee],ye[Ee]=null,Ee--)}function pe(e,t){Ee++,ye[Ee]=e.current,e.current=t}var _e=me(null),Xe=me(null),Qe=me(null),dt=me(null);function at(e,t){switch(pe(Qe,t),pe(Xe,e),pe(_e,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Zf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Zf(t),e=Jf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}de(_e),pe(_e,e)}function ft(){de(_e),de(Xe),de(Qe)}function qt(e){e.memoizedState!==null&&pe(dt,e);var t=_e.current,n=Jf(t,e.type);t!==n&&(pe(Xe,e),pe(_e,n))}function wt(e){Xe.current===e&&(de(_e),de(Xe)),dt.current===e&&(de(dt),Ti._currentValue=ee)}var Y=Object.prototype.hasOwnProperty,K=u.unstable_scheduleCallback,ce=u.unstable_cancelCallback,Se=u.unstable_shouldYield,Ae=u.unstable_requestPaint,oe=u.unstable_now,V=u.unstable_getCurrentPriorityLevel,C=u.unstable_ImmediatePriority,X=u.unstable_UserBlockingPriority,fe=u.unstable_NormalPriority,Ye=u.unstable_LowPriority,Ze=u.unstable_IdlePriority,bt=u.log,ht=u.unstable_setDisableYieldValue,rt=null,mt=null;function sn(e){if(typeof bt=="function"&&ht(e),mt&&typeof mt.setStrictMode=="function")try{mt.setStrictMode(rt,e)}catch{}}var Tt=Math.clz32?Math.clz32:Fi,Vi=Math.log,Yi=Math.LN2;function Fi(e){return e>>>=0,e===0?32:31-(Vi(e)/Yi|0)|0}var va=256,xa=4194304;function gn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ya(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var l=0,r=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var m=a&134217727;return m!==0?(a=m&~r,a!==0?l=gn(a):(f&=m,f!==0?l=gn(f):n||(n=m&~e,n!==0&&(l=gn(n))))):(m=a&~r,m!==0?l=gn(m):f!==0?l=gn(f):n||(n=a&~e,n!==0&&(l=gn(n)))),l===0?0:t!==0&&t!==l&&(t&r)===0&&(r=l&-l,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:l}function Gn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Xi(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _l(){var e=va;return va<<=1,(va&4194048)===0&&(va=256),e}function Ol(){var e=xa;return xa<<=1,(xa&62914560)===0&&(xa=4194304),e}function Ia(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Qi(e,t,n,a,l,r){var f=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var m=e.entanglements,b=e.expirationTimes,B=e.hiddenUpdates;for(n=f&~n;0<n;){var M=31-Tt(n),I=1<<M;m[M]=0,b[M]=-1;var _=B[M];if(_!==null)for(B[M]=null,M=0;M<_.length;M++){var O=_[M];O!==null&&(O.lane&=-536870913)}n&=~I}a!==0&&Dl(e,a,0),r!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=r&~(f&~t))}function Dl(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Tt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&4194090}function Ul(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Tt(n),l=1<<a;l&t|e[a]&t&&(e[a]|=t),n&=~l}}function Ha(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ml(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:gh(e.type))}function Ki(e,t){var n=G.p;try{return G.p=e,t()}finally{G.p=n}}var rn=Math.random().toString(36).slice(2),ct="__reactFiber$"+rn,St="__reactProps$"+rn,An="__reactContainer$"+rn,Ga="__reactEvents$"+rn,Zi="__reactListeners$"+rn,Ji="__reactHandles$"+rn,Cl="__reactResources$"+rn,Yn="__reactMarker$"+rn;function Va(e){delete e[ct],delete e[St],delete e[Ga],delete e[Zi],delete e[Ji]}function jn(e){var t=e[ct];if(t)return t;for(var n=e.parentNode;n;){if(t=n[An]||n[ct]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=eh(e);e!==null;){if(n=e[ct])return n;e=eh(e)}return t}e=n,n=e.parentNode}return null}function Tn(e){if(e=e[ct]||e[An]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Fn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function ie(e){var t=e[Cl];return t||(t=e[Cl]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ve(e){e[Yn]=!0}var Ce=new Set,Rt={};function ke(e,t){et(e,t),et(e+"Capture",t)}function et(e,t){for(Rt[e]=t,e=0;e<t.length;e++)Ce.add(t[e])}var Ut=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cn={},Xn={};function Mt(e){return Y.call(Xn,e)?!0:Y.call(cn,e)?!1:Ut.test(e)?Xn[e]=!0:(cn[e]=!0,!1)}function pn(e,t,n){if(Mt(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ya(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function on(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}var zl,$i;function Qn(e){if(zl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);zl=t&&t[1]||"",$i=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zl+e+$i}var Ll=!1;function kl(e,t){if(!e||Ll)return"";Ll=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(O){var _=O}Reflect.construct(e,[],I)}else{try{I.call()}catch(O){_=O}e.call(I.prototype)}}else{try{throw Error()}catch(O){_=O}(I=e())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(O){if(O&&_&&typeof O.stack=="string")return[O.stack,_.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=a.DetermineComponentFrameRoot(),f=r[0],m=r[1];if(f&&m){var b=f.split(`
`),B=m.split(`
`);for(l=a=0;a<b.length&&!b[a].includes("DetermineComponentFrameRoot");)a++;for(;l<B.length&&!B[l].includes("DetermineComponentFrameRoot");)l++;if(a===b.length||l===B.length)for(a=b.length-1,l=B.length-1;1<=a&&0<=l&&b[a]!==B[l];)l--;for(;1<=a&&0<=l;a--,l--)if(b[a]!==B[l]){if(a!==1||l!==1)do if(a--,l--,0>l||b[a]!==B[l]){var M=`
`+b[a].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),M}while(1<=a&&0<=l);break}}}finally{Ll=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Qn(n):""}function pr(e){switch(e.tag){case 26:case 27:case 5:return Qn(e.type);case 16:return Qn("Lazy");case 13:return Qn("Suspense");case 19:return Qn("SuspenseList");case 0:case 15:return kl(e.type,!1);case 11:return kl(e.type.render,!1);case 1:return kl(e.type,!0);case 31:return Qn("Activity");default:return""}}function Jt(e){try{var t="";do t+=pr(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vo(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Z0(e){var t=Vo(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(f){a=""+f,r.call(this,f)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(f){a=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wi(e){e._valueTracker||(e._valueTracker=Z0(e))}function Yo(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=Vo(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Pi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var J0=/[\n"\\]/g;function $t(e){return e.replace(J0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function vr(e,t,n,a,l,r,f,m){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+gt(t)):e.value!==""+gt(t)&&(e.value=""+gt(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?xr(e,f,gt(t)):n!=null?xr(e,f,gt(n)):a!=null&&e.removeAttribute("value"),l==null&&r!=null&&(e.defaultChecked=!!r),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.name=""+gt(m):e.removeAttribute("name")}function Fo(e,t,n,a,l,r,f,m){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null))return;n=n!=null?""+gt(n):"",t=t!=null?""+gt(t):n,m||t===e.value||(e.value=t),e.defaultValue=t}a=a??l,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=m?e.checked:!!a,e.defaultChecked=!!a,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f)}function xr(e,t,n){t==="number"&&Pi(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Fa(e,t,n,a){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&a&&(e[n].defaultSelected=!0)}else{for(n=""+gt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,a&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Xo(e,t,n){if(t!=null&&(t=""+gt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+gt(n):""}function Qo(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(c(92));if(W(a)){if(1<a.length)throw Error(c(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=gt(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a)}function Xa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var $0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ko(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||$0.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Zo(e,t,n){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var l in t)a=t[l],t.hasOwnProperty(l)&&n[l]!==a&&Ko(e,l,a)}else for(var r in t)t.hasOwnProperty(r)&&Ko(e,r,t[r])}function yr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var W0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),P0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function es(e){return P0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var br=null;function Sr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qa=null,Ka=null;function Jo(e){var t=Tn(e);if(t&&(e=t.stateNode)){var n=e[St]||null;e:switch(e=t.stateNode,t.type){case"input":if(vr(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+$t(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var l=a[St]||null;if(!l)throw Error(c(90));vr(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Yo(a)}break e;case"textarea":Xo(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Fa(e,!!n.multiple,t,!1)}}}var Nr=!1;function $o(e,t,n){if(Nr)return e(t,n);Nr=!0;try{var a=e(t);return a}finally{if(Nr=!1,(Qa!==null||Ka!==null)&&(Is(),Qa&&(t=Qa,e=Ka,Ka=Qa=null,Jo(t),e)))for(t=0;t<e.length;t++)Jo(e[t])}}function Il(e,t){var n=e.stateNode;if(n===null)return null;var a=n[St]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(c(231,t,typeof n));return n}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Er=!1;if(Bn)try{var Hl={};Object.defineProperty(Hl,"passive",{get:function(){Er=!0}}),window.addEventListener("test",Hl,Hl),window.removeEventListener("test",Hl,Hl)}catch{Er=!1}var Kn=null,Ar=null,ts=null;function Wo(){if(ts)return ts;var e,t=Ar,n=t.length,a,l="value"in Kn?Kn.value:Kn.textContent,r=l.length;for(e=0;e<n&&t[e]===l[e];e++);var f=n-e;for(a=1;a<=f&&t[n-a]===l[r-a];a++);return ts=l.slice(e,1<a?1-a:void 0)}function ns(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function as(){return!0}function Po(){return!1}function Ct(e){function t(n,a,l,r,f){this._reactName=n,this._targetInst=l,this.type=a,this.nativeEvent=r,this.target=f,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(n=e[m],this[m]=n?n(r):r[m]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?as:Po,this.isPropagationStopped=Po,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),t}var ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ls=Ct(ba),ql=y({},ba,{view:0,detail:0}),em=Ct(ql),jr,Tr,Gl,is=y({},ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gl&&(Gl&&e.type==="mousemove"?(jr=e.screenX-Gl.screenX,Tr=e.screenY-Gl.screenY):Tr=jr=0,Gl=e),jr)},movementY:function(e){return"movementY"in e?e.movementY:Tr}}),eu=Ct(is),tm=y({},is,{dataTransfer:0}),nm=Ct(tm),am=y({},ql,{relatedTarget:0}),Br=Ct(am),lm=y({},ba,{animationName:0,elapsedTime:0,pseudoElement:0}),im=Ct(lm),sm=y({},ba,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rm=Ct(sm),cm=y({},ba,{data:0}),tu=Ct(cm),om={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},um={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dm[e])?!!t[e]:!1}function wr(){return fm}var hm=y({},ql,{key:function(e){if(e.key){var t=om[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ns(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?um[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wr,charCode:function(e){return e.type==="keypress"?ns(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ns(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mm=Ct(hm),gm=y({},is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nu=Ct(gm),pm=y({},ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wr}),vm=Ct(pm),xm=y({},ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),ym=Ct(xm),bm=y({},is,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sm=Ct(bm),Nm=y({},ba,{newState:0,oldState:0}),Em=Ct(Nm),Am=[9,13,27,32],Rr=Bn&&"CompositionEvent"in window,Vl=null;Bn&&"documentMode"in document&&(Vl=document.documentMode);var jm=Bn&&"TextEvent"in window&&!Vl,au=Bn&&(!Rr||Vl&&8<Vl&&11>=Vl),lu=" ",iu=!1;function su(e,t){switch(e){case"keyup":return Am.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ru(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Za=!1;function Tm(e,t){switch(e){case"compositionend":return ru(t);case"keypress":return t.which!==32?null:(iu=!0,lu);case"textInput":return e=t.data,e===lu&&iu?null:e;default:return null}}function Bm(e,t){if(Za)return e==="compositionend"||!Rr&&su(e,t)?(e=Wo(),ts=Ar=Kn=null,Za=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return au&&t.locale!=="ko"?null:t.data;default:return null}}var wm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wm[e.type]:t==="textarea"}function ou(e,t,n,a){Qa?Ka?Ka.push(a):Ka=[a]:Qa=a,t=Fs(t,"onChange"),0<t.length&&(n=new ls("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Yl=null,Fl=null;function Rm(e){Yf(e,0)}function ss(e){var t=Fn(e);if(Yo(t))return e}function uu(e,t){if(e==="change")return t}var du=!1;if(Bn){var _r;if(Bn){var Or="oninput"in document;if(!Or){var fu=document.createElement("div");fu.setAttribute("oninput","return;"),Or=typeof fu.oninput=="function"}_r=Or}else _r=!1;du=_r&&(!document.documentMode||9<document.documentMode)}function hu(){Yl&&(Yl.detachEvent("onpropertychange",mu),Fl=Yl=null)}function mu(e){if(e.propertyName==="value"&&ss(Fl)){var t=[];ou(t,Fl,e,Sr(e)),$o(Rm,t)}}function _m(e,t,n){e==="focusin"?(hu(),Yl=t,Fl=n,Yl.attachEvent("onpropertychange",mu)):e==="focusout"&&hu()}function Om(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ss(Fl)}function Dm(e,t){if(e==="click")return ss(t)}function Um(e,t){if(e==="input"||e==="change")return ss(t)}function Mm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gt=typeof Object.is=="function"?Object.is:Mm;function Xl(e,t){if(Gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var l=n[a];if(!Y.call(t,l)||!Gt(e[l],t[l]))return!1}return!0}function gu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pu(e,t){var n=gu(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gu(n)}}function vu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Pi(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Pi(e.document)}return t}function Dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Cm=Bn&&"documentMode"in document&&11>=document.documentMode,Ja=null,Ur=null,Ql=null,Mr=!1;function yu(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mr||Ja==null||Ja!==Pi(a)||(a=Ja,"selectionStart"in a&&Dr(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ql&&Xl(Ql,a)||(Ql=a,a=Fs(Ur,"onSelect"),0<a.length&&(t=new ls("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=Ja)))}function Sa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $a={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionrun:Sa("Transition","TransitionRun"),transitionstart:Sa("Transition","TransitionStart"),transitioncancel:Sa("Transition","TransitionCancel"),transitionend:Sa("Transition","TransitionEnd")},Cr={},bu={};Bn&&(bu=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function Na(e){if(Cr[e])return Cr[e];if(!$a[e])return e;var t=$a[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in bu)return Cr[e]=t[n];return e}var Su=Na("animationend"),Nu=Na("animationiteration"),Eu=Na("animationstart"),zm=Na("transitionrun"),Lm=Na("transitionstart"),km=Na("transitioncancel"),Au=Na("transitionend"),ju=new Map,zr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zr.push("scrollEnd");function un(e,t){ju.set(e,t),ke(t,[e])}var Tu=new WeakMap;function Wt(e,t){if(typeof e=="object"&&e!==null){var n=Tu.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Jt(t)},Tu.set(e,t),t)}return{value:e,source:t,stack:Jt(t)}}var Pt=[],Wa=0,Lr=0;function rs(){for(var e=Wa,t=Lr=Wa=0;t<e;){var n=Pt[t];Pt[t++]=null;var a=Pt[t];Pt[t++]=null;var l=Pt[t];Pt[t++]=null;var r=Pt[t];if(Pt[t++]=null,a!==null&&l!==null){var f=a.pending;f===null?l.next=l:(l.next=f.next,f.next=l),a.pending=l}r!==0&&Bu(n,l,r)}}function cs(e,t,n,a){Pt[Wa++]=e,Pt[Wa++]=t,Pt[Wa++]=n,Pt[Wa++]=a,Lr|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function kr(e,t,n,a){return cs(e,t,n,a),os(e)}function Pa(e,t){return cs(e,null,null,t),os(e)}function Bu(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var l=!1,r=e.return;r!==null;)r.childLanes|=n,a=r.alternate,a!==null&&(a.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(l=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,l&&t!==null&&(l=31-Tt(n),e=r.hiddenUpdates,a=e[l],a===null?e[l]=[t]:a.push(t),t.lane=n|536870912),r):null}function os(e){if(50<xi)throw xi=0,Yc=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var el={};function Im(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(e,t,n,a){return new Im(e,t,n,a)}function Ir(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wn(e,t){var n=e.alternate;return n===null?(n=Vt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function wu(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function us(e,t,n,a,l,r){var f=0;if(a=e,typeof e=="function")Ir(e)&&(f=1);else if(typeof e=="string")f=qg(e,n,_e.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ne:return e=Vt(31,n,t,l),e.elementType=ne,e.lanes=r,e;case D:return Ea(n.children,l,r,t);case L:f=8,l|=24;break;case te:return e=Vt(12,n,t,l|2),e.elementType=te,e.lanes=r,e;case H:return e=Vt(13,n,t,l),e.elementType=H,e.lanes=r,e;case U:return e=Vt(19,n,t,l),e.elementType=U,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:case k:f=10;break e;case Q:f=9;break e;case J:f=11;break e;case $:f=14;break e;case Z:f=16,a=null;break e}f=29,n=Error(c(130,e===null?"null":typeof e,"")),a=null}return t=Vt(f,n,t,l),t.elementType=e,t.type=a,t.lanes=r,t}function Ea(e,t,n,a){return e=Vt(7,e,a,t),e.lanes=n,e}function Hr(e,t,n){return e=Vt(6,e,null,t),e.lanes=n,e}function qr(e,t,n){return t=Vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var tl=[],nl=0,ds=null,fs=0,en=[],tn=0,Aa=null,Rn=1,_n="";function ja(e,t){tl[nl++]=fs,tl[nl++]=ds,ds=e,fs=t}function Ru(e,t,n){en[tn++]=Rn,en[tn++]=_n,en[tn++]=Aa,Aa=e;var a=Rn;e=_n;var l=32-Tt(a)-1;a&=~(1<<l),n+=1;var r=32-Tt(t)+l;if(30<r){var f=l-l%5;r=(a&(1<<f)-1).toString(32),a>>=f,l-=f,Rn=1<<32-Tt(t)+l|n<<l|a,_n=r+e}else Rn=1<<r|n<<l|a,_n=e}function Gr(e){e.return!==null&&(ja(e,1),Ru(e,1,0))}function Vr(e){for(;e===ds;)ds=tl[--nl],tl[nl]=null,fs=tl[--nl],tl[nl]=null;for(;e===Aa;)Aa=en[--tn],en[tn]=null,_n=en[--tn],en[tn]=null,Rn=en[--tn],en[tn]=null}var _t=null,Je=null,Me=!1,Ta=null,vn=!1,Yr=Error(c(519));function Ba(e){var t=Error(c(418,""));throw Jl(Wt(t,e)),Yr}function _u(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[ct]=e,t[St]=a,n){case"dialog":we("cancel",t),we("close",t);break;case"iframe":case"object":case"embed":we("load",t);break;case"video":case"audio":for(n=0;n<bi.length;n++)we(bi[n],t);break;case"source":we("error",t);break;case"img":case"image":case"link":we("error",t),we("load",t);break;case"details":we("toggle",t);break;case"input":we("invalid",t),Fo(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),Wi(t);break;case"select":we("invalid",t);break;case"textarea":we("invalid",t),Qo(t,a.value,a.defaultValue,a.children),Wi(t)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||Kf(t.textContent,n)?(a.popover!=null&&(we("beforetoggle",t),we("toggle",t)),a.onScroll!=null&&we("scroll",t),a.onScrollEnd!=null&&we("scrollend",t),a.onClick!=null&&(t.onclick=Xs),t=!0):t=!1,t||Ba(e)}function Ou(e){for(_t=e.return;_t;)switch(_t.tag){case 5:case 13:vn=!1;return;case 27:case 3:vn=!0;return;default:_t=_t.return}}function Kl(e){if(e!==_t)return!1;if(!Me)return Ou(e),Me=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||so(e.type,e.memoizedProps)),n=!n),n&&Je&&Ba(e),Ou(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Je=fn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Je=null}}else t===27?(t=Je,ua(e.type)?(e=uo,uo=null,Je=e):Je=t):Je=_t?fn(e.stateNode.nextSibling):null;return!0}function Zl(){Je=_t=null,Me=!1}function Du(){var e=Ta;return e!==null&&(kt===null?kt=e:kt.push.apply(kt,e),Ta=null),e}function Jl(e){Ta===null?Ta=[e]:Ta.push(e)}var Fr=me(null),wa=null,On=null;function Zn(e,t,n){pe(Fr,t._currentValue),t._currentValue=n}function Dn(e){e._currentValue=Fr.current,de(Fr)}function Xr(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Qr(e,t,n,a){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var r=l.dependencies;if(r!==null){var f=l.child;r=r.firstContext;e:for(;r!==null;){var m=r;r=l;for(var b=0;b<t.length;b++)if(m.context===t[b]){r.lanes|=n,m=r.alternate,m!==null&&(m.lanes|=n),Xr(r.return,n,e),a||(f=null);break e}r=m.next}}else if(l.tag===18){if(f=l.return,f===null)throw Error(c(341));f.lanes|=n,r=f.alternate,r!==null&&(r.lanes|=n),Xr(f,n,e),f=null}else f=l.child;if(f!==null)f.return=l;else for(f=l;f!==null;){if(f===e){f=null;break}if(l=f.sibling,l!==null){l.return=f.return,f=l;break}f=f.return}l=f}}function $l(e,t,n,a){e=null;for(var l=t,r=!1;l!==null;){if(!r){if((l.flags&524288)!==0)r=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var f=l.alternate;if(f===null)throw Error(c(387));if(f=f.memoizedProps,f!==null){var m=l.type;Gt(l.pendingProps.value,f.value)||(e!==null?e.push(m):e=[m])}}else if(l===dt.current){if(f=l.alternate,f===null)throw Error(c(387));f.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(Ti):e=[Ti])}l=l.return}e!==null&&Qr(t,e,n,a),t.flags|=262144}function hs(e){for(e=e.firstContext;e!==null;){if(!Gt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ra(e){wa=e,On=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Bt(e){return Uu(wa,e)}function ms(e,t){return wa===null&&Ra(e),Uu(e,t)}function Uu(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},On===null){if(e===null)throw Error(c(308));On=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else On=On.next=t;return n}var Hm=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},qm=u.unstable_scheduleCallback,Gm=u.unstable_NormalPriority,ot={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kr(){return{controller:new Hm,data:new Map,refCount:0}}function Wl(e){e.refCount--,e.refCount===0&&qm(Gm,function(){e.controller.abort()})}var Pl=null,Zr=0,al=0,ll=null;function Vm(e,t){if(Pl===null){var n=Pl=[];Zr=0,al=$c(),ll={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Zr++,t.then(Mu,Mu),t}function Mu(){if(--Zr===0&&Pl!==null){ll!==null&&(ll.status="fulfilled");var e=Pl;Pl=null,al=0,ll=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ym(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var l=0;l<n.length;l++)(0,n[l])(t)},function(l){for(a.status="rejected",a.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),a}var Cu=S.S;S.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Vm(e,t),Cu!==null&&Cu(e,t)};var _a=me(null);function Jr(){var e=_a.current;return e!==null?e:Ve.pooledCache}function gs(e,t){t===null?pe(_a,_a.current):pe(_a,t.pool)}function zu(){var e=Jr();return e===null?null:{parent:ot._currentValue,pool:e}}var ei=Error(c(460)),Lu=Error(c(474)),ps=Error(c(542)),$r={then:function(){}};function ku(e){return e=e.status,e==="fulfilled"||e==="rejected"}function vs(){}function Iu(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(vs,vs),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,qu(e),e;default:if(typeof t.status=="string")t.then(vs,vs);else{if(e=Ve,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=a}},function(a){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,qu(e),e}throw ti=t,ei}}var ti=null;function Hu(){if(ti===null)throw Error(c(459));var e=ti;return ti=null,e}function qu(e){if(e===ei||e===ps)throw Error(c(483))}var Jn=!1;function Wr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function $n(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wn(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(ze&2)!==0){var l=a.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),a.pending=t,t=os(e),Bu(e,null,n),t}return cs(e,a,t,n),os(e)}function ni(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ul(e,n)}}function ec(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var l=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var f={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?l=r=f:r=r.next=f,n=n.next}while(n!==null);r===null?l=r=t:r=r.next=t}else l=r=t;n={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:r,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var tc=!1;function ai(){if(tc){var e=ll;if(e!==null)throw e}}function li(e,t,n,a){tc=!1;var l=e.updateQueue;Jn=!1;var r=l.firstBaseUpdate,f=l.lastBaseUpdate,m=l.shared.pending;if(m!==null){l.shared.pending=null;var b=m,B=b.next;b.next=null,f===null?r=B:f.next=B,f=b;var M=e.alternate;M!==null&&(M=M.updateQueue,m=M.lastBaseUpdate,m!==f&&(m===null?M.firstBaseUpdate=B:m.next=B,M.lastBaseUpdate=b))}if(r!==null){var I=l.baseState;f=0,M=B=b=null,m=r;do{var _=m.lane&-536870913,O=_!==m.lane;if(O?(Oe&_)===_:(a&_)===_){_!==0&&_===al&&(tc=!0),M!==null&&(M=M.next={lane:0,tag:m.tag,payload:m.payload,callback:null,next:null});e:{var be=e,ge=m;_=t;var qe=n;switch(ge.tag){case 1:if(be=ge.payload,typeof be=="function"){I=be.call(qe,I,_);break e}I=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=ge.payload,_=typeof be=="function"?be.call(qe,I,_):be,_==null)break e;I=y({},I,_);break e;case 2:Jn=!0}}_=m.callback,_!==null&&(e.flags|=64,O&&(e.flags|=8192),O=l.callbacks,O===null?l.callbacks=[_]:O.push(_))}else O={lane:_,tag:m.tag,payload:m.payload,callback:m.callback,next:null},M===null?(B=M=O,b=I):M=M.next=O,f|=_;if(m=m.next,m===null){if(m=l.shared.pending,m===null)break;O=m,m=O.next,O.next=null,l.lastBaseUpdate=O,l.shared.pending=null}}while(!0);M===null&&(b=I),l.baseState=b,l.firstBaseUpdate=B,l.lastBaseUpdate=M,r===null&&(l.shared.lanes=0),sa|=f,e.lanes=f,e.memoizedState=I}}function Gu(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function Vu(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Gu(n[e],t)}var il=me(null),xs=me(0);function Yu(e,t){e=In,pe(xs,e),pe(il,t),In=e|t.baseLanes}function nc(){pe(xs,In),pe(il,il.current)}function ac(){In=xs.current,de(il),de(xs)}var Pn=0,je=null,Ie=null,lt=null,ys=!1,sl=!1,Oa=!1,bs=0,ii=0,rl=null,Fm=0;function tt(){throw Error(c(321))}function lc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gt(e[n],t[n]))return!1;return!0}function ic(e,t,n,a,l,r){return Pn=r,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,S.H=e===null||e.memoizedState===null?Bd:wd,Oa=!1,r=n(a,l),Oa=!1,sl&&(r=Xu(t,n,a,l)),Fu(e),r}function Fu(e){S.H=Ts;var t=Ie!==null&&Ie.next!==null;if(Pn=0,lt=Ie=je=null,ys=!1,ii=0,rl=null,t)throw Error(c(300));e===null||pt||(e=e.dependencies,e!==null&&hs(e)&&(pt=!0))}function Xu(e,t,n,a){je=e;var l=0;do{if(sl&&(rl=null),ii=0,sl=!1,25<=l)throw Error(c(301));if(l+=1,lt=Ie=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}S.H=Wm,r=t(n,a)}while(sl);return r}function Xm(){var e=S.H,t=e.useState()[0];return t=typeof t.then=="function"?si(t):t,e=e.useState()[0],(Ie!==null?Ie.memoizedState:null)!==e&&(je.flags|=1024),t}function sc(){var e=bs!==0;return bs=0,e}function rc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function cc(e){if(ys){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ys=!1}Pn=0,lt=Ie=je=null,sl=!1,ii=bs=0,rl=null}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?je.memoizedState=lt=e:lt=lt.next=e,lt}function it(){if(Ie===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=lt===null?je.memoizedState:lt.next;if(t!==null)lt=t,Ie=e;else{if(e===null)throw je.alternate===null?Error(c(467)):Error(c(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},lt===null?je.memoizedState=lt=e:lt=lt.next=e}return lt}function oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function si(e){var t=ii;return ii+=1,rl===null&&(rl=[]),e=Iu(rl,e,t),t=je,(lt===null?t.memoizedState:lt.next)===null&&(t=t.alternate,S.H=t===null||t.memoizedState===null?Bd:wd),e}function Ss(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return si(e);if(e.$$typeof===k)return Bt(e)}throw Error(c(438,String(e)))}function uc(e){var t=null,n=je.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=je.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=oc(),je.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=ae;return t.index++,n}function Un(e,t){return typeof t=="function"?t(e):t}function Ns(e){var t=it();return dc(t,Ie,e)}function dc(e,t,n){var a=e.queue;if(a===null)throw Error(c(311));a.lastRenderedReducer=n;var l=e.baseQueue,r=a.pending;if(r!==null){if(l!==null){var f=l.next;l.next=r.next,r.next=f}t.baseQueue=l=r,a.pending=null}if(r=e.baseState,l===null)e.memoizedState=r;else{t=l.next;var m=f=null,b=null,B=t,M=!1;do{var I=B.lane&-536870913;if(I!==B.lane?(Oe&I)===I:(Pn&I)===I){var _=B.revertLane;if(_===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),I===al&&(M=!0);else if((Pn&_)===_){B=B.next,_===al&&(M=!0);continue}else I={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},b===null?(m=b=I,f=r):b=b.next=I,je.lanes|=_,sa|=_;I=B.action,Oa&&n(r,I),r=B.hasEagerState?B.eagerState:n(r,I)}else _={lane:I,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},b===null?(m=b=_,f=r):b=b.next=_,je.lanes|=I,sa|=I;B=B.next}while(B!==null&&B!==t);if(b===null?f=r:b.next=m,!Gt(r,e.memoizedState)&&(pt=!0,M&&(n=ll,n!==null)))throw n;e.memoizedState=r,e.baseState=f,e.baseQueue=b,a.lastRenderedState=r}return l===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function fc(e){var t=it(),n=t.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=e;var a=n.dispatch,l=n.pending,r=t.memoizedState;if(l!==null){n.pending=null;var f=l=l.next;do r=e(r,f.action),f=f.next;while(f!==l);Gt(r,t.memoizedState)||(pt=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,a]}function Qu(e,t,n){var a=je,l=it(),r=Me;if(r){if(n===void 0)throw Error(c(407));n=n()}else n=t();var f=!Gt((Ie||l).memoizedState,n);f&&(l.memoizedState=n,pt=!0),l=l.queue;var m=Ju.bind(null,a,l,e);if(ri(2048,8,m,[e]),l.getSnapshot!==t||f||lt!==null&&lt.memoizedState.tag&1){if(a.flags|=2048,cl(9,Es(),Zu.bind(null,a,l,n,t),null),Ve===null)throw Error(c(349));r||(Pn&124)!==0||Ku(a,t,n)}return n}function Ku(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=je.updateQueue,t===null?(t=oc(),je.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Zu(e,t,n,a){t.value=n,t.getSnapshot=a,$u(t)&&Wu(e)}function Ju(e,t,n){return n(function(){$u(t)&&Wu(e)})}function $u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gt(e,n)}catch{return!0}}function Wu(e){var t=Pa(e,2);t!==null&&Kt(t,e,2)}function hc(e){var t=zt();if(typeof e=="function"){var n=e;if(e=n(),Oa){sn(!0);try{n()}finally{sn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:e},t}function Pu(e,t,n,a){return e.baseState=n,dc(e,Ie,typeof a=="function"?a:Un)}function Qm(e,t,n,a,l){if(js(e))throw Error(c(485));if(e=t.action,e!==null){var r={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){r.listeners.push(f)}};S.T!==null?n(!0):r.isTransition=!1,a(r),n=t.pending,n===null?(r.next=t.pending=r,ed(t,r)):(r.next=n.next,t.pending=n.next=r)}}function ed(e,t){var n=t.action,a=t.payload,l=e.state;if(t.isTransition){var r=S.T,f={};S.T=f;try{var m=n(l,a),b=S.S;b!==null&&b(f,m),td(e,t,m)}catch(B){mc(e,t,B)}finally{S.T=r}}else try{r=n(l,a),td(e,t,r)}catch(B){mc(e,t,B)}}function td(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){nd(e,t,a)},function(a){return mc(e,t,a)}):nd(e,t,n)}function nd(e,t,n){t.status="fulfilled",t.value=n,ad(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,ed(e,n)))}function mc(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,ad(t),t=t.next;while(t!==a)}e.action=null}function ad(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ld(e,t){return t}function id(e,t){if(Me){var n=Ve.formState;if(n!==null){e:{var a=je;if(Me){if(Je){t:{for(var l=Je,r=vn;l.nodeType!==8;){if(!r){l=null;break t}if(l=fn(l.nextSibling),l===null){l=null;break t}}r=l.data,l=r==="F!"||r==="F"?l:null}if(l){Je=fn(l.nextSibling),a=l.data==="F!";break e}}Ba(a)}a=!1}a&&(t=n[0])}}return n=zt(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ld,lastRenderedState:t},n.queue=a,n=Ad.bind(null,je,a),a.dispatch=n,a=hc(!1),r=yc.bind(null,je,!1,a.queue),a=zt(),l={state:t,dispatch:null,action:e,pending:null},a.queue=l,n=Qm.bind(null,je,l,r,n),l.dispatch=n,a.memoizedState=e,[t,n,!1]}function sd(e){var t=it();return rd(t,Ie,e)}function rd(e,t,n){if(t=dc(e,t,ld)[0],e=Ns(Un)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=si(t)}catch(f){throw f===ei?ps:f}else a=t;t=it();var l=t.queue,r=l.dispatch;return n!==t.memoizedState&&(je.flags|=2048,cl(9,Es(),Km.bind(null,l,n),null)),[a,r,e]}function Km(e,t){e.action=t}function cd(e){var t=it(),n=Ie;if(n!==null)return rd(t,n,e);it(),t=t.memoizedState,n=it();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function cl(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=je.updateQueue,t===null&&(t=oc(),je.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Es(){return{destroy:void 0,resource:void 0}}function od(){return it().memoizedState}function As(e,t,n,a){var l=zt();a=a===void 0?null:a,je.flags|=e,l.memoizedState=cl(1|t,Es(),n,a)}function ri(e,t,n,a){var l=it();a=a===void 0?null:a;var r=l.memoizedState.inst;Ie!==null&&a!==null&&lc(a,Ie.memoizedState.deps)?l.memoizedState=cl(t,r,n,a):(je.flags|=e,l.memoizedState=cl(1|t,r,n,a))}function ud(e,t){As(8390656,8,e,t)}function dd(e,t){ri(2048,8,e,t)}function fd(e,t){return ri(4,2,e,t)}function hd(e,t){return ri(4,4,e,t)}function md(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gd(e,t,n){n=n!=null?n.concat([e]):null,ri(4,4,md.bind(null,t,e),n)}function gc(){}function pd(e,t){var n=it();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&lc(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function vd(e,t){var n=it();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&lc(t,a[1]))return a[0];if(a=e(),Oa){sn(!0);try{e()}finally{sn(!1)}}return n.memoizedState=[a,t],a}function pc(e,t,n){return n===void 0||(Pn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=Sf(),je.lanes|=e,sa|=e,n)}function xd(e,t,n,a){return Gt(n,t)?n:il.current!==null?(e=pc(e,n,a),Gt(e,t)||(pt=!0),e):(Pn&42)===0?(pt=!0,e.memoizedState=n):(e=Sf(),je.lanes|=e,sa|=e,t)}function yd(e,t,n,a,l){var r=G.p;G.p=r!==0&&8>r?r:8;var f=S.T,m={};S.T=m,yc(e,!1,t,n);try{var b=l(),B=S.S;if(B!==null&&B(m,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var M=Ym(b,a);ci(e,t,M,Qt(e))}else ci(e,t,a,Qt(e))}catch(I){ci(e,t,{then:function(){},status:"rejected",reason:I},Qt())}finally{G.p=r,S.T=f}}function Zm(){}function vc(e,t,n,a){if(e.tag!==5)throw Error(c(476));var l=bd(e).queue;yd(e,l,t,ee,n===null?Zm:function(){return Sd(e),n(a)})}function bd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:ee},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Sd(e){var t=bd(e).next.queue;ci(e,t,{},Qt())}function xc(){return Bt(Ti)}function Nd(){return it().memoizedState}function Ed(){return it().memoizedState}function Jm(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Qt();e=$n(n);var a=Wn(t,e,n);a!==null&&(Kt(a,t,n),ni(a,t,n)),t={cache:Kr()},e.payload=t;return}t=t.return}}function $m(e,t,n){var a=Qt();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},js(e)?jd(t,n):(n=kr(e,t,n,a),n!==null&&(Kt(n,e,a),Td(n,t,a)))}function Ad(e,t,n){var a=Qt();ci(e,t,n,a)}function ci(e,t,n,a){var l={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(js(e))jd(t,l);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var f=t.lastRenderedState,m=r(f,n);if(l.hasEagerState=!0,l.eagerState=m,Gt(m,f))return cs(e,t,l,0),Ve===null&&rs(),!1}catch{}finally{}if(n=kr(e,t,l,a),n!==null)return Kt(n,e,a),Td(n,t,a),!0}return!1}function yc(e,t,n,a){if(a={lane:2,revertLane:$c(),action:a,hasEagerState:!1,eagerState:null,next:null},js(e)){if(t)throw Error(c(479))}else t=kr(e,n,a,2),t!==null&&Kt(t,e,2)}function js(e){var t=e.alternate;return e===je||t!==null&&t===je}function jd(e,t){sl=ys=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Td(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ul(e,n)}}var Ts={readContext:Bt,use:Ss,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt},Bd={readContext:Bt,use:Ss,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:Bt,useEffect:ud,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,As(4194308,4,md.bind(null,t,e),n)},useLayoutEffect:function(e,t){return As(4194308,4,e,t)},useInsertionEffect:function(e,t){As(4,2,e,t)},useMemo:function(e,t){var n=zt();t=t===void 0?null:t;var a=e();if(Oa){sn(!0);try{e()}finally{sn(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=zt();if(n!==void 0){var l=n(t);if(Oa){sn(!0);try{n(t)}finally{sn(!1)}}}else l=t;return a.memoizedState=a.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},a.queue=e,e=e.dispatch=$m.bind(null,je,e),[a.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:function(e){e=hc(e);var t=e.queue,n=Ad.bind(null,je,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:gc,useDeferredValue:function(e,t){var n=zt();return pc(n,e,t)},useTransition:function(){var e=hc(!1);return e=yd.bind(null,je,e.queue,!0,!1),zt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=je,l=zt();if(Me){if(n===void 0)throw Error(c(407));n=n()}else{if(n=t(),Ve===null)throw Error(c(349));(Oe&124)!==0||Ku(a,t,n)}l.memoizedState=n;var r={value:n,getSnapshot:t};return l.queue=r,ud(Ju.bind(null,a,r,e),[e]),a.flags|=2048,cl(9,Es(),Zu.bind(null,a,r,n,t),null),n},useId:function(){var e=zt(),t=Ve.identifierPrefix;if(Me){var n=_n,a=Rn;n=(a&~(1<<32-Tt(a)-1)).toString(32)+n,t="«"+t+"R"+n,n=bs++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=Fm++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:xc,useFormState:id,useActionState:id,useOptimistic:function(e){var t=zt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=yc.bind(null,je,!0,n),n.dispatch=t,[e,t]},useMemoCache:uc,useCacheRefresh:function(){return zt().memoizedState=Jm.bind(null,je)}},wd={readContext:Bt,use:Ss,useCallback:pd,useContext:Bt,useEffect:dd,useImperativeHandle:gd,useInsertionEffect:fd,useLayoutEffect:hd,useMemo:vd,useReducer:Ns,useRef:od,useState:function(){return Ns(Un)},useDebugValue:gc,useDeferredValue:function(e,t){var n=it();return xd(n,Ie.memoizedState,e,t)},useTransition:function(){var e=Ns(Un)[0],t=it().memoizedState;return[typeof e=="boolean"?e:si(e),t]},useSyncExternalStore:Qu,useId:Nd,useHostTransitionStatus:xc,useFormState:sd,useActionState:sd,useOptimistic:function(e,t){var n=it();return Pu(n,Ie,e,t)},useMemoCache:uc,useCacheRefresh:Ed},Wm={readContext:Bt,use:Ss,useCallback:pd,useContext:Bt,useEffect:dd,useImperativeHandle:gd,useInsertionEffect:fd,useLayoutEffect:hd,useMemo:vd,useReducer:fc,useRef:od,useState:function(){return fc(Un)},useDebugValue:gc,useDeferredValue:function(e,t){var n=it();return Ie===null?pc(n,e,t):xd(n,Ie.memoizedState,e,t)},useTransition:function(){var e=fc(Un)[0],t=it().memoizedState;return[typeof e=="boolean"?e:si(e),t]},useSyncExternalStore:Qu,useId:Nd,useHostTransitionStatus:xc,useFormState:cd,useActionState:cd,useOptimistic:function(e,t){var n=it();return Ie!==null?Pu(n,Ie,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:uc,useCacheRefresh:Ed},ol=null,oi=0;function Bs(e){var t=oi;return oi+=1,ol===null&&(ol=[]),Iu(ol,e,t)}function ui(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ws(e,t){throw t.$$typeof===N?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Rd(e){var t=e._init;return t(e._payload)}function _d(e){function t(j,E){if(e){var T=j.deletions;T===null?(j.deletions=[E],j.flags|=16):T.push(E)}}function n(j,E){if(!e)return null;for(;E!==null;)t(j,E),E=E.sibling;return null}function a(j){for(var E=new Map;j!==null;)j.key!==null?E.set(j.key,j):E.set(j.index,j),j=j.sibling;return E}function l(j,E){return j=wn(j,E),j.index=0,j.sibling=null,j}function r(j,E,T){return j.index=T,e?(T=j.alternate,T!==null?(T=T.index,T<E?(j.flags|=67108866,E):T):(j.flags|=67108866,E)):(j.flags|=1048576,E)}function f(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function m(j,E,T,z){return E===null||E.tag!==6?(E=Hr(T,j.mode,z),E.return=j,E):(E=l(E,T),E.return=j,E)}function b(j,E,T,z){var re=T.type;return re===D?M(j,E,T.props.children,z,T.key):E!==null&&(E.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===Z&&Rd(re)===E.type)?(E=l(E,T.props),ui(E,T),E.return=j,E):(E=us(T.type,T.key,T.props,null,j.mode,z),ui(E,T),E.return=j,E)}function B(j,E,T,z){return E===null||E.tag!==4||E.stateNode.containerInfo!==T.containerInfo||E.stateNode.implementation!==T.implementation?(E=qr(T,j.mode,z),E.return=j,E):(E=l(E,T.children||[]),E.return=j,E)}function M(j,E,T,z,re){return E===null||E.tag!==7?(E=Ea(T,j.mode,z,re),E.return=j,E):(E=l(E,T),E.return=j,E)}function I(j,E,T){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Hr(""+E,j.mode,T),E.return=j,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case w:return T=us(E.type,E.key,E.props,null,j.mode,T),ui(T,E),T.return=j,T;case A:return E=qr(E,j.mode,T),E.return=j,E;case Z:var z=E._init;return E=z(E._payload),I(j,E,T)}if(W(E)||he(E))return E=Ea(E,j.mode,T,null),E.return=j,E;if(typeof E.then=="function")return I(j,Bs(E),T);if(E.$$typeof===k)return I(j,ms(j,E),T);ws(j,E)}return null}function _(j,E,T,z){var re=E!==null?E.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return re!==null?null:m(j,E,""+T,z);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case w:return T.key===re?b(j,E,T,z):null;case A:return T.key===re?B(j,E,T,z):null;case Z:return re=T._init,T=re(T._payload),_(j,E,T,z)}if(W(T)||he(T))return re!==null?null:M(j,E,T,z,null);if(typeof T.then=="function")return _(j,E,Bs(T),z);if(T.$$typeof===k)return _(j,E,ms(j,T),z);ws(j,T)}return null}function O(j,E,T,z,re){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return j=j.get(T)||null,m(E,j,""+z,re);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return j=j.get(z.key===null?T:z.key)||null,b(E,j,z,re);case A:return j=j.get(z.key===null?T:z.key)||null,B(E,j,z,re);case Z:var Te=z._init;return z=Te(z._payload),O(j,E,T,z,re)}if(W(z)||he(z))return j=j.get(T)||null,M(E,j,z,re,null);if(typeof z.then=="function")return O(j,E,T,Bs(z),re);if(z.$$typeof===k)return O(j,E,T,ms(E,z),re);ws(E,z)}return null}function be(j,E,T,z){for(var re=null,Te=null,ue=E,xe=E=0,xt=null;ue!==null&&xe<T.length;xe++){ue.index>xe?(xt=ue,ue=null):xt=ue.sibling;var Ue=_(j,ue,T[xe],z);if(Ue===null){ue===null&&(ue=xt);break}e&&ue&&Ue.alternate===null&&t(j,ue),E=r(Ue,E,xe),Te===null?re=Ue:Te.sibling=Ue,Te=Ue,ue=xt}if(xe===T.length)return n(j,ue),Me&&ja(j,xe),re;if(ue===null){for(;xe<T.length;xe++)ue=I(j,T[xe],z),ue!==null&&(E=r(ue,E,xe),Te===null?re=ue:Te.sibling=ue,Te=ue);return Me&&ja(j,xe),re}for(ue=a(ue);xe<T.length;xe++)xt=O(ue,j,xe,T[xe],z),xt!==null&&(e&&xt.alternate!==null&&ue.delete(xt.key===null?xe:xt.key),E=r(xt,E,xe),Te===null?re=xt:Te.sibling=xt,Te=xt);return e&&ue.forEach(function(ga){return t(j,ga)}),Me&&ja(j,xe),re}function ge(j,E,T,z){if(T==null)throw Error(c(151));for(var re=null,Te=null,ue=E,xe=E=0,xt=null,Ue=T.next();ue!==null&&!Ue.done;xe++,Ue=T.next()){ue.index>xe?(xt=ue,ue=null):xt=ue.sibling;var ga=_(j,ue,Ue.value,z);if(ga===null){ue===null&&(ue=xt);break}e&&ue&&ga.alternate===null&&t(j,ue),E=r(ga,E,xe),Te===null?re=ga:Te.sibling=ga,Te=ga,ue=xt}if(Ue.done)return n(j,ue),Me&&ja(j,xe),re;if(ue===null){for(;!Ue.done;xe++,Ue=T.next())Ue=I(j,Ue.value,z),Ue!==null&&(E=r(Ue,E,xe),Te===null?re=Ue:Te.sibling=Ue,Te=Ue);return Me&&ja(j,xe),re}for(ue=a(ue);!Ue.done;xe++,Ue=T.next())Ue=O(ue,j,xe,Ue.value,z),Ue!==null&&(e&&Ue.alternate!==null&&ue.delete(Ue.key===null?xe:Ue.key),E=r(Ue,E,xe),Te===null?re=Ue:Te.sibling=Ue,Te=Ue);return e&&ue.forEach(function(Pg){return t(j,Pg)}),Me&&ja(j,xe),re}function qe(j,E,T,z){if(typeof T=="object"&&T!==null&&T.type===D&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case w:e:{for(var re=T.key;E!==null;){if(E.key===re){if(re=T.type,re===D){if(E.tag===7){n(j,E.sibling),z=l(E,T.props.children),z.return=j,j=z;break e}}else if(E.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===Z&&Rd(re)===E.type){n(j,E.sibling),z=l(E,T.props),ui(z,T),z.return=j,j=z;break e}n(j,E);break}else t(j,E);E=E.sibling}T.type===D?(z=Ea(T.props.children,j.mode,z,T.key),z.return=j,j=z):(z=us(T.type,T.key,T.props,null,j.mode,z),ui(z,T),z.return=j,j=z)}return f(j);case A:e:{for(re=T.key;E!==null;){if(E.key===re)if(E.tag===4&&E.stateNode.containerInfo===T.containerInfo&&E.stateNode.implementation===T.implementation){n(j,E.sibling),z=l(E,T.children||[]),z.return=j,j=z;break e}else{n(j,E);break}else t(j,E);E=E.sibling}z=qr(T,j.mode,z),z.return=j,j=z}return f(j);case Z:return re=T._init,T=re(T._payload),qe(j,E,T,z)}if(W(T))return be(j,E,T,z);if(he(T)){if(re=he(T),typeof re!="function")throw Error(c(150));return T=re.call(T),ge(j,E,T,z)}if(typeof T.then=="function")return qe(j,E,Bs(T),z);if(T.$$typeof===k)return qe(j,E,ms(j,T),z);ws(j,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,E!==null&&E.tag===6?(n(j,E.sibling),z=l(E,T),z.return=j,j=z):(n(j,E),z=Hr(T,j.mode,z),z.return=j,j=z),f(j)):n(j,E)}return function(j,E,T,z){try{oi=0;var re=qe(j,E,T,z);return ol=null,re}catch(ue){if(ue===ei||ue===ps)throw ue;var Te=Vt(29,ue,null,j.mode);return Te.lanes=z,Te.return=j,Te}finally{}}}var ul=_d(!0),Od=_d(!1),nn=me(null),xn=null;function ea(e){var t=e.alternate;pe(ut,ut.current&1),pe(nn,e),xn===null&&(t===null||il.current!==null||t.memoizedState!==null)&&(xn=e)}function Dd(e){if(e.tag===22){if(pe(ut,ut.current),pe(nn,e),xn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(xn=e)}}else ta()}function ta(){pe(ut,ut.current),pe(nn,nn.current)}function Mn(e){de(nn),xn===e&&(xn=null),de(ut)}var ut=me(0);function Rs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||oo(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function bc(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:y({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Sc={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Qt(),l=$n(a);l.payload=t,n!=null&&(l.callback=n),t=Wn(e,l,a),t!==null&&(Kt(t,e,a),ni(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Qt(),l=$n(a);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Wn(e,l,a),t!==null&&(Kt(t,e,a),ni(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Qt(),a=$n(n);a.tag=2,t!=null&&(a.callback=t),t=Wn(e,a,n),t!==null&&(Kt(t,e,n),ni(t,e,n))}};function Ud(e,t,n,a,l,r,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,r,f):t.prototype&&t.prototype.isPureReactComponent?!Xl(n,a)||!Xl(l,r):!0}function Md(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Sc.enqueueReplaceState(t,t.state,null)}function Da(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=y({},n));for(var l in e)n[l]===void 0&&(n[l]=e[l])}return n}var _s=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Cd(e){_s(e)}function zd(e){console.error(e)}function Ld(e){_s(e)}function Os(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function kd(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Nc(e,t,n){return n=$n(n),n.tag=3,n.payload={element:null},n.callback=function(){Os(e,t)},n}function Id(e){return e=$n(e),e.tag=3,e}function Hd(e,t,n,a){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var r=a.value;e.payload=function(){return l(r)},e.callback=function(){kd(t,n,a)}}var f=n.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){kd(t,n,a),typeof l!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var m=a.stack;this.componentDidCatch(a.value,{componentStack:m!==null?m:""})})}function Pm(e,t,n,a,l){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&$l(t,n,l,!0),n=nn.current,n!==null){switch(n.tag){case 13:return xn===null?Xc():n.alternate===null&&$e===0&&($e=3),n.flags&=-257,n.flags|=65536,n.lanes=l,a===$r?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Kc(e,a,l)),!1;case 22:return n.flags|=65536,a===$r?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Kc(e,a,l)),!1}throw Error(c(435,n.tag))}return Kc(e,a,l),Xc(),!1}if(Me)return t=nn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=l,a!==Yr&&(e=Error(c(422),{cause:a}),Jl(Wt(e,n)))):(a!==Yr&&(t=Error(c(423),{cause:a}),Jl(Wt(t,n))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,a=Wt(a,n),l=Nc(e.stateNode,a,l),ec(e,l),$e!==4&&($e=2)),!1;var r=Error(c(520),{cause:a});if(r=Wt(r,n),vi===null?vi=[r]:vi.push(r),$e!==4&&($e=2),t===null)return!0;a=Wt(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=l&-l,n.lanes|=e,e=Nc(n.stateNode,a,e),ec(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(ra===null||!ra.has(r))))return n.flags|=65536,l&=-l,n.lanes|=l,l=Id(l),Hd(l,e,n,a),ec(n,l),!1}n=n.return}while(n!==null);return!1}var qd=Error(c(461)),pt=!1;function Nt(e,t,n,a){t.child=e===null?Od(t,null,n,a):ul(t,e.child,n,a)}function Gd(e,t,n,a,l){n=n.render;var r=t.ref;if("ref"in a){var f={};for(var m in a)m!=="ref"&&(f[m]=a[m])}else f=a;return Ra(t),a=ic(e,t,n,f,r,l),m=sc(),e!==null&&!pt?(rc(e,t,l),Cn(e,t,l)):(Me&&m&&Gr(t),t.flags|=1,Nt(e,t,a,l),t.child)}function Vd(e,t,n,a,l){if(e===null){var r=n.type;return typeof r=="function"&&!Ir(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,Yd(e,t,r,a,l)):(e=us(n.type,null,a,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!_c(e,l)){var f=r.memoizedProps;if(n=n.compare,n=n!==null?n:Xl,n(f,a)&&e.ref===t.ref)return Cn(e,t,l)}return t.flags|=1,e=wn(r,a),e.ref=t.ref,e.return=t,t.child=e}function Yd(e,t,n,a,l){if(e!==null){var r=e.memoizedProps;if(Xl(r,a)&&e.ref===t.ref)if(pt=!1,t.pendingProps=a=r,_c(e,l))(e.flags&131072)!==0&&(pt=!0);else return t.lanes=e.lanes,Cn(e,t,l)}return Ec(e,t,n,a,l)}function Fd(e,t,n){var a=t.pendingProps,l=a.children,r=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if((t.flags&128)!==0){if(a=r!==null?r.baseLanes|n:n,e!==null){for(l=t.child=e.child,r=0;l!==null;)r=r|l.lanes|l.childLanes,l=l.sibling;t.childLanes=r&~a}else t.childLanes=0,t.child=null;return Xd(e,t,a,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&gs(t,r!==null?r.cachePool:null),r!==null?Yu(t,r):nc(),Dd(t);else return t.lanes=t.childLanes=536870912,Xd(e,t,r!==null?r.baseLanes|n:n,n)}else r!==null?(gs(t,r.cachePool),Yu(t,r),ta(),t.memoizedState=null):(e!==null&&gs(t,null),nc(),ta());return Nt(e,t,l,n),t.child}function Xd(e,t,n,a){var l=Jr();return l=l===null?null:{parent:ot._currentValue,pool:l},t.memoizedState={baseLanes:n,cachePool:l},e!==null&&gs(t,null),nc(),Dd(t),e!==null&&$l(e,t,a,!0),null}function Ds(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(c(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Ec(e,t,n,a,l){return Ra(t),n=ic(e,t,n,a,void 0,l),a=sc(),e!==null&&!pt?(rc(e,t,l),Cn(e,t,l)):(Me&&a&&Gr(t),t.flags|=1,Nt(e,t,n,l),t.child)}function Qd(e,t,n,a,l,r){return Ra(t),t.updateQueue=null,n=Xu(t,a,n,l),Fu(e),a=sc(),e!==null&&!pt?(rc(e,t,r),Cn(e,t,r)):(Me&&a&&Gr(t),t.flags|=1,Nt(e,t,n,r),t.child)}function Kd(e,t,n,a,l){if(Ra(t),t.stateNode===null){var r=el,f=n.contextType;typeof f=="object"&&f!==null&&(r=Bt(f)),r=new n(a,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Sc,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=a,r.state=t.memoizedState,r.refs={},Wr(t),f=n.contextType,r.context=typeof f=="object"&&f!==null?Bt(f):el,r.state=t.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(bc(t,n,f,a),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(f=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),f!==r.state&&Sc.enqueueReplaceState(r,r.state,null),li(t,a,r,l),ai(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){r=t.stateNode;var m=t.memoizedProps,b=Da(n,m);r.props=b;var B=r.context,M=n.contextType;f=el,typeof M=="object"&&M!==null&&(f=Bt(M));var I=n.getDerivedStateFromProps;M=typeof I=="function"||typeof r.getSnapshotBeforeUpdate=="function",m=t.pendingProps!==m,M||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(m||B!==f)&&Md(t,r,a,f),Jn=!1;var _=t.memoizedState;r.state=_,li(t,a,r,l),ai(),B=t.memoizedState,m||_!==B||Jn?(typeof I=="function"&&(bc(t,n,I,a),B=t.memoizedState),(b=Jn||Ud(t,n,b,a,_,B,f))?(M||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=B),r.props=a,r.state=B,r.context=f,a=b):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{r=t.stateNode,Pr(e,t),f=t.memoizedProps,M=Da(n,f),r.props=M,I=t.pendingProps,_=r.context,B=n.contextType,b=el,typeof B=="object"&&B!==null&&(b=Bt(B)),m=n.getDerivedStateFromProps,(B=typeof m=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(f!==I||_!==b)&&Md(t,r,a,b),Jn=!1,_=t.memoizedState,r.state=_,li(t,a,r,l),ai();var O=t.memoizedState;f!==I||_!==O||Jn||e!==null&&e.dependencies!==null&&hs(e.dependencies)?(typeof m=="function"&&(bc(t,n,m,a),O=t.memoizedState),(M=Jn||Ud(t,n,M,a,_,O,b)||e!==null&&e.dependencies!==null&&hs(e.dependencies))?(B||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(a,O,b),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(a,O,b)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||f===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=O),r.props=a,r.state=O,r.context=b,a=M):(typeof r.componentDidUpdate!="function"||f===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),a=!1)}return r=a,Ds(e,t),a=(t.flags&128)!==0,r||a?(r=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&a?(t.child=ul(t,e.child,null,l),t.child=ul(t,null,n,l)):Nt(e,t,n,l),t.memoizedState=r.state,e=t.child):e=Cn(e,t,l),e}function Zd(e,t,n,a){return Zl(),t.flags|=256,Nt(e,t,n,a),t.child}var Ac={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jc(e){return{baseLanes:e,cachePool:zu()}}function Tc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=an),e}function Jd(e,t,n){var a=t.pendingProps,l=!1,r=(t.flags&128)!==0,f;if((f=r)||(f=e!==null&&e.memoizedState===null?!1:(ut.current&2)!==0),f&&(l=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(Me){if(l?ea(t):ta(),Me){var m=Je,b;if(b=m){e:{for(b=m,m=vn;b.nodeType!==8;){if(!m){m=null;break e}if(b=fn(b.nextSibling),b===null){m=null;break e}}m=b}m!==null?(t.memoizedState={dehydrated:m,treeContext:Aa!==null?{id:Rn,overflow:_n}:null,retryLane:536870912,hydrationErrors:null},b=Vt(18,null,null,0),b.stateNode=m,b.return=t,t.child=b,_t=t,Je=null,b=!0):b=!1}b||Ba(t)}if(m=t.memoizedState,m!==null&&(m=m.dehydrated,m!==null))return oo(m)?t.lanes=32:t.lanes=536870912,null;Mn(t)}return m=a.children,a=a.fallback,l?(ta(),l=t.mode,m=Us({mode:"hidden",children:m},l),a=Ea(a,l,n,null),m.return=t,a.return=t,m.sibling=a,t.child=m,l=t.child,l.memoizedState=jc(n),l.childLanes=Tc(e,f,n),t.memoizedState=Ac,a):(ea(t),Bc(t,m))}if(b=e.memoizedState,b!==null&&(m=b.dehydrated,m!==null)){if(r)t.flags&256?(ea(t),t.flags&=-257,t=wc(e,t,n)):t.memoizedState!==null?(ta(),t.child=e.child,t.flags|=128,t=null):(ta(),l=a.fallback,m=t.mode,a=Us({mode:"visible",children:a.children},m),l=Ea(l,m,n,null),l.flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,ul(t,e.child,null,n),a=t.child,a.memoizedState=jc(n),a.childLanes=Tc(e,f,n),t.memoizedState=Ac,t=l);else if(ea(t),oo(m)){if(f=m.nextSibling&&m.nextSibling.dataset,f)var B=f.dgst;f=B,a=Error(c(419)),a.stack="",a.digest=f,Jl({value:a,source:null,stack:null}),t=wc(e,t,n)}else if(pt||$l(e,t,n,!1),f=(n&e.childLanes)!==0,pt||f){if(f=Ve,f!==null&&(a=n&-n,a=(a&42)!==0?1:Ha(a),a=(a&(f.suspendedLanes|n))!==0?0:a,a!==0&&a!==b.retryLane))throw b.retryLane=a,Pa(e,a),Kt(f,e,a),qd;m.data==="$?"||Xc(),t=wc(e,t,n)}else m.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=b.treeContext,Je=fn(m.nextSibling),_t=t,Me=!0,Ta=null,vn=!1,e!==null&&(en[tn++]=Rn,en[tn++]=_n,en[tn++]=Aa,Rn=e.id,_n=e.overflow,Aa=t),t=Bc(t,a.children),t.flags|=4096);return t}return l?(ta(),l=a.fallback,m=t.mode,b=e.child,B=b.sibling,a=wn(b,{mode:"hidden",children:a.children}),a.subtreeFlags=b.subtreeFlags&65011712,B!==null?l=wn(B,l):(l=Ea(l,m,n,null),l.flags|=2),l.return=t,a.return=t,a.sibling=l,t.child=a,a=l,l=t.child,m=e.child.memoizedState,m===null?m=jc(n):(b=m.cachePool,b!==null?(B=ot._currentValue,b=b.parent!==B?{parent:B,pool:B}:b):b=zu(),m={baseLanes:m.baseLanes|n,cachePool:b}),l.memoizedState=m,l.childLanes=Tc(e,f,n),t.memoizedState=Ac,a):(ea(t),n=e.child,e=n.sibling,n=wn(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=n,t.memoizedState=null,n)}function Bc(e,t){return t=Us({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Us(e,t){return e=Vt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function wc(e,t,n){return ul(t,e.child,null,n),e=Bc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $d(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Xr(e.return,t,n)}function Rc(e,t,n,a,l){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:l}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=n,r.tailMode=l)}function Wd(e,t,n){var a=t.pendingProps,l=a.revealOrder,r=a.tail;if(Nt(e,t,a.children,n),a=ut.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$d(e,n,t);else if(e.tag===19)$d(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(pe(ut,a),l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Rs(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Rc(t,!1,l,n,r);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Rs(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Rc(t,!0,n,null,r);break;case"together":Rc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),sa|=t.lanes,(n&t.childLanes)===0)if(e!==null){if($l(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,n=wn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=wn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _c(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&hs(e)))}function eg(e,t,n){switch(t.tag){case 3:at(t,t.stateNode.containerInfo),Zn(t,ot,e.memoizedState.cache),Zl();break;case 27:case 5:qt(t);break;case 4:at(t,t.stateNode.containerInfo);break;case 10:Zn(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(ea(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Jd(e,t,n):(ea(t),e=Cn(e,t,n),e!==null?e.sibling:null);ea(t);break;case 19:var l=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||($l(e,t,n,!1),a=(n&t.childLanes)!==0),l){if(a)return Wd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),pe(ut,ut.current),a)break;return null;case 22:case 23:return t.lanes=0,Fd(e,t,n);case 24:Zn(t,ot,e.memoizedState.cache)}return Cn(e,t,n)}function Pd(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)pt=!0;else{if(!_c(e,n)&&(t.flags&128)===0)return pt=!1,eg(e,t,n);pt=(e.flags&131072)!==0}else pt=!1,Me&&(t.flags&1048576)!==0&&Ru(t,fs,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,l=a._init;if(a=l(a._payload),t.type=a,typeof a=="function")Ir(a)?(e=Da(a,e),t.tag=1,t=Kd(null,t,a,e,n)):(t.tag=0,t=Ec(null,t,a,e,n));else{if(a!=null){if(l=a.$$typeof,l===J){t.tag=11,t=Gd(null,t,a,e,n);break e}else if(l===$){t.tag=14,t=Vd(null,t,a,e,n);break e}}throw t=le(a)||a,Error(c(306,t,""))}}return t;case 0:return Ec(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,l=Da(a,t.pendingProps),Kd(e,t,a,l,n);case 3:e:{if(at(t,t.stateNode.containerInfo),e===null)throw Error(c(387));a=t.pendingProps;var r=t.memoizedState;l=r.element,Pr(e,t),li(t,a,null,n);var f=t.memoizedState;if(a=f.cache,Zn(t,ot,a),a!==r.cache&&Qr(t,[ot],n,!0),ai(),a=f.element,r.isDehydrated)if(r={element:a,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=Zd(e,t,a,n);break e}else if(a!==l){l=Wt(Error(c(424)),t),Jl(l),t=Zd(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Je=fn(e.firstChild),_t=t,Me=!0,Ta=null,vn=!0,n=Od(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Zl(),a===l){t=Cn(e,t,n);break e}Nt(e,t,a,n)}t=t.child}return t;case 26:return Ds(e,t),e===null?(n=lh(t.type,null,t.pendingProps,null))?t.memoizedState=n:Me||(n=t.type,e=t.pendingProps,a=Qs(Qe.current).createElement(n),a[ct]=t,a[St]=e,At(a,n,e),ve(a),t.stateNode=a):t.memoizedState=lh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return qt(t),e===null&&Me&&(a=t.stateNode=th(t.type,t.pendingProps,Qe.current),_t=t,vn=!0,l=Je,ua(t.type)?(uo=l,Je=fn(a.firstChild)):Je=l),Nt(e,t,t.pendingProps.children,n),Ds(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Me&&((l=a=Je)&&(a=wg(a,t.type,t.pendingProps,vn),a!==null?(t.stateNode=a,_t=t,Je=fn(a.firstChild),vn=!1,l=!0):l=!1),l||Ba(t)),qt(t),l=t.type,r=t.pendingProps,f=e!==null?e.memoizedProps:null,a=r.children,so(l,r)?a=null:f!==null&&so(l,f)&&(t.flags|=32),t.memoizedState!==null&&(l=ic(e,t,Xm,null,null,n),Ti._currentValue=l),Ds(e,t),Nt(e,t,a,n),t.child;case 6:return e===null&&Me&&((e=n=Je)&&(n=Rg(n,t.pendingProps,vn),n!==null?(t.stateNode=n,_t=t,Je=null,e=!0):e=!1),e||Ba(t)),null;case 13:return Jd(e,t,n);case 4:return at(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ul(t,null,a,n):Nt(e,t,a,n),t.child;case 11:return Gd(e,t,t.type,t.pendingProps,n);case 7:return Nt(e,t,t.pendingProps,n),t.child;case 8:return Nt(e,t,t.pendingProps.children,n),t.child;case 12:return Nt(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Zn(t,t.type,a.value),Nt(e,t,a.children,n),t.child;case 9:return l=t.type._context,a=t.pendingProps.children,Ra(t),l=Bt(l),a=a(l),t.flags|=1,Nt(e,t,a,n),t.child;case 14:return Vd(e,t,t.type,t.pendingProps,n);case 15:return Yd(e,t,t.type,t.pendingProps,n);case 19:return Wd(e,t,n);case 31:return a=t.pendingProps,n=t.mode,a={mode:a.mode,children:a.children},e===null?(n=Us(a,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=wn(e.child,a),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Fd(e,t,n);case 24:return Ra(t),a=Bt(ot),e===null?(l=Jr(),l===null&&(l=Ve,r=Kr(),l.pooledCache=r,r.refCount++,r!==null&&(l.pooledCacheLanes|=n),l=r),t.memoizedState={parent:a,cache:l},Wr(t),Zn(t,ot,l)):((e.lanes&n)!==0&&(Pr(e,t),li(t,null,null,n),ai()),l=e.memoizedState,r=t.memoizedState,l.parent!==a?(l={parent:a,cache:a},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),Zn(t,ot,a)):(a=r.cache,Zn(t,ot,a),a!==l.cache&&Qr(t,[ot],n,!0))),Nt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function zn(e){e.flags|=4}function ef(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!oh(t)){if(t=nn.current,t!==null&&((Oe&4194048)===Oe?xn!==null:(Oe&62914560)!==Oe&&(Oe&536870912)===0||t!==xn))throw ti=$r,Lu;e.flags|=8192}}function Ms(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ol():536870912,e.lanes|=t,ml|=t)}function di(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags&65011712,a|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function tg(e,t,n){var a=t.pendingProps;switch(Vr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return Ke(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Dn(ot),ft(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Kl(t)?zn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Du())),Ke(t),null;case 26:return n=t.memoizedState,e===null?(zn(t),n!==null?(Ke(t),ef(t,n)):(Ke(t),t.flags&=-16777217)):n?n!==e.memoizedState?(zn(t),Ke(t),ef(t,n)):(Ke(t),t.flags&=-16777217):(e.memoizedProps!==a&&zn(t),Ke(t),t.flags&=-16777217),null;case 27:wt(t),n=Qe.current;var l=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&zn(t);else{if(!a){if(t.stateNode===null)throw Error(c(166));return Ke(t),null}e=_e.current,Kl(t)?_u(t):(e=th(l,a,n),t.stateNode=e,zn(t))}return Ke(t),null;case 5:if(wt(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&zn(t);else{if(!a){if(t.stateNode===null)throw Error(c(166));return Ke(t),null}if(e=_e.current,Kl(t))_u(t);else{switch(l=Qs(Qe.current),e){case 1:e=l.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=l.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=l.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=l.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?l.createElement("select",{is:a.is}):l.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?l.createElement(n,{is:a.is}):l.createElement(n)}}e[ct]=t,e[St]=a;e:for(l=t.child;l!==null;){if(l.tag===5||l.tag===6)e.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;l.sibling===null;){if(l.return===null||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=e;e:switch(At(e,n,a),n){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&zn(t)}}return Ke(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&zn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(c(166));if(e=Qe.current,Kl(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,l=_t,l!==null)switch(l.tag){case 27:case 5:a=l.memoizedProps}e[ct]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Kf(e.nodeValue,n)),e||Ba(t)}else e=Qs(e).createTextNode(a),e[ct]=t,t.stateNode=e}return Ke(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=Kl(t),a!==null&&a.dehydrated!==null){if(e===null){if(!l)throw Error(c(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(c(317));l[ct]=t}else Zl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ke(t),l=!1}else l=Du(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(Mn(t),t):(Mn(t),null)}if(Mn(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=a!==null,e=e!==null&&e.memoizedState!==null,n){a=t.child,l=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(l=a.alternate.memoizedState.cachePool.pool);var r=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==l&&(a.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Ms(t,t.updateQueue),Ke(t),null;case 4:return ft(),e===null&&to(t.stateNode.containerInfo),Ke(t),null;case 10:return Dn(t.type),Ke(t),null;case 19:if(de(ut),l=t.memoizedState,l===null)return Ke(t),null;if(a=(t.flags&128)!==0,r=l.rendering,r===null)if(a)di(l,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(r=Rs(e),r!==null){for(t.flags|=128,di(l,!1),e=r.updateQueue,t.updateQueue=e,Ms(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)wu(n,e),n=n.sibling;return pe(ut,ut.current&1|2),t.child}e=e.sibling}l.tail!==null&&oe()>Ls&&(t.flags|=128,a=!0,di(l,!1),t.lanes=4194304)}else{if(!a)if(e=Rs(r),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Ms(t,e),di(l,!0),l.tail===null&&l.tailMode==="hidden"&&!r.alternate&&!Me)return Ke(t),null}else 2*oe()-l.renderingStartTime>Ls&&n!==536870912&&(t.flags|=128,a=!0,di(l,!1),t.lanes=4194304);l.isBackwards?(r.sibling=t.child,t.child=r):(e=l.last,e!==null?e.sibling=r:t.child=r,l.last=r)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=oe(),t.sibling=null,e=ut.current,pe(ut,a?e&1|2:e&1),t):(Ke(t),null);case 22:case 23:return Mn(t),ac(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),n=t.updateQueue,n!==null&&Ms(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&de(_a),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Dn(ot),Ke(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function ng(e,t){switch(Vr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Dn(ot),ft(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return wt(t),null;case 13:if(Mn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));Zl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return de(ut),null;case 4:return ft(),null;case 10:return Dn(t.type),null;case 22:case 23:return Mn(t),ac(),e!==null&&de(_a),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Dn(ot),null;case 25:return null;default:return null}}function tf(e,t){switch(Vr(t),t.tag){case 3:Dn(ot),ft();break;case 26:case 27:case 5:wt(t);break;case 4:ft();break;case 13:Mn(t);break;case 19:de(ut);break;case 10:Dn(t.type);break;case 22:case 23:Mn(t),ac(),e!==null&&de(_a);break;case 24:Dn(ot)}}function fi(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var l=a.next;n=l;do{if((n.tag&e)===e){a=void 0;var r=n.create,f=n.inst;a=r(),f.destroy=a}n=n.next}while(n!==l)}}catch(m){Ge(t,t.return,m)}}function na(e,t,n){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var r=l.next;a=r;do{if((a.tag&e)===e){var f=a.inst,m=f.destroy;if(m!==void 0){f.destroy=void 0,l=t;var b=n,B=m;try{B()}catch(M){Ge(l,b,M)}}}a=a.next}while(a!==r)}}catch(M){Ge(t,t.return,M)}}function nf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Vu(t,n)}catch(a){Ge(e,e.return,a)}}}function af(e,t,n){n.props=Da(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Ge(e,t,a)}}function hi(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(l){Ge(e,t,l)}}function yn(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(l){Ge(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){Ge(e,t,l)}else n.current=null}function lf(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(l){Ge(e,e.return,l)}}function Oc(e,t,n){try{var a=e.stateNode;Eg(a,e.type,n,t),a[St]=t}catch(l){Ge(e,e.return,l)}}function sf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ua(e.type)||e.tag===4}function Dc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ua(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uc(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xs));else if(a!==4&&(a===27&&ua(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Uc(e,t,n),e=e.sibling;e!==null;)Uc(e,t,n),e=e.sibling}function Cs(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&ua(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Cs(e,t,n),e=e.sibling;e!==null;)Cs(e,t,n),e=e.sibling}function rf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);At(t,a,n),t[ct]=e,t[St]=n}catch(r){Ge(e,e.return,r)}}var Ln=!1,nt=!1,Mc=!1,cf=typeof WeakSet=="function"?WeakSet:Set,vt=null;function ag(e,t){if(e=e.containerInfo,lo=Ps,e=xu(e),Dr(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var l=a.anchorOffset,r=a.focusNode;a=a.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var f=0,m=-1,b=-1,B=0,M=0,I=e,_=null;t:for(;;){for(var O;I!==n||l!==0&&I.nodeType!==3||(m=f+l),I!==r||a!==0&&I.nodeType!==3||(b=f+a),I.nodeType===3&&(f+=I.nodeValue.length),(O=I.firstChild)!==null;)_=I,I=O;for(;;){if(I===e)break t;if(_===n&&++B===l&&(m=f),_===r&&++M===a&&(b=f),(O=I.nextSibling)!==null)break;I=_,_=I.parentNode}I=O}n=m===-1||b===-1?null:{start:m,end:b}}else n=null}n=n||{start:0,end:0}}else n=null;for(io={focusedElem:e,selectionRange:n},Ps=!1,vt=t;vt!==null;)if(t=vt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,vt=e;else for(;vt!==null;){switch(t=vt,r=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&r!==null){e=void 0,n=t,l=r.memoizedProps,r=r.memoizedState,a=n.stateNode;try{var be=Da(n.type,l,n.elementType===n.type);e=a.getSnapshotBeforeUpdate(be,r),a.__reactInternalSnapshotBeforeUpdate=e}catch(ge){Ge(n,n.return,ge)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)co(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":co(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,vt=e;break}vt=t.return}}function of(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:aa(e,n),a&4&&fi(5,n);break;case 1:if(aa(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(f){Ge(n,n.return,f)}else{var l=Da(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){Ge(n,n.return,f)}}a&64&&nf(n),a&512&&hi(n,n.return);break;case 3:if(aa(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Vu(e,t)}catch(f){Ge(n,n.return,f)}}break;case 27:t===null&&a&4&&rf(n);case 26:case 5:aa(e,n),t===null&&a&4&&lf(n),a&512&&hi(n,n.return);break;case 12:aa(e,n);break;case 13:aa(e,n),a&4&&ff(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=fg.bind(null,n),_g(e,n))));break;case 22:if(a=n.memoizedState!==null||Ln,!a){t=t!==null&&t.memoizedState!==null||nt,l=Ln;var r=nt;Ln=a,(nt=t)&&!r?la(e,n,(n.subtreeFlags&8772)!==0):aa(e,n),Ln=l,nt=r}break;case 30:break;default:aa(e,n)}}function uf(e){var t=e.alternate;t!==null&&(e.alternate=null,uf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Va(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Fe=null,Lt=!1;function kn(e,t,n){for(n=n.child;n!==null;)df(e,t,n),n=n.sibling}function df(e,t,n){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(rt,n)}catch{}switch(n.tag){case 26:nt||yn(n,t),kn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:nt||yn(n,t);var a=Fe,l=Lt;ua(n.type)&&(Fe=n.stateNode,Lt=!1),kn(e,t,n),Ni(n.stateNode),Fe=a,Lt=l;break;case 5:nt||yn(n,t);case 6:if(a=Fe,l=Lt,Fe=null,kn(e,t,n),Fe=a,Lt=l,Fe!==null)if(Lt)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(n.stateNode)}catch(r){Ge(n,t,r)}else try{Fe.removeChild(n.stateNode)}catch(r){Ge(n,t,r)}break;case 18:Fe!==null&&(Lt?(e=Fe,Pf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),_i(e)):Pf(Fe,n.stateNode));break;case 4:a=Fe,l=Lt,Fe=n.stateNode.containerInfo,Lt=!0,kn(e,t,n),Fe=a,Lt=l;break;case 0:case 11:case 14:case 15:nt||na(2,n,t),nt||na(4,n,t),kn(e,t,n);break;case 1:nt||(yn(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&af(n,t,a)),kn(e,t,n);break;case 21:kn(e,t,n);break;case 22:nt=(a=nt)||n.memoizedState!==null,kn(e,t,n),nt=a;break;default:kn(e,t,n)}}function ff(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{_i(e)}catch(n){Ge(t,t.return,n)}}function lg(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new cf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new cf),t;default:throw Error(c(435,e.tag))}}function Cc(e,t){var n=lg(e);t.forEach(function(a){var l=hg.bind(null,e,a);n.has(a)||(n.add(a),a.then(l,l))})}function Yt(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var l=n[a],r=e,f=t,m=f;e:for(;m!==null;){switch(m.tag){case 27:if(ua(m.type)){Fe=m.stateNode,Lt=!1;break e}break;case 5:Fe=m.stateNode,Lt=!1;break e;case 3:case 4:Fe=m.stateNode.containerInfo,Lt=!0;break e}m=m.return}if(Fe===null)throw Error(c(160));df(r,f,l),Fe=null,Lt=!1,r=l.alternate,r!==null&&(r.return=null),l.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)hf(t,e),t=t.sibling}var dn=null;function hf(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Yt(t,e),Ft(e),a&4&&(na(3,e,e.return),fi(3,e),na(5,e,e.return));break;case 1:Yt(t,e),Ft(e),a&512&&(nt||n===null||yn(n,n.return)),a&64&&Ln&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var l=dn;if(Yt(t,e),Ft(e),a&512&&(nt||n===null||yn(n,n.return)),a&4){var r=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,l=l.ownerDocument||l;t:switch(a){case"title":r=l.getElementsByTagName("title")[0],(!r||r[Yn]||r[ct]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=l.createElement(a),l.head.insertBefore(r,l.querySelector("head > title"))),At(r,a,n),r[ct]=e,ve(r),a=r;break e;case"link":var f=rh("link","href",l).get(a+(n.href||""));if(f){for(var m=0;m<f.length;m++)if(r=f[m],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){f.splice(m,1);break t}}r=l.createElement(a),At(r,a,n),l.head.appendChild(r);break;case"meta":if(f=rh("meta","content",l).get(a+(n.content||""))){for(m=0;m<f.length;m++)if(r=f[m],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){f.splice(m,1);break t}}r=l.createElement(a),At(r,a,n),l.head.appendChild(r);break;default:throw Error(c(468,a))}r[ct]=e,ve(r),a=r}e.stateNode=a}else ch(l,e.type,e.stateNode);else e.stateNode=sh(l,a,e.memoizedProps);else r!==a?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,a===null?ch(l,e.type,e.stateNode):sh(l,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Oc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Yt(t,e),Ft(e),a&512&&(nt||n===null||yn(n,n.return)),n!==null&&a&4&&Oc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Yt(t,e),Ft(e),a&512&&(nt||n===null||yn(n,n.return)),e.flags&32){l=e.stateNode;try{Xa(l,"")}catch(O){Ge(e,e.return,O)}}a&4&&e.stateNode!=null&&(l=e.memoizedProps,Oc(e,l,n!==null?n.memoizedProps:l)),a&1024&&(Mc=!0);break;case 6:if(Yt(t,e),Ft(e),a&4){if(e.stateNode===null)throw Error(c(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(O){Ge(e,e.return,O)}}break;case 3:if(Js=null,l=dn,dn=Ks(t.containerInfo),Yt(t,e),dn=l,Ft(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{_i(t.containerInfo)}catch(O){Ge(e,e.return,O)}Mc&&(Mc=!1,mf(e));break;case 4:a=dn,dn=Ks(e.stateNode.containerInfo),Yt(t,e),Ft(e),dn=a;break;case 12:Yt(t,e),Ft(e);break;case 13:Yt(t,e),Ft(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(qc=oe()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Cc(e,a)));break;case 22:l=e.memoizedState!==null;var b=n!==null&&n.memoizedState!==null,B=Ln,M=nt;if(Ln=B||l,nt=M||b,Yt(t,e),nt=M,Ln=B,Ft(e),a&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(n===null||b||Ln||nt||Ua(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){b=n=t;try{if(r=b.stateNode,l)f=r.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{m=b.stateNode;var I=b.memoizedProps.style,_=I!=null&&I.hasOwnProperty("display")?I.display:null;m.style.display=_==null||typeof _=="boolean"?"":(""+_).trim()}}catch(O){Ge(b,b.return,O)}}}else if(t.tag===6){if(n===null){b=t;try{b.stateNode.nodeValue=l?"":b.memoizedProps}catch(O){Ge(b,b.return,O)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Cc(e,n))));break;case 19:Yt(t,e),Ft(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Cc(e,a)));break;case 30:break;case 21:break;default:Yt(t,e),Ft(e)}}function Ft(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(sf(a)){n=a;break}a=a.return}if(n==null)throw Error(c(160));switch(n.tag){case 27:var l=n.stateNode,r=Dc(e);Cs(e,r,l);break;case 5:var f=n.stateNode;n.flags&32&&(Xa(f,""),n.flags&=-33);var m=Dc(e);Cs(e,m,f);break;case 3:case 4:var b=n.stateNode.containerInfo,B=Dc(e);Uc(e,B,b);break;default:throw Error(c(161))}}catch(M){Ge(e,e.return,M)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;mf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function aa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)of(e,t.alternate,t),t=t.sibling}function Ua(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:na(4,t,t.return),Ua(t);break;case 1:yn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&af(t,t.return,n),Ua(t);break;case 27:Ni(t.stateNode);case 26:case 5:yn(t,t.return),Ua(t);break;case 22:t.memoizedState===null&&Ua(t);break;case 30:Ua(t);break;default:Ua(t)}e=e.sibling}}function la(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,l=e,r=t,f=r.flags;switch(r.tag){case 0:case 11:case 15:la(l,r,n),fi(4,r);break;case 1:if(la(l,r,n),a=r,l=a.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(B){Ge(a,a.return,B)}if(a=r,l=a.updateQueue,l!==null){var m=a.stateNode;try{var b=l.shared.hiddenCallbacks;if(b!==null)for(l.shared.hiddenCallbacks=null,l=0;l<b.length;l++)Gu(b[l],m)}catch(B){Ge(a,a.return,B)}}n&&f&64&&nf(r),hi(r,r.return);break;case 27:rf(r);case 26:case 5:la(l,r,n),n&&a===null&&f&4&&lf(r),hi(r,r.return);break;case 12:la(l,r,n);break;case 13:la(l,r,n),n&&f&4&&ff(l,r);break;case 22:r.memoizedState===null&&la(l,r,n),hi(r,r.return);break;case 30:break;default:la(l,r,n)}t=t.sibling}}function zc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Wl(n))}function Lc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Wl(e))}function bn(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gf(e,t,n,a),t=t.sibling}function gf(e,t,n,a){var l=t.flags;switch(t.tag){case 0:case 11:case 15:bn(e,t,n,a),l&2048&&fi(9,t);break;case 1:bn(e,t,n,a);break;case 3:bn(e,t,n,a),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Wl(e)));break;case 12:if(l&2048){bn(e,t,n,a),e=t.stateNode;try{var r=t.memoizedProps,f=r.id,m=r.onPostCommit;typeof m=="function"&&m(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Ge(t,t.return,b)}}else bn(e,t,n,a);break;case 13:bn(e,t,n,a);break;case 23:break;case 22:r=t.stateNode,f=t.alternate,t.memoizedState!==null?r._visibility&2?bn(e,t,n,a):mi(e,t):r._visibility&2?bn(e,t,n,a):(r._visibility|=2,dl(e,t,n,a,(t.subtreeFlags&10256)!==0)),l&2048&&zc(f,t);break;case 24:bn(e,t,n,a),l&2048&&Lc(t.alternate,t);break;default:bn(e,t,n,a)}}function dl(e,t,n,a,l){for(l=l&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var r=e,f=t,m=n,b=a,B=f.flags;switch(f.tag){case 0:case 11:case 15:dl(r,f,m,b,l),fi(8,f);break;case 23:break;case 22:var M=f.stateNode;f.memoizedState!==null?M._visibility&2?dl(r,f,m,b,l):mi(r,f):(M._visibility|=2,dl(r,f,m,b,l)),l&&B&2048&&zc(f.alternate,f);break;case 24:dl(r,f,m,b,l),l&&B&2048&&Lc(f.alternate,f);break;default:dl(r,f,m,b,l)}t=t.sibling}}function mi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,l=a.flags;switch(a.tag){case 22:mi(n,a),l&2048&&zc(a.alternate,a);break;case 24:mi(n,a),l&2048&&Lc(a.alternate,a);break;default:mi(n,a)}t=t.sibling}}var gi=8192;function fl(e){if(e.subtreeFlags&gi)for(e=e.child;e!==null;)pf(e),e=e.sibling}function pf(e){switch(e.tag){case 26:fl(e),e.flags&gi&&e.memoizedState!==null&&Vg(dn,e.memoizedState,e.memoizedProps);break;case 5:fl(e);break;case 3:case 4:var t=dn;dn=Ks(e.stateNode.containerInfo),fl(e),dn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=gi,gi=16777216,fl(e),gi=t):fl(e));break;default:fl(e)}}function vf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function pi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];vt=a,yf(a,e)}vf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xf(e),e=e.sibling}function xf(e){switch(e.tag){case 0:case 11:case 15:pi(e),e.flags&2048&&na(9,e,e.return);break;case 3:pi(e);break;case 12:pi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,zs(e)):pi(e);break;default:pi(e)}}function zs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];vt=a,yf(a,e)}vf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:na(8,t,t.return),zs(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,zs(t));break;default:zs(t)}e=e.sibling}}function yf(e,t){for(;vt!==null;){var n=vt;switch(n.tag){case 0:case 11:case 15:na(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Wl(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,vt=a;else e:for(n=e;vt!==null;){a=vt;var l=a.sibling,r=a.return;if(uf(a),a===n){vt=null;break e}if(l!==null){l.return=r,vt=l;break e}vt=r}}}var ig={getCacheForType:function(e){var t=Bt(ot),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},sg=typeof WeakMap=="function"?WeakMap:Map,ze=0,Ve=null,Be=null,Oe=0,Le=0,Xt=null,ia=!1,hl=!1,kc=!1,In=0,$e=0,sa=0,Ma=0,Ic=0,an=0,ml=0,vi=null,kt=null,Hc=!1,qc=0,Ls=1/0,ks=null,ra=null,Et=0,ca=null,gl=null,pl=0,Gc=0,Vc=null,bf=null,xi=0,Yc=null;function Qt(){if((ze&2)!==0&&Oe!==0)return Oe&-Oe;if(S.T!==null){var e=al;return e!==0?e:$c()}return Ml()}function Sf(){an===0&&(an=(Oe&536870912)===0||Me?_l():536870912);var e=nn.current;return e!==null&&(e.flags|=32),an}function Kt(e,t,n){(e===Ve&&(Le===2||Le===9)||e.cancelPendingCommit!==null)&&(vl(e,0),oa(e,Oe,an,!1)),Vn(e,n),((ze&2)===0||e!==Ve)&&(e===Ve&&((ze&2)===0&&(Ma|=n),$e===4&&oa(e,Oe,an,!1)),Sn(e))}function Nf(e,t,n){if((ze&6)!==0)throw Error(c(327));var a=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Gn(e,t),l=a?og(e,t):Qc(e,t,!0),r=a;do{if(l===0){hl&&!a&&oa(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!rg(n)){l=Qc(e,t,!1),r=!1;continue}if(l===2){if(r=t,e.errorRecoveryDisabledLanes&r)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var m=e;l=vi;var b=m.current.memoizedState.isDehydrated;if(b&&(vl(m,f).flags|=256),f=Qc(m,f,!1),f!==2){if(kc&&!b){m.errorRecoveryDisabledLanes|=r,Ma|=r,l=4;break e}r=kt,kt=l,r!==null&&(kt===null?kt=r:kt.push.apply(kt,r))}l=f}if(r=!1,l!==2)continue}}if(l===1){vl(e,0),oa(e,t,0,!0);break}e:{switch(a=e,r=l,r){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:oa(a,t,an,!ia);break e;case 2:kt=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(l=qc+300-oe(),10<l)){if(oa(a,t,an,!ia),ya(a,0,!0)!==0)break e;a.timeoutHandle=$f(Ef.bind(null,a,n,kt,ks,Hc,t,an,Ma,ml,ia,r,2,-0,0),l);break e}Ef(a,n,kt,ks,Hc,t,an,Ma,ml,ia,r,0,-0,0)}}break}while(!0);Sn(e)}function Ef(e,t,n,a,l,r,f,m,b,B,M,I,_,O){if(e.timeoutHandle=-1,I=t.subtreeFlags,(I&8192||(I&16785408)===16785408)&&(ji={stylesheets:null,count:0,unsuspend:Gg},pf(t),I=Yg(),I!==null)){e.cancelPendingCommit=I(_f.bind(null,e,t,r,n,a,l,f,m,b,M,1,_,O)),oa(e,r,f,!B);return}_f(e,t,r,n,a,l,f,m,b)}function rg(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var l=n[a],r=l.getSnapshot;l=l.value;try{if(!Gt(r(),l))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function oa(e,t,n,a){t&=~Ic,t&=~Ma,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var l=t;0<l;){var r=31-Tt(l),f=1<<r;a[r]=-1,l&=~f}n!==0&&Dl(e,n,t)}function Is(){return(ze&6)===0?(yi(0),!1):!0}function Fc(){if(Be!==null){if(Le===0)var e=Be.return;else e=Be,On=wa=null,cc(e),ol=null,oi=0,e=Be;for(;e!==null;)tf(e.alternate,e),e=e.return;Be=null}}function vl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,jg(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Fc(),Ve=e,Be=n=wn(e.current,null),Oe=t,Le=0,Xt=null,ia=!1,hl=Gn(e,t),kc=!1,ml=an=Ic=Ma=sa=$e=0,kt=vi=null,Hc=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var l=31-Tt(a),r=1<<l;t|=e[l],a&=~r}return In=t,rs(),n}function Af(e,t){je=null,S.H=Ts,t===ei||t===ps?(t=Hu(),Le=3):t===Lu?(t=Hu(),Le=4):Le=t===qd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Xt=t,Be===null&&($e=1,Os(e,Wt(t,e.current)))}function jf(){var e=S.H;return S.H=Ts,e===null?Ts:e}function Tf(){var e=S.A;return S.A=ig,e}function Xc(){$e=4,ia||(Oe&4194048)!==Oe&&nn.current!==null||(hl=!0),(sa&134217727)===0&&(Ma&134217727)===0||Ve===null||oa(Ve,Oe,an,!1)}function Qc(e,t,n){var a=ze;ze|=2;var l=jf(),r=Tf();(Ve!==e||Oe!==t)&&(ks=null,vl(e,t)),t=!1;var f=$e;e:do try{if(Le!==0&&Be!==null){var m=Be,b=Xt;switch(Le){case 8:Fc(),f=6;break e;case 3:case 2:case 9:case 6:nn.current===null&&(t=!0);var B=Le;if(Le=0,Xt=null,xl(e,m,b,B),n&&hl){f=0;break e}break;default:B=Le,Le=0,Xt=null,xl(e,m,b,B)}}cg(),f=$e;break}catch(M){Af(e,M)}while(!0);return t&&e.shellSuspendCounter++,On=wa=null,ze=a,S.H=l,S.A=r,Be===null&&(Ve=null,Oe=0,rs()),f}function cg(){for(;Be!==null;)Bf(Be)}function og(e,t){var n=ze;ze|=2;var a=jf(),l=Tf();Ve!==e||Oe!==t?(ks=null,Ls=oe()+500,vl(e,t)):hl=Gn(e,t);e:do try{if(Le!==0&&Be!==null){t=Be;var r=Xt;t:switch(Le){case 1:Le=0,Xt=null,xl(e,t,r,1);break;case 2:case 9:if(ku(r)){Le=0,Xt=null,wf(t);break}t=function(){Le!==2&&Le!==9||Ve!==e||(Le=7),Sn(e)},r.then(t,t);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:ku(r)?(Le=0,Xt=null,wf(t)):(Le=0,Xt=null,xl(e,t,r,7));break;case 5:var f=null;switch(Be.tag){case 26:f=Be.memoizedState;case 5:case 27:var m=Be;if(!f||oh(f)){Le=0,Xt=null;var b=m.sibling;if(b!==null)Be=b;else{var B=m.return;B!==null?(Be=B,Hs(B)):Be=null}break t}}Le=0,Xt=null,xl(e,t,r,5);break;case 6:Le=0,Xt=null,xl(e,t,r,6);break;case 8:Fc(),$e=6;break e;default:throw Error(c(462))}}ug();break}catch(M){Af(e,M)}while(!0);return On=wa=null,S.H=a,S.A=l,ze=n,Be!==null?0:(Ve=null,Oe=0,rs(),$e)}function ug(){for(;Be!==null&&!Se();)Bf(Be)}function Bf(e){var t=Pd(e.alternate,e,In);e.memoizedProps=e.pendingProps,t===null?Hs(e):Be=t}function wf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Qd(n,t,t.pendingProps,t.type,void 0,Oe);break;case 11:t=Qd(n,t,t.pendingProps,t.type.render,t.ref,Oe);break;case 5:cc(t);default:tf(n,t),t=Be=wu(t,In),t=Pd(n,t,In)}e.memoizedProps=e.pendingProps,t===null?Hs(e):Be=t}function xl(e,t,n,a){On=wa=null,cc(t),ol=null,oi=0;var l=t.return;try{if(Pm(e,l,t,n,Oe)){$e=1,Os(e,Wt(n,e.current)),Be=null;return}}catch(r){if(l!==null)throw Be=l,r;$e=1,Os(e,Wt(n,e.current)),Be=null;return}t.flags&32768?(Me||a===1?e=!0:hl||(Oe&536870912)!==0?e=!1:(ia=e=!0,(a===2||a===9||a===3||a===6)&&(a=nn.current,a!==null&&a.tag===13&&(a.flags|=16384))),Rf(t,e)):Hs(t)}function Hs(e){var t=e;do{if((t.flags&32768)!==0){Rf(t,ia);return}e=t.return;var n=tg(t.alternate,t,In);if(n!==null){Be=n;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);$e===0&&($e=5)}function Rf(e,t){do{var n=ng(e.alternate,e);if(n!==null){n.flags&=32767,Be=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Be=e;return}Be=e=n}while(e!==null);$e=6,Be=null}function _f(e,t,n,a,l,r,f,m,b){e.cancelPendingCommit=null;do qs();while(Et!==0);if((ze&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(r=t.lanes|t.childLanes,r|=Lr,Qi(e,n,r,f,m,b),e===Ve&&(Be=Ve=null,Oe=0),gl=t,ca=e,pl=n,Gc=r,Vc=l,bf=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,mg(fe,function(){return Cf(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=S.T,S.T=null,l=G.p,G.p=2,f=ze,ze|=4;try{ag(e,t,n)}finally{ze=f,G.p=l,S.T=a}}Et=1,Of(),Df(),Uf()}}function Of(){if(Et===1){Et=0;var e=ca,t=gl,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=S.T,S.T=null;var a=G.p;G.p=2;var l=ze;ze|=4;try{hf(t,e);var r=io,f=xu(e.containerInfo),m=r.focusedElem,b=r.selectionRange;if(f!==m&&m&&m.ownerDocument&&vu(m.ownerDocument.documentElement,m)){if(b!==null&&Dr(m)){var B=b.start,M=b.end;if(M===void 0&&(M=B),"selectionStart"in m)m.selectionStart=B,m.selectionEnd=Math.min(M,m.value.length);else{var I=m.ownerDocument||document,_=I&&I.defaultView||window;if(_.getSelection){var O=_.getSelection(),be=m.textContent.length,ge=Math.min(b.start,be),qe=b.end===void 0?ge:Math.min(b.end,be);!O.extend&&ge>qe&&(f=qe,qe=ge,ge=f);var j=pu(m,ge),E=pu(m,qe);if(j&&E&&(O.rangeCount!==1||O.anchorNode!==j.node||O.anchorOffset!==j.offset||O.focusNode!==E.node||O.focusOffset!==E.offset)){var T=I.createRange();T.setStart(j.node,j.offset),O.removeAllRanges(),ge>qe?(O.addRange(T),O.extend(E.node,E.offset)):(T.setEnd(E.node,E.offset),O.addRange(T))}}}}for(I=[],O=m;O=O.parentNode;)O.nodeType===1&&I.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<I.length;m++){var z=I[m];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}Ps=!!lo,io=lo=null}finally{ze=l,G.p=a,S.T=n}}e.current=t,Et=2}}function Df(){if(Et===2){Et=0;var e=ca,t=gl,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=S.T,S.T=null;var a=G.p;G.p=2;var l=ze;ze|=4;try{of(e,t.alternate,t)}finally{ze=l,G.p=a,S.T=n}}Et=3}}function Uf(){if(Et===4||Et===3){Et=0,Ae();var e=ca,t=gl,n=pl,a=bf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Et=5:(Et=0,gl=ca=null,Mf(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(ra=null),qa(n),t=t.stateNode,mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(rt,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=S.T,l=G.p,G.p=2,S.T=null;try{for(var r=e.onRecoverableError,f=0;f<a.length;f++){var m=a[f];r(m.value,{componentStack:m.stack})}}finally{S.T=t,G.p=l}}(pl&3)!==0&&qs(),Sn(e),l=e.pendingLanes,(n&4194090)!==0&&(l&42)!==0?e===Yc?xi++:(xi=0,Yc=e):xi=0,yi(0)}}function Mf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Wl(t)))}function qs(e){return Of(),Df(),Uf(),Cf()}function Cf(){if(Et!==5)return!1;var e=ca,t=Gc;Gc=0;var n=qa(pl),a=S.T,l=G.p;try{G.p=32>n?32:n,S.T=null,n=Vc,Vc=null;var r=ca,f=pl;if(Et=0,gl=ca=null,pl=0,(ze&6)!==0)throw Error(c(331));var m=ze;if(ze|=4,xf(r.current),gf(r,r.current,f,n),ze=m,yi(0,!1),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(rt,r)}catch{}return!0}finally{G.p=l,S.T=a,Mf(e,t)}}function zf(e,t,n){t=Wt(n,t),t=Nc(e.stateNode,t,2),e=Wn(e,t,2),e!==null&&(Vn(e,2),Sn(e))}function Ge(e,t,n){if(e.tag===3)zf(e,e,n);else for(;t!==null;){if(t.tag===3){zf(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ra===null||!ra.has(a))){e=Wt(n,e),n=Id(2),a=Wn(t,n,2),a!==null&&(Hd(n,a,t,e),Vn(a,2),Sn(a));break}}t=t.return}}function Kc(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new sg;var l=new Set;a.set(t,l)}else l=a.get(t),l===void 0&&(l=new Set,a.set(t,l));l.has(n)||(kc=!0,l.add(n),e=dg.bind(null,e,t,n),t.then(e,e))}function dg(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ve===e&&(Oe&n)===n&&($e===4||$e===3&&(Oe&62914560)===Oe&&300>oe()-qc?(ze&2)===0&&vl(e,0):Ic|=n,ml===Oe&&(ml=0)),Sn(e)}function Lf(e,t){t===0&&(t=Ol()),e=Pa(e,t),e!==null&&(Vn(e,t),Sn(e))}function fg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Lf(e,n)}function hg(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(c(314))}a!==null&&a.delete(t),Lf(e,n)}function mg(e,t){return K(e,t)}var Gs=null,yl=null,Zc=!1,Vs=!1,Jc=!1,Ca=0;function Sn(e){e!==yl&&e.next===null&&(yl===null?Gs=yl=e:yl=yl.next=e),Vs=!0,Zc||(Zc=!0,pg())}function yi(e,t){if(!Jc&&Vs){Jc=!0;do for(var n=!1,a=Gs;a!==null;){if(e!==0){var l=a.pendingLanes;if(l===0)var r=0;else{var f=a.suspendedLanes,m=a.pingedLanes;r=(1<<31-Tt(42|e)+1)-1,r&=l&~(f&~m),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,qf(a,r))}else r=Oe,r=ya(a,a===Ve?r:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(r&3)===0||Gn(a,r)||(n=!0,qf(a,r));a=a.next}while(n);Jc=!1}}function gg(){kf()}function kf(){Vs=Zc=!1;var e=0;Ca!==0&&(Ag()&&(e=Ca),Ca=0);for(var t=oe(),n=null,a=Gs;a!==null;){var l=a.next,r=If(a,t);r===0?(a.next=null,n===null?Gs=l:n.next=l,l===null&&(yl=n)):(n=a,(e!==0||(r&3)!==0)&&(Vs=!0)),a=l}yi(e)}function If(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,l=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var f=31-Tt(r),m=1<<f,b=l[f];b===-1?((m&n)===0||(m&a)!==0)&&(l[f]=Xi(m,t)):b<=t&&(e.expiredLanes|=m),r&=~m}if(t=Ve,n=Oe,n=ya(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Le===2||Le===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&ce(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Gn(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&ce(a),qa(n)){case 2:case 8:n=X;break;case 32:n=fe;break;case 268435456:n=Ze;break;default:n=fe}return a=Hf.bind(null,e),n=K(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&ce(a),e.callbackPriority=2,e.callbackNode=null,2}function Hf(e,t){if(Et!==0&&Et!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(qs()&&e.callbackNode!==n)return null;var a=Oe;return a=ya(e,e===Ve?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Nf(e,a,t),If(e,oe()),e.callbackNode!=null&&e.callbackNode===n?Hf.bind(null,e):null)}function qf(e,t){if(qs())return null;Nf(e,t,!0)}function pg(){Tg(function(){(ze&6)!==0?K(C,gg):kf()})}function $c(){return Ca===0&&(Ca=_l()),Ca}function Gf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:es(""+e)}function Vf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function vg(e,t,n,a,l){if(t==="submit"&&n&&n.stateNode===l){var r=Gf((l[St]||null).action),f=a.submitter;f&&(t=(t=f[St]||null)?Gf(t.formAction):f.getAttribute("formAction"),t!==null&&(r=t,f=null));var m=new ls("action","action",null,a,l);e.push({event:m,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Ca!==0){var b=f?Vf(l,f):new FormData(l);vc(n,{pending:!0,data:b,method:l.method,action:r},null,b)}}else typeof r=="function"&&(m.preventDefault(),b=f?Vf(l,f):new FormData(l),vc(n,{pending:!0,data:b,method:l.method,action:r},r,b))},currentTarget:l}]})}}for(var Wc=0;Wc<zr.length;Wc++){var Pc=zr[Wc],xg=Pc.toLowerCase(),yg=Pc[0].toUpperCase()+Pc.slice(1);un(xg,"on"+yg)}un(Su,"onAnimationEnd"),un(Nu,"onAnimationIteration"),un(Eu,"onAnimationStart"),un("dblclick","onDoubleClick"),un("focusin","onFocus"),un("focusout","onBlur"),un(zm,"onTransitionRun"),un(Lm,"onTransitionStart"),un(km,"onTransitionCancel"),un(Au,"onTransitionEnd"),et("onMouseEnter",["mouseout","mouseover"]),et("onMouseLeave",["mouseout","mouseover"]),et("onPointerEnter",["pointerout","pointerover"]),et("onPointerLeave",["pointerout","pointerover"]),ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bi));function Yf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],l=a.event;a=a.listeners;e:{var r=void 0;if(t)for(var f=a.length-1;0<=f;f--){var m=a[f],b=m.instance,B=m.currentTarget;if(m=m.listener,b!==r&&l.isPropagationStopped())break e;r=m,l.currentTarget=B;try{r(l)}catch(M){_s(M)}l.currentTarget=null,r=b}else for(f=0;f<a.length;f++){if(m=a[f],b=m.instance,B=m.currentTarget,m=m.listener,b!==r&&l.isPropagationStopped())break e;r=m,l.currentTarget=B;try{r(l)}catch(M){_s(M)}l.currentTarget=null,r=b}}}}function we(e,t){var n=t[Ga];n===void 0&&(n=t[Ga]=new Set);var a=e+"__bubble";n.has(a)||(Ff(t,e,2,!1),n.add(a))}function eo(e,t,n){var a=0;t&&(a|=4),Ff(n,e,a,t)}var Ys="_reactListening"+Math.random().toString(36).slice(2);function to(e){if(!e[Ys]){e[Ys]=!0,Ce.forEach(function(n){n!=="selectionchange"&&(bg.has(n)||eo(n,!1,e),eo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ys]||(t[Ys]=!0,eo("selectionchange",!1,t))}}function Ff(e,t,n,a){switch(gh(t)){case 2:var l=Qg;break;case 8:l=Kg;break;default:l=po}n=l.bind(null,t,n,e),l=void 0,!Er||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),a?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function no(e,t,n,a,l){var r=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var f=a.tag;if(f===3||f===4){var m=a.stateNode.containerInfo;if(m===l)break;if(f===4)for(f=a.return;f!==null;){var b=f.tag;if((b===3||b===4)&&f.stateNode.containerInfo===l)return;f=f.return}for(;m!==null;){if(f=jn(m),f===null)return;if(b=f.tag,b===5||b===6||b===26||b===27){a=r=f;continue e}m=m.parentNode}}a=a.return}$o(function(){var B=r,M=Sr(n),I=[];e:{var _=ju.get(e);if(_!==void 0){var O=ls,be=e;switch(e){case"keypress":if(ns(n)===0)break e;case"keydown":case"keyup":O=mm;break;case"focusin":be="focus",O=Br;break;case"focusout":be="blur",O=Br;break;case"beforeblur":case"afterblur":O=Br;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=eu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=nm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=vm;break;case Su:case Nu:case Eu:O=im;break;case Au:O=ym;break;case"scroll":case"scrollend":O=em;break;case"wheel":O=Sm;break;case"copy":case"cut":case"paste":O=rm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=nu;break;case"toggle":case"beforetoggle":O=Em}var ge=(t&4)!==0,qe=!ge&&(e==="scroll"||e==="scrollend"),j=ge?_!==null?_+"Capture":null:_;ge=[];for(var E=B,T;E!==null;){var z=E;if(T=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||T===null||j===null||(z=Il(E,j),z!=null&&ge.push(Si(E,z,T))),qe)break;E=E.return}0<ge.length&&(_=new O(_,be,null,n,M),I.push({event:_,listeners:ge}))}}if((t&7)===0){e:{if(_=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",_&&n!==br&&(be=n.relatedTarget||n.fromElement)&&(jn(be)||be[An]))break e;if((O||_)&&(_=M.window===M?M:(_=M.ownerDocument)?_.defaultView||_.parentWindow:window,O?(be=n.relatedTarget||n.toElement,O=B,be=be?jn(be):null,be!==null&&(qe=h(be),ge=be.tag,be!==qe||ge!==5&&ge!==27&&ge!==6)&&(be=null)):(O=null,be=B),O!==be)){if(ge=eu,z="onMouseLeave",j="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(ge=nu,z="onPointerLeave",j="onPointerEnter",E="pointer"),qe=O==null?_:Fn(O),T=be==null?_:Fn(be),_=new ge(z,E+"leave",O,n,M),_.target=qe,_.relatedTarget=T,z=null,jn(M)===B&&(ge=new ge(j,E+"enter",be,n,M),ge.target=T,ge.relatedTarget=qe,z=ge),qe=z,O&&be)t:{for(ge=O,j=be,E=0,T=ge;T;T=bl(T))E++;for(T=0,z=j;z;z=bl(z))T++;for(;0<E-T;)ge=bl(ge),E--;for(;0<T-E;)j=bl(j),T--;for(;E--;){if(ge===j||j!==null&&ge===j.alternate)break t;ge=bl(ge),j=bl(j)}ge=null}else ge=null;O!==null&&Xf(I,_,O,ge,!1),be!==null&&qe!==null&&Xf(I,qe,be,ge,!0)}}e:{if(_=B?Fn(B):window,O=_.nodeName&&_.nodeName.toLowerCase(),O==="select"||O==="input"&&_.type==="file")var re=uu;else if(cu(_))if(du)re=Um;else{re=Om;var Te=_m}else O=_.nodeName,!O||O.toLowerCase()!=="input"||_.type!=="checkbox"&&_.type!=="radio"?B&&yr(B.elementType)&&(re=uu):re=Dm;if(re&&(re=re(e,B))){ou(I,re,n,M);break e}Te&&Te(e,_,B),e==="focusout"&&B&&_.type==="number"&&B.memoizedProps.value!=null&&xr(_,"number",_.value)}switch(Te=B?Fn(B):window,e){case"focusin":(cu(Te)||Te.contentEditable==="true")&&(Ja=Te,Ur=B,Ql=null);break;case"focusout":Ql=Ur=Ja=null;break;case"mousedown":Mr=!0;break;case"contextmenu":case"mouseup":case"dragend":Mr=!1,yu(I,n,M);break;case"selectionchange":if(Cm)break;case"keydown":case"keyup":yu(I,n,M)}var ue;if(Rr)e:{switch(e){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Za?su(e,n)&&(xe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(xe="onCompositionStart");xe&&(au&&n.locale!=="ko"&&(Za||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Za&&(ue=Wo()):(Kn=M,Ar="value"in Kn?Kn.value:Kn.textContent,Za=!0)),Te=Fs(B,xe),0<Te.length&&(xe=new tu(xe,e,null,n,M),I.push({event:xe,listeners:Te}),ue?xe.data=ue:(ue=ru(n),ue!==null&&(xe.data=ue)))),(ue=jm?Tm(e,n):Bm(e,n))&&(xe=Fs(B,"onBeforeInput"),0<xe.length&&(Te=new tu("onBeforeInput","beforeinput",null,n,M),I.push({event:Te,listeners:xe}),Te.data=ue)),vg(I,e,B,n,M)}Yf(I,t)})}function Si(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fs(e,t){for(var n=t+"Capture",a=[];e!==null;){var l=e,r=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||r===null||(l=Il(e,n),l!=null&&a.unshift(Si(e,l,r)),l=Il(e,t),l!=null&&a.push(Si(e,l,r))),e.tag===3)return a;e=e.return}return[]}function bl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xf(e,t,n,a,l){for(var r=t._reactName,f=[];n!==null&&n!==a;){var m=n,b=m.alternate,B=m.stateNode;if(m=m.tag,b!==null&&b===a)break;m!==5&&m!==26&&m!==27||B===null||(b=B,l?(B=Il(n,r),B!=null&&f.unshift(Si(n,B,b))):l||(B=Il(n,r),B!=null&&f.push(Si(n,B,b)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var Sg=/\r\n?/g,Ng=/\u0000|\uFFFD/g;function Qf(e){return(typeof e=="string"?e:""+e).replace(Sg,`
`).replace(Ng,"")}function Kf(e,t){return t=Qf(t),Qf(e)===t}function Xs(){}function He(e,t,n,a,l,r){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Xa(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Xa(e,""+a);break;case"className":Ya(e,"class",a);break;case"tabIndex":Ya(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Ya(e,n,a);break;case"style":Zo(e,a,r);break;case"data":if(t!=="object"){Ya(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=es(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&He(e,t,"name",l.name,l,null),He(e,t,"formEncType",l.formEncType,l,null),He(e,t,"formMethod",l.formMethod,l,null),He(e,t,"formTarget",l.formTarget,l,null)):(He(e,t,"encType",l.encType,l,null),He(e,t,"method",l.method,l,null),He(e,t,"target",l.target,l,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=es(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Xs);break;case"onScroll":a!=null&&we("scroll",e);break;case"onScrollEnd":a!=null&&we("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(c(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(c(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=es(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":we("beforetoggle",e),we("toggle",e),pn(e,"popover",a);break;case"xlinkActuate":on(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":on(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":on(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":on(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":on(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":on(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":on(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":on(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":on(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":pn(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=W0.get(n)||n,pn(e,n,a))}}function ao(e,t,n,a,l,r){switch(n){case"style":Zo(e,a,r);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(c(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(c(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Xa(e,a):(typeof a=="number"||typeof a=="bigint")&&Xa(e,""+a);break;case"onScroll":a!=null&&we("scroll",e);break;case"onScrollEnd":a!=null&&we("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Xs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rt.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),t=n.slice(2,l?n.length-7:void 0),r=e[St]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,l),typeof a=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,l);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):pn(e,n,a)}}}function At(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",e),we("load",e);var a=!1,l=!1,r;for(r in n)if(n.hasOwnProperty(r)){var f=n[r];if(f!=null)switch(r){case"src":a=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:He(e,t,r,f,n,null)}}l&&He(e,t,"srcSet",n.srcSet,n,null),a&&He(e,t,"src",n.src,n,null);return;case"input":we("invalid",e);var m=r=f=l=null,b=null,B=null;for(a in n)if(n.hasOwnProperty(a)){var M=n[a];if(M!=null)switch(a){case"name":l=M;break;case"type":f=M;break;case"checked":b=M;break;case"defaultChecked":B=M;break;case"value":r=M;break;case"defaultValue":m=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(c(137,t));break;default:He(e,t,a,M,n,null)}}Fo(e,r,m,b,B,f,l,!1),Wi(e);return;case"select":we("invalid",e),a=f=r=null;for(l in n)if(n.hasOwnProperty(l)&&(m=n[l],m!=null))switch(l){case"value":r=m;break;case"defaultValue":f=m;break;case"multiple":a=m;default:He(e,t,l,m,n,null)}t=r,n=f,e.multiple=!!a,t!=null?Fa(e,!!a,t,!1):n!=null&&Fa(e,!!a,n,!0);return;case"textarea":we("invalid",e),r=l=a=null;for(f in n)if(n.hasOwnProperty(f)&&(m=n[f],m!=null))switch(f){case"value":a=m;break;case"defaultValue":l=m;break;case"children":r=m;break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(c(91));break;default:He(e,t,f,m,n,null)}Qo(e,a,l,r),Wi(e);return;case"option":for(b in n)if(n.hasOwnProperty(b)&&(a=n[b],a!=null))switch(b){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:He(e,t,b,a,n,null)}return;case"dialog":we("beforetoggle",e),we("toggle",e),we("cancel",e),we("close",e);break;case"iframe":case"object":we("load",e);break;case"video":case"audio":for(a=0;a<bi.length;a++)we(bi[a],e);break;case"image":we("error",e),we("load",e);break;case"details":we("toggle",e);break;case"embed":case"source":case"link":we("error",e),we("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in n)if(n.hasOwnProperty(B)&&(a=n[B],a!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:He(e,t,B,a,n,null)}return;default:if(yr(t)){for(M in n)n.hasOwnProperty(M)&&(a=n[M],a!==void 0&&ao(e,t,M,a,n,void 0));return}}for(m in n)n.hasOwnProperty(m)&&(a=n[m],a!=null&&He(e,t,m,a,n,null))}function Eg(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,r=null,f=null,m=null,b=null,B=null,M=null;for(O in n){var I=n[O];if(n.hasOwnProperty(O)&&I!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":b=I;default:a.hasOwnProperty(O)||He(e,t,O,null,a,I)}}for(var _ in a){var O=a[_];if(I=n[_],a.hasOwnProperty(_)&&(O!=null||I!=null))switch(_){case"type":r=O;break;case"name":l=O;break;case"checked":B=O;break;case"defaultChecked":M=O;break;case"value":f=O;break;case"defaultValue":m=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(c(137,t));break;default:O!==I&&He(e,t,_,O,a,I)}}vr(e,f,m,b,B,M,r,l);return;case"select":O=f=m=_=null;for(r in n)if(b=n[r],n.hasOwnProperty(r)&&b!=null)switch(r){case"value":break;case"multiple":O=b;default:a.hasOwnProperty(r)||He(e,t,r,null,a,b)}for(l in a)if(r=a[l],b=n[l],a.hasOwnProperty(l)&&(r!=null||b!=null))switch(l){case"value":_=r;break;case"defaultValue":m=r;break;case"multiple":f=r;default:r!==b&&He(e,t,l,r,a,b)}t=m,n=f,a=O,_!=null?Fa(e,!!n,_,!1):!!a!=!!n&&(t!=null?Fa(e,!!n,t,!0):Fa(e,!!n,n?[]:"",!1));return;case"textarea":O=_=null;for(m in n)if(l=n[m],n.hasOwnProperty(m)&&l!=null&&!a.hasOwnProperty(m))switch(m){case"value":break;case"children":break;default:He(e,t,m,null,a,l)}for(f in a)if(l=a[f],r=n[f],a.hasOwnProperty(f)&&(l!=null||r!=null))switch(f){case"value":_=l;break;case"defaultValue":O=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(c(91));break;default:l!==r&&He(e,t,f,l,a,r)}Xo(e,_,O);return;case"option":for(var be in n)if(_=n[be],n.hasOwnProperty(be)&&_!=null&&!a.hasOwnProperty(be))switch(be){case"selected":e.selected=!1;break;default:He(e,t,be,null,a,_)}for(b in a)if(_=a[b],O=n[b],a.hasOwnProperty(b)&&_!==O&&(_!=null||O!=null))switch(b){case"selected":e.selected=_&&typeof _!="function"&&typeof _!="symbol";break;default:He(e,t,b,_,a,O)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in n)_=n[ge],n.hasOwnProperty(ge)&&_!=null&&!a.hasOwnProperty(ge)&&He(e,t,ge,null,a,_);for(B in a)if(_=a[B],O=n[B],a.hasOwnProperty(B)&&_!==O&&(_!=null||O!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(c(137,t));break;default:He(e,t,B,_,a,O)}return;default:if(yr(t)){for(var qe in n)_=n[qe],n.hasOwnProperty(qe)&&_!==void 0&&!a.hasOwnProperty(qe)&&ao(e,t,qe,void 0,a,_);for(M in a)_=a[M],O=n[M],!a.hasOwnProperty(M)||_===O||_===void 0&&O===void 0||ao(e,t,M,_,a,O);return}}for(var j in n)_=n[j],n.hasOwnProperty(j)&&_!=null&&!a.hasOwnProperty(j)&&He(e,t,j,null,a,_);for(I in a)_=a[I],O=n[I],!a.hasOwnProperty(I)||_===O||_==null&&O==null||He(e,t,I,_,a,O)}var lo=null,io=null;function Qs(e){return e.nodeType===9?e:e.ownerDocument}function Zf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function so(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ro=null;function Ag(){var e=window.event;return e&&e.type==="popstate"?e===ro?!1:(ro=e,!0):(ro=null,!1)}var $f=typeof setTimeout=="function"?setTimeout:void 0,jg=typeof clearTimeout=="function"?clearTimeout:void 0,Wf=typeof Promise=="function"?Promise:void 0,Tg=typeof queueMicrotask=="function"?queueMicrotask:typeof Wf<"u"?function(e){return Wf.resolve(null).then(e).catch(Bg)}:$f;function Bg(e){setTimeout(function(){throw e})}function ua(e){return e==="head"}function Pf(e,t){var n=t,a=0,l=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(0<a&&8>a){n=a;var f=e.ownerDocument;if(n&1&&Ni(f.documentElement),n&2&&Ni(f.body),n&4)for(n=f.head,Ni(n),f=n.firstChild;f;){var m=f.nextSibling,b=f.nodeName;f[Yn]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||n.removeChild(f),f=m}}if(l===0){e.removeChild(r),_i(t);return}l--}else n==="$"||n==="$?"||n==="$!"?l++:a=n.charCodeAt(0)-48;else a=0;n=r}while(n);_i(t)}function co(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":co(n),Va(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function wg(e,t,n,a){for(;e.nodeType===1;){var l=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Yn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=fn(e.nextSibling),e===null)break}return null}function Rg(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=fn(e.nextSibling),e===null))return null;return e}function oo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function _g(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var uo=null;function eh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function th(e,t,n){switch(t=Qs(n),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function Ni(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Va(e)}var ln=new Map,nh=new Set;function Ks(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Hn=G.d;G.d={f:Og,r:Dg,D:Ug,C:Mg,L:Cg,m:zg,X:kg,S:Lg,M:Ig};function Og(){var e=Hn.f(),t=Is();return e||t}function Dg(e){var t=Tn(e);t!==null&&t.tag===5&&t.type==="form"?Sd(t):Hn.r(e)}var Sl=typeof document>"u"?null:document;function ah(e,t,n){var a=Sl;if(a&&typeof t=="string"&&t){var l=$t(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),nh.has(l)||(nh.add(l),e={rel:e,crossOrigin:n,href:t},a.querySelector(l)===null&&(t=a.createElement("link"),At(t,"link",e),ve(t),a.head.appendChild(t)))}}function Ug(e){Hn.D(e),ah("dns-prefetch",e,null)}function Mg(e,t){Hn.C(e,t),ah("preconnect",e,t)}function Cg(e,t,n){Hn.L(e,t,n);var a=Sl;if(a&&e&&t){var l='link[rel="preload"][as="'+$t(t)+'"]';t==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+$t(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+$t(n.imageSizes)+'"]')):l+='[href="'+$t(e)+'"]';var r=l;switch(t){case"style":r=Nl(e);break;case"script":r=El(e)}ln.has(r)||(e=y({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),ln.set(r,e),a.querySelector(l)!==null||t==="style"&&a.querySelector(Ei(r))||t==="script"&&a.querySelector(Ai(r))||(t=a.createElement("link"),At(t,"link",e),ve(t),a.head.appendChild(t)))}}function zg(e,t){Hn.m(e,t);var n=Sl;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+$t(a)+'"][href="'+$t(e)+'"]',r=l;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=El(e)}if(!ln.has(r)&&(e=y({rel:"modulepreload",href:e},t),ln.set(r,e),n.querySelector(l)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ai(r)))return}a=n.createElement("link"),At(a,"link",e),ve(a),n.head.appendChild(a)}}}function Lg(e,t,n){Hn.S(e,t,n);var a=Sl;if(a&&e){var l=ie(a).hoistableStyles,r=Nl(e);t=t||"default";var f=l.get(r);if(!f){var m={loading:0,preload:null};if(f=a.querySelector(Ei(r)))m.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ln.get(r))&&fo(e,n);var b=f=a.createElement("link");ve(b),At(b,"link",e),b._p=new Promise(function(B,M){b.onload=B,b.onerror=M}),b.addEventListener("load",function(){m.loading|=1}),b.addEventListener("error",function(){m.loading|=2}),m.loading|=4,Zs(f,t,a)}f={type:"stylesheet",instance:f,count:1,state:m},l.set(r,f)}}}function kg(e,t){Hn.X(e,t);var n=Sl;if(n&&e){var a=ie(n).hoistableScripts,l=El(e),r=a.get(l);r||(r=n.querySelector(Ai(l)),r||(e=y({src:e,async:!0},t),(t=ln.get(l))&&ho(e,t),r=n.createElement("script"),ve(r),At(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(l,r))}}function Ig(e,t){Hn.M(e,t);var n=Sl;if(n&&e){var a=ie(n).hoistableScripts,l=El(e),r=a.get(l);r||(r=n.querySelector(Ai(l)),r||(e=y({src:e,async:!0,type:"module"},t),(t=ln.get(l))&&ho(e,t),r=n.createElement("script"),ve(r),At(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(l,r))}}function lh(e,t,n,a){var l=(l=Qe.current)?Ks(l):null;if(!l)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Nl(n.href),n=ie(l).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Nl(n.href);var r=ie(l).hoistableStyles,f=r.get(e);if(f||(l=l.ownerDocument||l,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,f),(r=l.querySelector(Ei(e)))&&!r._p&&(f.instance=r,f.state.loading=5),ln.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ln.set(e,n),r||Hg(l,e,n,f.state))),t&&a===null)throw Error(c(528,""));return f}if(t&&a!==null)throw Error(c(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=El(n),n=ie(l).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function Nl(e){return'href="'+$t(e)+'"'}function Ei(e){return'link[rel="stylesheet"]['+e+"]"}function ih(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function Hg(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),At(t,"link",n),ve(t),e.head.appendChild(t))}function El(e){return'[src="'+$t(e)+'"]'}function Ai(e){return"script[async]"+e}function sh(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+$t(n.href)+'"]');if(a)return t.instance=a,ve(a),a;var l=y({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),ve(a),At(a,"style",l),Zs(a,n.precedence,e),t.instance=a;case"stylesheet":l=Nl(n.href);var r=e.querySelector(Ei(l));if(r)return t.state.loading|=4,t.instance=r,ve(r),r;a=ih(n),(l=ln.get(l))&&fo(a,l),r=(e.ownerDocument||e).createElement("link"),ve(r);var f=r;return f._p=new Promise(function(m,b){f.onload=m,f.onerror=b}),At(r,"link",a),t.state.loading|=4,Zs(r,n.precedence,e),t.instance=r;case"script":return r=El(n.src),(l=e.querySelector(Ai(r)))?(t.instance=l,ve(l),l):(a=n,(l=ln.get(r))&&(a=y({},n),ho(a,l)),e=e.ownerDocument||e,l=e.createElement("script"),ve(l),At(l,"link",a),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Zs(a,n.precedence,e));return t.instance}function Zs(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=a.length?a[a.length-1]:null,r=l,f=0;f<a.length;f++){var m=a[f];if(m.dataset.precedence===t)r=m;else if(r!==l)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function fo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ho(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Js=null;function rh(e,t,n){if(Js===null){var a=new Map,l=Js=new Map;l.set(n,a)}else l=Js,a=l.get(n),a||(a=new Map,l.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),l=0;l<n.length;l++){var r=n[l];if(!(r[Yn]||r[ct]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var f=r.getAttribute(t)||"";f=e+f;var m=a.get(f);m?m.push(r):a.set(f,[r])}}return a}function ch(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function qg(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function oh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ji=null;function Gg(){}function Vg(e,t,n){if(ji===null)throw Error(c(475));var a=ji;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var l=Nl(n.href),r=e.querySelector(Ei(l));if(r){e=r._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=$s.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=r,ve(r);return}r=e.ownerDocument||e,n=ih(n),(l=ln.get(l))&&fo(n,l),r=r.createElement("link"),ve(r);var f=r;f._p=new Promise(function(m,b){f.onload=m,f.onerror=b}),At(r,"link",n),t.instance=r}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(a.count++,t=$s.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function Yg(){if(ji===null)throw Error(c(475));var e=ji;return e.stylesheets&&e.count===0&&mo(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&mo(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function $s(){if(this.count--,this.count===0){if(this.stylesheets)mo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ws=null;function mo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ws=new Map,t.forEach(Fg,e),Ws=null,$s.call(e))}function Fg(e,t){if(!(t.state.loading&4)){var n=Ws.get(e);if(n)var a=n.get(null);else{n=new Map,Ws.set(e,n);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<l.length;r++){var f=l[r];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(n.set(f.dataset.precedence,f),a=f)}a&&n.set(null,a)}l=t.instance,f=l.getAttribute("data-precedence"),r=n.get(f)||a,r===a&&n.set(null,l),n.set(f,l),this.count++,a=$s.bind(this),l.addEventListener("load",a),l.addEventListener("error",a),r?r.parentNode.insertBefore(l,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var Ti={$$typeof:k,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function Xg(e,t,n,a,l,r,f,m){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ia(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ia(0),this.hiddenUpdates=Ia(null),this.identifierPrefix=a,this.onUncaughtError=l,this.onCaughtError=r,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=m,this.incompleteTransitions=new Map}function uh(e,t,n,a,l,r,f,m,b,B,M,I){return e=new Xg(e,t,n,f,m,b,B,I),t=1,r===!0&&(t|=24),r=Vt(3,null,null,t),e.current=r,r.stateNode=e,t=Kr(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:a,isDehydrated:n,cache:t},Wr(r),e}function dh(e){return e?(e=el,e):el}function fh(e,t,n,a,l,r){l=dh(l),a.context===null?a.context=l:a.pendingContext=l,a=$n(t),a.payload={element:n},r=r===void 0?null:r,r!==null&&(a.callback=r),n=Wn(e,a,t),n!==null&&(Kt(n,e,t),ni(n,e,t))}function hh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function go(e,t){hh(e,t),(e=e.alternate)&&hh(e,t)}function mh(e){if(e.tag===13){var t=Pa(e,67108864);t!==null&&Kt(t,e,67108864),go(e,67108864)}}var Ps=!0;function Qg(e,t,n,a){var l=S.T;S.T=null;var r=G.p;try{G.p=2,po(e,t,n,a)}finally{G.p=r,S.T=l}}function Kg(e,t,n,a){var l=S.T;S.T=null;var r=G.p;try{G.p=8,po(e,t,n,a)}finally{G.p=r,S.T=l}}function po(e,t,n,a){if(Ps){var l=vo(a);if(l===null)no(e,t,a,er,n),ph(e,a);else if(Jg(l,e,t,n,a))a.stopPropagation();else if(ph(e,a),t&4&&-1<Zg.indexOf(e)){for(;l!==null;){var r=Tn(l);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var f=gn(r.pendingLanes);if(f!==0){var m=r;for(m.pendingLanes|=2,m.entangledLanes|=2;f;){var b=1<<31-Tt(f);m.entanglements[1]|=b,f&=~b}Sn(r),(ze&6)===0&&(Ls=oe()+500,yi(0))}}break;case 13:m=Pa(r,2),m!==null&&Kt(m,r,2),Is(),go(r,2)}if(r=vo(a),r===null&&no(e,t,a,er,n),r===l)break;l=r}l!==null&&a.stopPropagation()}else no(e,t,a,null,n)}}function vo(e){return e=Sr(e),xo(e)}var er=null;function xo(e){if(er=null,e=jn(e),e!==null){var t=h(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=g(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return er=e,null}function gh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(V()){case C:return 2;case X:return 8;case fe:case Ye:return 32;case Ze:return 268435456;default:return 32}default:return 32}}var yo=!1,da=null,fa=null,ha=null,Bi=new Map,wi=new Map,ma=[],Zg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ph(e,t){switch(e){case"focusin":case"focusout":da=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":Bi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wi.delete(t.pointerId)}}function Ri(e,t,n,a,l,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:r,targetContainers:[l]},t!==null&&(t=Tn(t),t!==null&&mh(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Jg(e,t,n,a,l){switch(t){case"focusin":return da=Ri(da,e,t,n,a,l),!0;case"dragenter":return fa=Ri(fa,e,t,n,a,l),!0;case"mouseover":return ha=Ri(ha,e,t,n,a,l),!0;case"pointerover":var r=l.pointerId;return Bi.set(r,Ri(Bi.get(r)||null,e,t,n,a,l)),!0;case"gotpointercapture":return r=l.pointerId,wi.set(r,Ri(wi.get(r)||null,e,t,n,a,l)),!0}return!1}function vh(e){var t=jn(e.target);if(t!==null){var n=h(t);if(n!==null){if(t=n.tag,t===13){if(t=g(n),t!==null){e.blockedOn=t,Ki(e.priority,function(){if(n.tag===13){var a=Qt();a=Ha(a);var l=Pa(n,a);l!==null&&Kt(l,n,a),go(n,a)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=vo(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);br=a,n.target.dispatchEvent(a),br=null}else return t=Tn(n),t!==null&&mh(t),e.blockedOn=n,!1;t.shift()}return!0}function xh(e,t,n){tr(e)&&n.delete(t)}function $g(){yo=!1,da!==null&&tr(da)&&(da=null),fa!==null&&tr(fa)&&(fa=null),ha!==null&&tr(ha)&&(ha=null),Bi.forEach(xh),wi.forEach(xh)}function nr(e,t){e.blockedOn===t&&(e.blockedOn=null,yo||(yo=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,$g)))}var ar=null;function yh(e){ar!==e&&(ar=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){ar===e&&(ar=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],l=e[t+2];if(typeof a!="function"){if(xo(a||n)===null)continue;break}var r=Tn(n);r!==null&&(e.splice(t,3),t-=3,vc(r,{pending:!0,data:l,method:n.method,action:a},a,l))}}))}function _i(e){function t(b){return nr(b,e)}da!==null&&nr(da,e),fa!==null&&nr(fa,e),ha!==null&&nr(ha,e),Bi.forEach(t),wi.forEach(t);for(var n=0;n<ma.length;n++){var a=ma[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<ma.length&&(n=ma[0],n.blockedOn===null);)vh(n),n.blockedOn===null&&ma.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var l=n[a],r=n[a+1],f=l[St]||null;if(typeof r=="function")f||yh(n);else if(f){var m=null;if(r&&r.hasAttribute("formAction")){if(l=r,f=r[St]||null)m=f.formAction;else if(xo(l)!==null)continue}else m=f.action;typeof m=="function"?n[a+1]=m:(n.splice(a,3),a-=3),yh(n)}}}function bo(e){this._internalRoot=e}lr.prototype.render=bo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var n=t.current,a=Qt();fh(n,a,e,t,null,null)},lr.prototype.unmount=bo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fh(e.current,2,null,e,null,null),Is(),t[An]=null}};function lr(e){this._internalRoot=e}lr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ml();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ma.length&&t!==0&&t<ma[n].priority;n++);ma.splice(n,0,e),n===0&&vh(e)}};var bh=i.version;if(bh!=="19.1.0")throw Error(c(527,bh,"19.1.0"));G.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=v(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var Wg={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:S,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ir=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ir.isDisabled&&ir.supportsFiber)try{rt=ir.inject(Wg),mt=ir}catch{}}return Di.createRoot=function(e,t){if(!d(e))throw Error(c(299));var n=!1,a="",l=Cd,r=zd,f=Ld,m=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(m=t.unstable_transitionCallbacks)),t=uh(e,1,!1,null,null,n,a,l,r,f,m,null),e[An]=t.current,to(e),new bo(t)},Di.hydrateRoot=function(e,t,n){if(!d(e))throw Error(c(299));var a=!1,l="",r=Cd,f=zd,m=Ld,b=null,B=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(m=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(b=n.unstable_transitionCallbacks),n.formState!==void 0&&(B=n.formState)),t=uh(e,1,!0,t,n??null,a,l,r,f,m,b,B),t.context=dh(null),n=t.current,a=Qt(),a=Ha(a),l=$n(a),l.callback=null,Wn(n,l,a),n=a,t.current.lanes=n,Vn(t,n),Sn(t),e[An]=t.current,to(e),new lr(t)},Di.version="19.1.0",Di}var Mh;function C1(){if(Mh)return Ao.exports;Mh=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(i){console.error(i)}}return u(),Ao.exports=M1(),Ao.exports}var z1=C1();const L1=l1(z1);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="firebasestorage.googleapis.com",m0="storageBucket",k1=2*60*1e3,I1=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe extends h1{constructor(i,o,c=0){super(Bo(i),`Firebase Storage: ${o} (${Bo(i)})`),this.status_=c,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pe.prototype)}get status(){return this.status_}set status(i){this.status_=i}_codeEquals(i){return Bo(i)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(i){this.customData.serverResponse=i,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var We;(function(u){u.UNKNOWN="unknown",u.OBJECT_NOT_FOUND="object-not-found",u.BUCKET_NOT_FOUND="bucket-not-found",u.PROJECT_NOT_FOUND="project-not-found",u.QUOTA_EXCEEDED="quota-exceeded",u.UNAUTHENTICATED="unauthenticated",u.UNAUTHORIZED="unauthorized",u.UNAUTHORIZED_APP="unauthorized-app",u.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",u.INVALID_CHECKSUM="invalid-checksum",u.CANCELED="canceled",u.INVALID_EVENT_NAME="invalid-event-name",u.INVALID_URL="invalid-url",u.INVALID_DEFAULT_BUCKET="invalid-default-bucket",u.NO_DEFAULT_BUCKET="no-default-bucket",u.CANNOT_SLICE_BLOB="cannot-slice-blob",u.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",u.NO_DOWNLOAD_URL="no-download-url",u.INVALID_ARGUMENT="invalid-argument",u.INVALID_ARGUMENT_COUNT="invalid-argument-count",u.APP_DELETED="app-deleted",u.INVALID_ROOT_OPERATION="invalid-root-operation",u.INVALID_FORMAT="invalid-format",u.INTERNAL_ERROR="internal-error",u.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(We||(We={}));function Bo(u){return"storage/"+u}function ko(){const u="An unknown error occurred, please check the error payload for server response.";return new Pe(We.UNKNOWN,u)}function H1(u){return new Pe(We.OBJECT_NOT_FOUND,"Object '"+u+"' does not exist.")}function q1(u){return new Pe(We.QUOTA_EXCEEDED,"Quota for bucket '"+u+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function G1(){const u="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Pe(We.UNAUTHENTICATED,u)}function V1(){return new Pe(We.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Y1(u){return new Pe(We.UNAUTHORIZED,"User does not have permission to access '"+u+"'.")}function F1(){return new Pe(We.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function X1(){return new Pe(We.CANCELED,"User canceled the upload/download.")}function Q1(u){return new Pe(We.INVALID_URL,"Invalid URL '"+u+"'.")}function K1(u){return new Pe(We.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+u+"'.")}function Z1(){return new Pe(We.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+m0+"' property when initializing the app?")}function J1(){return new Pe(We.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $1(){return new Pe(We.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function W1(u){return new Pe(We.UNSUPPORTED_ENVIRONMENT,`${u} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Oo(u){return new Pe(We.INVALID_ARGUMENT,u)}function g0(){return new Pe(We.APP_DELETED,"The Firebase app was deleted.")}function P1(u){return new Pe(We.INVALID_ROOT_OPERATION,"The operation '"+u+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ki(u,i){return new Pe(We.INVALID_FORMAT,"String does not match format '"+u+"': "+i)}function Ui(u){throw new Pe(We.INTERNAL_ERROR,"Internal error: "+u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(i,o){this.bucket=i,this.path_=o}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const i=encodeURIComponent;return"/b/"+i(this.bucket)+"/o/"+i(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(i,o){let c;try{c=Zt.makeFromUrl(i,o)}catch{return new Zt(i,"")}if(c.path==="")return c;throw K1(i)}static makeFromUrl(i,o){let c=null;const d="([A-Za-z0-9.\\-_]+)";function h(J){J.path.charAt(J.path.length-1)==="/"&&(J.path_=J.path_.slice(0,-1))}const g="(/(.*))?$",p=new RegExp("^gs://"+d+g,"i"),v={bucket:1,path:3};function x(J){J.path_=decodeURIComponent(J.path)}const y="v[A-Za-z0-9_]+",N=o.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",A=new RegExp(`^https?://${N}/${y}/b/${d}/o${w}`,"i"),D={bucket:1,path:3},L=o===h0?"(?:storage.googleapis.com|storage.cloud.google.com)":o,te="([^?#]*)",q=new RegExp(`^https?://${L}/${d}/${te}`,"i"),k=[{regex:p,indices:v,postModify:h},{regex:A,indices:D,postModify:x},{regex:q,indices:{bucket:1,path:2},postModify:x}];for(let J=0;J<k.length;J++){const H=k[J],U=H.regex.exec(i);if(U){const $=U[H.indices.bucket];let Z=U[H.indices.path];Z||(Z=""),c=new Zt($,Z),H.postModify(c);break}}if(c==null)throw Q1(i);return c}}class ep{constructor(i){this.promise_=Promise.reject(i)}getPromise(){return this.promise_}cancel(i=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(u,i,o){let c=1,d=null,h=null,g=!1,p=0;function v(){return p===2}let x=!1;function y(...te){x||(x=!0,i.apply(null,te))}function N(te){d=setTimeout(()=>{d=null,u(A,v())},te)}function w(){h&&clearTimeout(h)}function A(te,...q){if(x){w();return}if(te){w(),y.call(null,te,...q);return}if(v()||g){w(),y.call(null,te,...q);return}c<64&&(c*=2);let k;p===1?(p=2,k=0):k=(c+Math.random())*1e3,N(k)}let D=!1;function L(te){D||(D=!0,w(),!x&&(d!==null?(te||(p=2),clearTimeout(d),N(0)):te||(p=1)))}return N(0),h=setTimeout(()=>{g=!0,L(!0)},o),L}function np(u){u(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(u){return u!==void 0}function lp(u){return typeof u=="object"&&!Array.isArray(u)}function Io(u){return typeof u=="string"||u instanceof String}function Ch(u){return Ho()&&u instanceof Blob}function Ho(){return typeof Blob<"u"}function zh(u,i,o,c){if(c<i)throw Oo(`Invalid value for '${u}'. Expected ${i} or greater.`);if(c>o)throw Oo(`Invalid value for '${u}'. Expected ${o} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(u,i,o){let c=i;return o==null&&(c=`https://${i}`),`${o}://${c}/v0${u}`}function p0(u){const i=encodeURIComponent;let o="?";for(const c in u)if(u.hasOwnProperty(c)){const d=i(c)+"="+i(u[c]);o=o+d+"&"}return o=o.slice(0,-1),o}var za;(function(u){u[u.NO_ERROR=0]="NO_ERROR",u[u.NETWORK_ERROR=1]="NETWORK_ERROR",u[u.ABORT=2]="ABORT"})(za||(za={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(u,i){const o=u>=500&&u<600,d=[408,429].indexOf(u)!==-1,h=i.indexOf(u)!==-1;return o||d||h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(i,o,c,d,h,g,p,v,x,y,N,w=!0,A=!1){this.url_=i,this.method_=o,this.headers_=c,this.body_=d,this.successCodes_=h,this.additionalRetryCodes_=g,this.callback_=p,this.errorCallback_=v,this.timeout_=x,this.progressCallback_=y,this.connectionFactory_=N,this.retry=w,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,L)=>{this.resolve_=D,this.reject_=L,this.start_()})}start_(){const i=(c,d)=>{if(d){c(!1,new sr(!1,null,!0));return}const h=this.connectionFactory_();this.pendingConnection_=h;const g=p=>{const v=p.loaded,x=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(v,x)};this.progressCallback_!==null&&h.addUploadProgressListener(g),h.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&h.removeUploadProgressListener(g),this.pendingConnection_=null;const p=h.getErrorCode()===za.NO_ERROR,v=h.getStatus();if(!p||ip(v,this.additionalRetryCodes_)&&this.retry){const y=h.getErrorCode()===za.ABORT;c(!1,new sr(!1,null,y));return}const x=this.successCodes_.indexOf(v)!==-1;c(!0,new sr(x,h))})},o=(c,d)=>{const h=this.resolve_,g=this.reject_,p=d.connection;if(d.wasSuccessCode)try{const v=this.callback_(p,p.getResponse());ap(v)?h(v):h()}catch(v){g(v)}else if(p!==null){const v=ko();v.serverResponse=p.getErrorText(),this.errorCallback_?g(this.errorCallback_(p,v)):g(v)}else if(d.canceled){const v=this.appDelete_?g0():X1();g(v)}else{const v=F1();g(v)}};this.canceled_?o(!1,new sr(!1,null,!0)):this.backoffId_=tp(i,o,this.timeout_)}getPromise(){return this.promise_}cancel(i){this.canceled_=!0,this.appDelete_=i||!1,this.backoffId_!==null&&np(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sr{constructor(i,o,c){this.wasSuccessCode=i,this.connection=o,this.canceled=!!c}}function rp(u,i){i!==null&&i.length>0&&(u.Authorization="Firebase "+i)}function cp(u,i){u["X-Firebase-Storage-Version"]="webjs/"+(i??"AppManager")}function op(u,i){i&&(u["X-Firebase-GMPID"]=i)}function up(u,i){i!==null&&(u["X-Firebase-AppCheck"]=i)}function dp(u,i,o,c,d,h,g=!0,p=!1){const v=p0(u.urlParams),x=u.url+v,y=Object.assign({},u.headers);return op(y,i),rp(y,o),cp(y,h),up(y,c),new sp(x,u.method,y,u.body,u.successCodes,u.additionalRetryCodes,u.handler,u.errorHandler,u.timeout,u.progressCallback,d,g,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function hp(...u){const i=fp();if(i!==void 0){const o=new i;for(let c=0;c<u.length;c++)o.append(u[c]);return o.getBlob()}else{if(Ho())return new Blob(u);throw new Pe(We.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function mp(u,i,o){return u.webkitSlice?u.webkitSlice(i,o):u.mozSlice?u.mozSlice(i,o):u.slice?u.slice(i,o):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(u){if(typeof atob>"u")throw W1("base-64");return atob(u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class wo{constructor(i,o){this.data=i,this.contentType=o||null}}function pp(u,i){switch(u){case Nn.RAW:return new wo(v0(i));case Nn.BASE64:case Nn.BASE64URL:return new wo(x0(u,i));case Nn.DATA_URL:return new wo(xp(i),yp(i))}throw ko()}function v0(u){const i=[];for(let o=0;o<u.length;o++){let c=u.charCodeAt(o);if(c<=127)i.push(c);else if(c<=2047)i.push(192|c>>6,128|c&63);else if((c&64512)===55296)if(!(o<u.length-1&&(u.charCodeAt(o+1)&64512)===56320))i.push(239,191,189);else{const h=c,g=u.charCodeAt(++o);c=65536|(h&1023)<<10|g&1023,i.push(240|c>>18,128|c>>12&63,128|c>>6&63,128|c&63)}else(c&64512)===56320?i.push(239,191,189):i.push(224|c>>12,128|c>>6&63,128|c&63)}return new Uint8Array(i)}function vp(u){let i;try{i=decodeURIComponent(u)}catch{throw ki(Nn.DATA_URL,"Malformed data URL.")}return v0(i)}function x0(u,i){switch(u){case Nn.BASE64:{const d=i.indexOf("-")!==-1,h=i.indexOf("_")!==-1;if(d||h)throw ki(u,"Invalid character '"+(d?"-":"_")+"' found: is it base64url encoded?");break}case Nn.BASE64URL:{const d=i.indexOf("+")!==-1,h=i.indexOf("/")!==-1;if(d||h)throw ki(u,"Invalid character '"+(d?"+":"/")+"' found: is it base64 encoded?");i=i.replace(/-/g,"+").replace(/_/g,"/");break}}let o;try{o=gp(i)}catch(d){throw d.message.includes("polyfill")?d:ki(u,"Invalid character found")}const c=new Uint8Array(o.length);for(let d=0;d<o.length;d++)c[d]=o.charCodeAt(d);return c}class y0{constructor(i){this.base64=!1,this.contentType=null;const o=i.match(/^data:([^,]+)?,/);if(o===null)throw ki(Nn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const c=o[1]||null;c!=null&&(this.base64=bp(c,";base64"),this.contentType=this.base64?c.substring(0,c.length-7):c),this.rest=i.substring(i.indexOf(",")+1)}}function xp(u){const i=new y0(u);return i.base64?x0(Nn.BASE64,i.rest):vp(i.rest)}function yp(u){return new y0(u).contentType}function bp(u,i){return u.length>=i.length?u.substring(u.length-i.length)===i:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(i,o){let c=0,d="";Ch(i)?(this.data_=i,c=i.size,d=i.type):i instanceof ArrayBuffer?(o?this.data_=new Uint8Array(i):(this.data_=new Uint8Array(i.byteLength),this.data_.set(new Uint8Array(i))),c=this.data_.length):i instanceof Uint8Array&&(o?this.data_=i:(this.data_=new Uint8Array(i.length),this.data_.set(i)),c=i.length),this.size_=c,this.type_=d}size(){return this.size_}type(){return this.type_}slice(i,o){if(Ch(this.data_)){const c=this.data_,d=mp(c,i,o);return d===null?null:new pa(d)}else{const c=new Uint8Array(this.data_.buffer,i,o-i);return new pa(c,!0)}}static getBlob(...i){if(Ho()){const o=i.map(c=>c instanceof pa?c.data_:c);return new pa(hp.apply(null,o))}else{const o=i.map(g=>Io(g)?pp(Nn.RAW,g).data:g.data_);let c=0;o.forEach(g=>{c+=g.byteLength});const d=new Uint8Array(c);let h=0;return o.forEach(g=>{for(let p=0;p<g.length;p++)d[h++]=g[p]}),new pa(d,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(u){let i;try{i=JSON.parse(u)}catch{return null}return lp(i)?i:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(u){if(u.length===0)return null;const i=u.lastIndexOf("/");return i===-1?"":u.slice(0,i)}function Np(u,i){const o=i.split("/").filter(c=>c.length>0).join("/");return u.length===0?o:u+"/"+o}function S0(u){const i=u.lastIndexOf("/",u.length-2);return i===-1?u:u.slice(i+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(u,i){return i}class Ot{constructor(i,o,c,d){this.server=i,this.local=o||i,this.writable=!!c,this.xform=d||Ep}}let rr=null;function Ap(u){return!Io(u)||u.length<2?u:S0(u)}function N0(){if(rr)return rr;const u=[];u.push(new Ot("bucket")),u.push(new Ot("generation")),u.push(new Ot("metageneration")),u.push(new Ot("name","fullPath",!0));function i(h,g){return Ap(g)}const o=new Ot("name");o.xform=i,u.push(o);function c(h,g){return g!==void 0?Number(g):g}const d=new Ot("size");return d.xform=c,u.push(d),u.push(new Ot("timeCreated")),u.push(new Ot("updated")),u.push(new Ot("md5Hash",null,!0)),u.push(new Ot("cacheControl",null,!0)),u.push(new Ot("contentDisposition",null,!0)),u.push(new Ot("contentEncoding",null,!0)),u.push(new Ot("contentLanguage",null,!0)),u.push(new Ot("contentType",null,!0)),u.push(new Ot("metadata","customMetadata",!0)),rr=u,rr}function jp(u,i){function o(){const c=u.bucket,d=u.fullPath,h=new Zt(c,d);return i._makeStorageReference(h)}Object.defineProperty(u,"ref",{get:o})}function Tp(u,i,o){const c={};c.type="file";const d=o.length;for(let h=0;h<d;h++){const g=o[h];c[g.local]=g.xform(c,i[g.server])}return jp(c,u),c}function E0(u,i,o){const c=b0(i);return c===null?null:Tp(u,c,o)}function Bp(u,i,o,c){const d=b0(i);if(d===null||!Io(d.downloadTokens))return null;const h=d.downloadTokens;if(h.length===0)return null;const g=encodeURIComponent;return h.split(",").map(x=>{const y=u.bucket,N=u.fullPath,w="/b/"+g(y)+"/o/"+g(N),A=qo(w,o,c),D=p0({alt:"media",token:x});return A+D})[0]}function wp(u,i){const o={},c=i.length;for(let d=0;d<c;d++){const h=i[d];h.writable&&(o[h.server]=u[h.local])}return JSON.stringify(o)}class A0{constructor(i,o,c,d){this.url=i,this.method=o,this.handler=c,this.timeout=d,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(u){if(!u)throw ko()}function Rp(u,i){function o(c,d){const h=E0(u,d,i);return j0(h!==null),h}return o}function _p(u,i){function o(c,d){const h=E0(u,d,i);return j0(h!==null),Bp(h,d,u.host,u._protocol)}return o}function T0(u){function i(o,c){let d;return o.getStatus()===401?o.getErrorText().includes("Firebase App Check token is invalid")?d=V1():d=G1():o.getStatus()===402?d=q1(u.bucket):o.getStatus()===403?d=Y1(u.path):d=c,d.status=o.getStatus(),d.serverResponse=c.serverResponse,d}return i}function Op(u){const i=T0(u);function o(c,d){let h=i(c,d);return c.getStatus()===404&&(h=H1(u.path)),h.serverResponse=d.serverResponse,h}return o}function Dp(u,i,o){const c=i.fullServerUrl(),d=qo(c,u.host,u._protocol),h="GET",g=u.maxOperationRetryTime,p=new A0(d,h,_p(u,o),g);return p.errorHandler=Op(i),p}function Up(u,i){return u&&u.contentType||i&&i.type()||"application/octet-stream"}function Mp(u,i,o){const c=Object.assign({},o);return c.fullPath=u.path,c.size=i.size(),c.contentType||(c.contentType=Up(null,i)),c}function Cp(u,i,o,c,d){const h=i.bucketOnlyServerUrl(),g={"X-Goog-Upload-Protocol":"multipart"};function p(){let k="";for(let J=0;J<2;J++)k=k+Math.random().toString().slice(2);return k}const v=p();g["Content-Type"]="multipart/related; boundary="+v;const x=Mp(i,c,d),y=wp(x,o),N="--"+v+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+v+`\r
Content-Type: `+x.contentType+`\r
\r
`,w=`\r
--`+v+"--",A=pa.getBlob(N,c,w);if(A===null)throw J1();const D={name:x.fullPath},L=qo(h,u.host,u._protocol),te="POST",q=u.maxUploadRetryTime,Q=new A0(L,te,Rp(u,o),q);return Q.urlParams=D,Q.headers=g,Q.body=A.uploadData(),Q.errorHandler=T0(i),Q}class zp{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=za.NO_ERROR,this.sendPromise_=new Promise(i=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=za.ABORT,i()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=za.NETWORK_ERROR,i()}),this.xhr_.addEventListener("load",()=>{i()})})}send(i,o,c,d,h){if(this.sent_)throw Ui("cannot .send() more than once");if(l0(i)&&c&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(o,i,!0),h!==void 0)for(const g in h)h.hasOwnProperty(g)&&this.xhr_.setRequestHeader(g,h[g].toString());return d!==void 0?this.xhr_.send(d):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ui("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ui("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ui("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ui("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(i){return this.xhr_.getResponseHeader(i)}addUploadProgressListener(i){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",i)}removeUploadProgressListener(i){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",i)}}class Lp extends zp{initXhr(){this.xhr_.responseType="text"}}function B0(){return new Lp}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(i,o){this._service=i,o instanceof Zt?this._location=o:this._location=Zt.makeFromUrl(o,i.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(i,o){return new ka(i,o)}get root(){const i=new Zt(this._location.bucket,"");return this._newRef(this._service,i)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return S0(this._location.path)}get storage(){return this._service}get parent(){const i=Sp(this._location.path);if(i===null)return null;const o=new Zt(this._location.bucket,i);return new ka(this._service,o)}_throwIfRoot(i){if(this._location.path==="")throw P1(i)}}function kp(u,i,o){u._throwIfRoot("uploadBytes");const c=Cp(u.storage,u._location,N0(),new pa(i,!0),o);return u.storage.makeRequestWithTokens(c,B0).then(d=>({metadata:d,ref:u}))}function Ip(u){u._throwIfRoot("getDownloadURL");const i=Dp(u.storage,u._location,N0());return u.storage.makeRequestWithTokens(i,B0).then(o=>{if(o===null)throw $1();return o})}function Hp(u,i){const o=Np(u._location.path,i),c=new Zt(u._location.bucket,o);return new ka(u.storage,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(u){return/^[A-Za-z]+:\/\//.test(u)}function Gp(u,i){return new ka(u,i)}function w0(u,i){if(u instanceof Go){const o=u;if(o._bucket==null)throw Z1();const c=new ka(o,o._bucket);return i!=null?w0(c,i):c}else return i!==void 0?Hp(u,i):u}function Vp(u,i){if(i&&qp(i)){if(u instanceof Go)return Gp(u,i);throw Oo("To use ref(service, url), the first argument must be a Storage instance.")}else return w0(u,i)}function Lh(u,i){const o=i==null?void 0:i[m0];return o==null?null:Zt.makeFromBucketSpec(o,u)}function Yp(u,i,o,c={}){u.host=`${i}:${o}`;const d=l0(i);d&&(v1(`https://${u.host}/b`),x1("Storage",!0)),u._isUsingEmulator=!0,u._protocol=d?"https":"http";const{mockUserToken:h}=c;h&&(u._overrideAuthToken=typeof h=="string"?h:y1(h,u.app.options.projectId))}class Go{constructor(i,o,c,d,h,g=!1){this.app=i,this._authProvider=o,this._appCheckProvider=c,this._url=d,this._firebaseVersion=h,this._isUsingEmulator=g,this._bucket=null,this._host=h0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=k1,this._maxUploadRetryTime=I1,this._requests=new Set,d!=null?this._bucket=Zt.makeFromBucketSpec(d,this._host):this._bucket=Lh(this._host,this.app.options)}get host(){return this._host}set host(i){this._host=i,this._url!=null?this._bucket=Zt.makeFromBucketSpec(this._url,i):this._bucket=Lh(i,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(i){zh("time",0,Number.POSITIVE_INFINITY,i),this._maxUploadRetryTime=i}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(i){zh("time",0,Number.POSITIVE_INFINITY,i),this._maxOperationRetryTime=i}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const i=this._authProvider.getImmediate({optional:!0});if(i){const o=await i.getToken();if(o!==null)return o.accessToken}return null}async _getAppCheckToken(){if(f1(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=this._appCheckProvider.getImmediate({optional:!0});return i?(await i.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(i=>i.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(i){return new ka(this,i)}_makeRequest(i,o,c,d,h=!0){if(this._deleted)return new ep(g0());{const g=dp(i,this._appId,c,d,o,this._firebaseVersion,h,this._isUsingEmulator);return this._requests.add(g),g.getPromise().then(()=>this._requests.delete(g),()=>this._requests.delete(g)),g}}async makeRequestWithTokens(i,o){const[c,d]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(i,o,c,d).getPromise()}}const kh="@firebase/storage",Ih="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="storage";function Fp(u,i,o){return u=mr(u),kp(u,i,o)}function Xp(u){return u=mr(u),Ip(u)}function Qp(u,i){return u=mr(u),Vp(u,i)}function Kp(u=m1(),i){u=mr(u);const c=g1(u,R0).getImmediate({identifier:i}),d=p1("storage");return d&&Zp(c,...d),c}function Zp(u,i,o,c={}){Yp(u,i,o,c)}function Jp(u,{instanceIdentifier:i}){const o=u.getProvider("app").getImmediate(),c=u.getProvider("auth-internal"),d=u.getProvider("app-check-internal");return new Go(o,c,d,i,d1)}function $p(){o1(new u1(R0,Jp,"PUBLIC").setMultipleInstances(!0)),Nh(kh,Ih,""),Nh(kh,Ih,"esm2017")}$p();const Wp={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyCxl9ki92NaxmXmxB8kc-SCuN_Cmle-MwA",VITE_FIREBASE_APP_ID:"1:51448990869:web:1fd63a1fa84e89bce1af4",VITE_FIREBASE_AUTH_DOMAIN:"fitness-app-69f08.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"51448990869",VITE_FIREBASE_PROJECT_ID:"fitness-app-69f08",VITE_FIREBASE_STORAGE_BUCKET:"fitness-app-69f08.firebasestorage.app"},Pp=!1;let cr,se,De,Do;try{let u;if(!Pp){const d=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID","VITE_FIREBASE_STORAGE_BUCKET","VITE_FIREBASE_MESSAGING_SENDER_ID","VITE_FIREBASE_APP_ID"].filter(h=>!Wp[h]);if(d.length>0)throw console.error("缺少環境變量:",d),new Error(`缺少環境變量：${d.join(", ")}`);u={apiKey:"AIzaSyCxl9ki92NaxmXmxB8kc-SCuN_Cmle-MwA",authDomain:"fitness-app-69f08.firebaseapp.com",projectId:"fitness-app-69f08",storageBucket:"fitness-app-69f08.firebasestorage.app",messagingSenderId:"51448990869",appId:"1:51448990869:web:1fd63a1fa84e89bce1af4"}}console.log("開始初始化 Firebase"),cr=b1(u),se=S1(cr),De=N1(cr),Do=Kp(cr);const i=new i0,o=new s0;i.setCustomParameters({prompt:"select_account"}),o.addScope("email"),o.addScope("public_profile"),console.log("Firebase 初始化成功")}catch(u){console.error("Firebase 初始化失敗:",u.message,u),se=null,De=null,Do=null}const wl=u=>u==null||u<0||u>150?"unknown":u<=20?"under20":u<=30?"21to30":u<=40?"31to40":u<=50?"41to50":u<=60?"51to60":u<=70?"61to70":"over70",Ii=u=>{const{strength:i,explosivePower:o,cardio:c,muscleMass:d,bodyFat:h}=u,g=[i,o,c,d,h];if(g.filter(x=>x>0).length<5)return 0;const v=g.reduce((x,y)=>x+Number(y),0);return Math.round(v/5*10)/10},Hh=u=>!u&&u!==0?"0.0":Number(u).toFixed(1),ev=u=>{if(!u)return"健身愛好者";const i=u.split("@")[0];return i.charAt(0).toUpperCase()+i.slice(1)};class tv{constructor(){this.writeCounts={setDoc:0,updateDoc:0,addDoc:0,writeBatch:0,arrayUnion:0,arrayRemove:0},this.writeHistory=[],this.isMonitoring=!1}start(){this.isMonitoring||(this.isMonitoring=!0,console.log("🔥 Firebase 寫入監控已啟動"))}stop(){this.isMonitoring=!1,console.log("🛑 Firebase 寫入監控已停止")}logWrite(i,o,c,d=null){if(!this.isMonitoring)return;this.writeCounts[i]++;const h={timestamp:new Date().toISOString(),operation:i,collection:o,documentId:c,data:d?JSON.stringify(d).substring(0,100)+"...":null};this.writeHistory.push(h),this.writeHistory.length>100&&this.writeHistory.shift(),console.log(`📝 Firebase 寫入: ${i} -> ${o}/${c}`)}getStats(){return{totalWrites:Object.values(this.writeCounts).reduce((o,c)=>o+c,0),writeCounts:{...this.writeCounts},recentWrites:this.writeHistory.slice(-10),averageWritesPerMinute:this.calculateAverageWritesPerMinute()}}calculateAverageWritesPerMinute(){if(this.writeHistory.length<2)return 0;const i=new Date(this.writeHistory[0].timestamp),c=(new Date(this.writeHistory[this.writeHistory.length-1].timestamp)-i)/(1e3*60);return c>0?this.writeHistory.length/c:0}reset(){this.writeCounts={setDoc:0,updateDoc:0,addDoc:0,writeBatch:0,arrayUnion:0,arrayRemove:0},this.writeHistory=[],console.log("🔄 Firebase 寫入統計已重置")}detectAnomalies(){const i=this.getStats(),o=[];i.averageWritesPerMinute>10&&o.push({type:"high_frequency",message:`檢測到高頻率寫入: ${i.averageWritesPerMinute.toFixed(2)} 次/分鐘`,severity:"warning"}),i.writeCounts.updateDoc>50&&o.push({type:"frequent_updates",message:`檢測到頻繁的 updateDoc 操作: ${i.writeCounts.updateDoc} 次`,severity:"warning"});const c=this.writeHistory.slice(-20);if(c.length>=20){const d=new Date(c[c.length-1].timestamp)-new Date(c[0].timestamp),h=c.length/(d/1e3);h>2&&o.push({type:"burst_writes",message:`檢測到寫入爆發: ${h.toFixed(2)} 次/秒`,severity:"error"})}return o}generateOptimizationSuggestions(){const i=this.getStats(),o=this.detectAnomalies(),c=[];return o.length>0&&(c.push("🚨 檢測到異常寫入模式，建議檢查以下方面："),o.forEach(d=>{c.push(`- ${d.message}`)})),i.writeCounts.updateDoc>i.writeCounts.setDoc*2&&c.push("💡 建議：考慮使用 setDoc 替代頻繁的 updateDoc 操作"),i.writeCounts.arrayUnion>10&&c.push("💡 建議：考慮批量處理 arrayUnion 操作"),i.averageWritesPerMinute>5&&c.push("💡 建議：增加防抖機制，減少寫入頻率"),c}}const Bl=new tv,_0=R.createContext(),Mi={gender:"",height:0,weight:0,age:0,nickname:"",avatarUrl:"",ageGroup:"",friends:[],friendRequests:[],blockedUsers:[],ladderScore:0,ladderRank:0,ladderHistory:[],isGuest:!1,isAnonymousInLadder:!1,lastActive:new Date().toISOString(),scores:{strength:0,explosivePower:0,cardio:0,muscleMass:0,bodyFat:0},history:[],testInputs:{}};function O0({children:u}){const i=R.useRef(!0),[o,c]=R.useState(!0),[d,h]=R.useState(!1),g=(q,Q)=>{switch(Q.type){case"UPDATE_USER_DATA":return{...q,...Q.payload};case"SET_USER_DATA":return Q.payload;case"RESET_USER_DATA":return Mi;default:return q}},[p,v]=R.useReducer(g,Mi),x=R.useCallback(async q=>{if(!q||!i.current)return c(!1),!1;c(!0);try{const Q=hn(De,"users",q.uid),k=await r0(Q);if(k.exists()){const J=k.data(),H={...Mi,...J,scores:{...Mi.scores,...J.scores||{}},height:Number(J.height)||0,weight:Number(J.weight)||0,age:Number(J.age)||0,ageGroup:J.age?wl(Number(J.age)):J.ageGroup||"",ladderScore:J.scores?Ii(J.scores):J.ladderScore||0,ladderRank:Number(J.ladderRank)||0};return i.current&&(v({type:"SET_USER_DATA",payload:H}),localStorage.setItem("userData",JSON.stringify(H))),c(!1),!0}else{console.log("用戶文檔不存在，創建新的");const J={...Mi,userId:q.uid};return await zi(Q,J),i.current&&(v({type:"SET_USER_DATA",payload:J}),localStorage.setItem("userData",JSON.stringify(J))),c(!1),!0}}catch(Q){console.error("載入用戶數據失敗:",Q);try{const k=localStorage.getItem("userData");if(k&&i.current){const J=JSON.parse(k);return v({type:"SET_USER_DATA",payload:J}),c(!1),!0}}catch(k){console.error("解析本地數據失敗:",k)}return c(!1),!1}},[]),y=R.useCallback(async q=>{if(!se.currentUser||!q)return console.warn("無法保存數據：用戶未登入或數據無效"),!1;try{const Q=hn(De,"users",se.currentUser.uid),k={...q,userId:se.currentUser.uid,updatedAt:new Date().toISOString(),height:Number(q.height)||0,weight:Number(q.weight)||0,age:Number(q.age)||0,ageGroup:q.age?wl(Number(q.age)):q.ageGroup||"",ladderScore:q.scores?Ii(q.scores):q.ladderScore||0,ladderRank:Number(q.ladderRank)||0};return await zi(Q,k,{merge:!0}),localStorage.setItem("userData",JSON.stringify(k)),Bl.logWrite("setDoc","users",se.currentUser.uid,k),!0}catch(Q){return console.error("保存用戶數據失敗:",Q),localStorage.setItem("userData",JSON.stringify(q)),!1}},[]),N=R.useRef(null),w=R.useRef(null),A=R.useRef(0),D=R.useCallback(q=>{let Q;if(typeof q=="function"?Q=q(p):Q={...p,...q},Q.scores&&(p.ladderScore,Q.ladderScore=Ii(Q.scores),Q.age&&(Q.ageGroup=wl(Q.age))),v({type:"UPDATE_USER_DATA",payload:Q}),se.currentUser&&["scores","height","weight","age","gender","nickname","ladderRank"].some(H=>JSON.stringify(Q[H])!==JSON.stringify(p[H]))){const U=Date.now()-A.current;U<3e4?(N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{console.log("🔄 防抖後保存用戶數據（30秒頻率限制）"),A.current=Date.now(),y(Q),N.current=null},3e4-U)):(N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{console.log("🔄 防抖後保存用戶數據（15秒防抖）"),A.current=Date.now(),y(Q),N.current=null},15e3))}},[p,y]),L=R.useCallback(async q=>{if(!se.currentUser){console.warn("無法保存歷史記錄：用戶未登入");return}const Q={...q,userId:se.currentUser.uid,timestamp:new Date().toISOString(),id:Date.now().toString()},k=[...p.history||[],Q];v({type:"UPDATE_USER_DATA",payload:{history:k}}),w.current&&clearTimeout(w.current),w.current=setTimeout(async()=>{try{const J=hn(De,"users",se.currentUser.uid),U={...p,history:k,updatedAt:new Date().toISOString()};await zi(J,U,{merge:!0}),Bl.logWrite("setDoc","users",se.currentUser.uid,{history:"batch_update"}),console.log("歷史記錄批量保存成功")}catch(J){console.error("保存歷史記錄失敗:",J)}finally{w.current=null}},5e3)},[p,y]),te=R.useCallback(()=>{console.log("清除用戶資料"),localStorage.removeItem("userData"),v({type:"RESET_USER_DATA"}),c(!1)},[]);return R.useEffect(()=>{i.current=!0;const q=se.onAuthStateChanged(async Q=>{Q?(console.log("認證狀態變更 - 用戶已登入:",Q.email),h(!0),sessionStorage.removeItem("guestMode"),await x(Q)):(console.log("認證狀態變更 - 用戶未登入"),h(!1),te())});return()=>{i.current=!1,q()}},[x,te]),R.useEffect(()=>{if(!se.currentUser||!p||Object.keys(p).length===0)return;const q=setInterval(()=>{if(se.currentUser&&p&&p.height){if(Date.now()-A.current<3e5){console.log("⏭️ 定期同步：距離上次寫入時間太短，跳過同步");return}const J=localStorage.getItem("lastSavedUserData"),H=JSON.stringify({scores:p.scores,height:p.height,weight:p.weight,age:p.age,gender:p.gender,nickname:p.nickname,ladderRank:p.ladderRank});J!==H?(console.log("🔄 定期同步：檢測到數據變化，執行保存"),y(p),localStorage.setItem("lastSavedUserData",H)):console.log("⏭️ 定期同步：無數據變化，跳過保存")}},12e5);return()=>clearInterval(q)},[p,y]),s.jsx(_0.Provider,{value:{userData:p,setUserData:D,saveUserData:y,saveHistory:L,clearUserData:te,loadUserData:()=>x(se.currentUser),isLoading:o,isAuthenticated:d},children:u})}O0.propTypes={children:Re.node.isRequired};function mn(){const u=R.useContext(_0);if(!u)throw new Error("useUser must be used within a UserProvider");return u}function nv(){const{pathname:u}=Rl(),i=R.useRef(null),o=R.useMemo(()=>["/strength","/cardio","/explosive-power","/muscle-mass","/body-fat"],[]);return R.useLayoutEffect(()=>{const c=i.current==="/login"||i.current==="/";u==="/user-info"?c?window.scrollTo(0,0):requestAnimationFrame(()=>{const d=document.getElementById("radar-section");d&&d.scrollIntoView({behavior:"smooth",block:"start"})}):window.scrollTo(0,0),i.current=u},[u,o]),null}const av=(u,i,o,c)=>{var h,g,p,v;const d=[o,{code:i,...c||{}}];if((g=(h=u==null?void 0:u.services)==null?void 0:h.logger)!=null&&g.forward)return u.services.logger.forward(d,"warn","react-i18next::",!0);La(d[0])&&(d[0]=`react-i18next:: ${d[0]}`),(v=(p=u==null?void 0:u.services)==null?void 0:p.logger)!=null&&v.warn?u.services.logger.warn(...d):console!=null&&console.warn&&console.warn(...d)},qh={},Uo=(u,i,o,c)=>{La(o)&&qh[o]||(La(o)&&(qh[o]=new Date),av(u,i,o,c))},D0=(u,i)=>()=>{if(u.isInitialized)i();else{const o=()=>{setTimeout(()=>{u.off("initialized",o)},0),i()};u.on("initialized",o)}},Mo=(u,i,o)=>{u.loadNamespaces(i,D0(u,o))},Gh=(u,i,o,c)=>{if(La(o)&&(o=[o]),u.options.preload&&u.options.preload.indexOf(i)>-1)return Mo(u,o,c);o.forEach(d=>{u.options.ns.indexOf(d)<0&&u.options.ns.push(d)}),u.loadLanguages(i,D0(u,c))},lv=(u,i,o={})=>!i.languages||!i.languages.length?(Uo(i,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:i.languages}),!0):i.hasLoadedNamespace(u,{lng:o.lng,precheck:(c,d)=>{var h;if(((h=o.bindI18n)==null?void 0:h.indexOf("languageChanging"))>-1&&c.services.backendConnector.backend&&c.isLanguageChangingTo&&!d(c.isLanguageChangingTo,u))return!1}}),La=u=>typeof u=="string",iv=u=>typeof u=="object"&&u!==null,sv=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,rv={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},cv=u=>rv[u],ov=u=>u.replace(sv,cv);let Co={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:ov};const uv=(u={})=>{Co={...Co,...u}},dv=()=>Co;let U0;const fv=u=>{U0=u},hv=()=>U0,mv={type:"3rdParty",init(u){uv(u.options.react),fv(u)}},gv=R.createContext();class pv{constructor(){this.usedNamespaces={}}addUsedNamespaces(i){i.forEach(o=>{this.usedNamespaces[o]||(this.usedNamespaces[o]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const vv=(u,i)=>{const o=R.useRef();return R.useEffect(()=>{o.current=u},[u,i]),o.current},M0=(u,i,o,c)=>u.getFixedT(i,o,c),xv=(u,i,o,c)=>R.useCallback(M0(u,i,o,c),[u,i,o,c]),C0=(u,i={})=>{var J,H,U,$;const{i18n:o}=i,{i18n:c,defaultNS:d}=R.useContext(gv)||{},h=o||c||hv();if(h&&!h.reportNamespaces&&(h.reportNamespaces=new pv),!h){Uo(h,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const Z=(ae,F)=>La(F)?F:iv(F)&&La(F.defaultValue)?F.defaultValue:Array.isArray(ae)?ae[ae.length-1]:ae,ne=[Z,{},!1];return ne.t=Z,ne.i18n={},ne.ready=!1,ne}(J=h.options.react)!=null&&J.wait&&Uo(h,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const g={...dv(),...h.options.react,...i},{useSuspense:p,keyPrefix:v}=g;let x=d||((H=h.options)==null?void 0:H.defaultNS);x=La(x)?[x]:x||["translation"],($=(U=h.reportNamespaces).addUsedNamespaces)==null||$.call(U,x);const y=(h.isInitialized||h.initializedStoreOnce)&&x.every(Z=>lv(Z,h,g)),N=xv(h,i.lng||null,g.nsMode==="fallback"?x:x[0],v),w=()=>N,A=()=>M0(h,i.lng||null,g.nsMode==="fallback"?x:x[0],v),[D,L]=R.useState(w);let te=x.join();i.lng&&(te=`${i.lng}${te}`);const q=vv(te),Q=R.useRef(!0);R.useEffect(()=>{const{bindI18n:Z,bindI18nStore:ne}=g;Q.current=!0,!y&&!p&&(i.lng?Gh(h,i.lng,x,()=>{Q.current&&L(A)}):Mo(h,x,()=>{Q.current&&L(A)})),y&&q&&q!==te&&Q.current&&L(A);const ae=()=>{Q.current&&L(A)};return Z&&(h==null||h.on(Z,ae)),ne&&(h==null||h.store.on(ne,ae)),()=>{Q.current=!1,h&&(Z==null||Z.split(" ").forEach(F=>h.off(F,ae))),ne&&h&&ne.split(" ").forEach(F=>h.store.off(F,ae))}},[h,te]),R.useEffect(()=>{Q.current&&y&&L(w)},[h,v,y]);const k=[D,h,y];if(k.t=D,k.i18n=h,k.ready=y,y||!y&&!p)return k;throw new Promise(Z=>{i.lng?Gh(h,i.lng,x,()=>Z()):Mo(h,x,()=>Z())})},yv=()=>{const{i18n:u}=C0(),i=c=>{u.changeLanguage(c),localStorage.setItem("language",c)},o=u.language;return s.jsxs("div",{className:"language-switcher",children:[s.jsx("button",{className:`lang-btn ${o==="zh-TW"?"active":""}`,onClick:()=>i("zh-TW"),children:"中文"}),s.jsx("button",{className:`lang-btn ${o==="en-US"?"active":""}`,onClick:()=>i("en-US"),children:"English"})]})},Ne=u=>typeof u=="string",Ci=()=>{let u,i;const o=new Promise((c,d)=>{u=c,i=d});return o.resolve=u,o.reject=i,o},Vh=u=>u==null?"":""+u,bv=(u,i,o)=>{u.forEach(c=>{i[c]&&(o[c]=i[c])})},Sv=/###/g,Yh=u=>u&&u.indexOf("###")>-1?u.replace(Sv,"."):u,Fh=u=>!u||Ne(u),Hi=(u,i,o)=>{const c=Ne(i)?i.split("."):i;let d=0;for(;d<c.length-1;){if(Fh(u))return{};const h=Yh(c[d]);!u[h]&&o&&(u[h]=new o),Object.prototype.hasOwnProperty.call(u,h)?u=u[h]:u={},++d}return Fh(u)?{}:{obj:u,k:Yh(c[d])}},Xh=(u,i,o)=>{const{obj:c,k:d}=Hi(u,i,Object);if(c!==void 0||i.length===1){c[d]=o;return}let h=i[i.length-1],g=i.slice(0,i.length-1),p=Hi(u,g,Object);for(;p.obj===void 0&&g.length;)h=`${g[g.length-1]}.${h}`,g=g.slice(0,g.length-1),p=Hi(u,g,Object),p!=null&&p.obj&&typeof p.obj[`${p.k}.${h}`]<"u"&&(p.obj=void 0);p.obj[`${p.k}.${h}`]=o},Nv=(u,i,o,c)=>{const{obj:d,k:h}=Hi(u,i,Object);d[h]=d[h]||[],d[h].push(o)},dr=(u,i)=>{const{obj:o,k:c}=Hi(u,i);if(o&&Object.prototype.hasOwnProperty.call(o,c))return o[c]},Ev=(u,i,o)=>{const c=dr(u,o);return c!==void 0?c:dr(i,o)},z0=(u,i,o)=>{for(const c in i)c!=="__proto__"&&c!=="constructor"&&(c in u?Ne(u[c])||u[c]instanceof String||Ne(i[c])||i[c]instanceof String?o&&(u[c]=i[c]):z0(u[c],i[c],o):u[c]=i[c]);return u},jl=u=>u.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Av={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const jv=u=>Ne(u)?u.replace(/[&<>"'\/]/g,i=>Av[i]):u;class Tv{constructor(i){this.capacity=i,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(i){const o=this.regExpMap.get(i);if(o!==void 0)return o;const c=new RegExp(i);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(i,c),this.regExpQueue.push(i),c}}const Bv=[" ",",","?","!",";"],wv=new Tv(20),Rv=(u,i,o)=>{i=i||"",o=o||"";const c=Bv.filter(g=>i.indexOf(g)<0&&o.indexOf(g)<0);if(c.length===0)return!0;const d=wv.getRegExp(`(${c.map(g=>g==="?"?"\\?":g).join("|")})`);let h=!d.test(u);if(!h){const g=u.indexOf(o);g>0&&!d.test(u.substring(0,g))&&(h=!0)}return h},zo=(u,i,o=".")=>{if(!u)return;if(u[i])return Object.prototype.hasOwnProperty.call(u,i)?u[i]:void 0;const c=i.split(o);let d=u;for(let h=0;h<c.length;){if(!d||typeof d!="object")return;let g,p="";for(let v=h;v<c.length;++v)if(v!==h&&(p+=o),p+=c[v],g=d[p],g!==void 0){if(["string","number","boolean"].indexOf(typeof g)>-1&&v<c.length-1)continue;h+=v-h+1;break}d=g}return d},qi=u=>u==null?void 0:u.replace("_","-"),_v={type:"logger",log(u){this.output("log",u)},warn(u){this.output("warn",u)},error(u){this.output("error",u)},output(u,i){var o,c;(c=(o=console==null?void 0:console[u])==null?void 0:o.apply)==null||c.call(o,console,i)}};class fr{constructor(i,o={}){this.init(i,o)}init(i,o={}){this.prefix=o.prefix||"i18next:",this.logger=i||_v,this.options=o,this.debug=o.debug}log(...i){return this.forward(i,"log","",!0)}warn(...i){return this.forward(i,"warn","",!0)}error(...i){return this.forward(i,"error","")}deprecate(...i){return this.forward(i,"warn","WARNING DEPRECATED: ",!0)}forward(i,o,c,d){return d&&!this.debug?null:(Ne(i[0])&&(i[0]=`${c}${this.prefix} ${i[0]}`),this.logger[o](i))}create(i){return new fr(this.logger,{prefix:`${this.prefix}:${i}:`,...this.options})}clone(i){return i=i||this.options,i.prefix=i.prefix||this.prefix,new fr(this.logger,i)}}var En=new fr;class gr{constructor(){this.observers={}}on(i,o){return i.split(" ").forEach(c=>{this.observers[c]||(this.observers[c]=new Map);const d=this.observers[c].get(o)||0;this.observers[c].set(o,d+1)}),this}off(i,o){if(this.observers[i]){if(!o){delete this.observers[i];return}this.observers[i].delete(o)}}emit(i,...o){this.observers[i]&&Array.from(this.observers[i].entries()).forEach(([d,h])=>{for(let g=0;g<h;g++)d(...o)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([d,h])=>{for(let g=0;g<h;g++)d.apply(d,[i,...o])})}}class Qh extends gr{constructor(i,o={ns:["translation"],defaultNS:"translation"}){super(),this.data=i||{},this.options=o,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}removeNamespaces(i){const o=this.options.ns.indexOf(i);o>-1&&this.options.ns.splice(o,1)}getResource(i,o,c,d={}){var x,y;const h=d.keySeparator!==void 0?d.keySeparator:this.options.keySeparator,g=d.ignoreJSONStructure!==void 0?d.ignoreJSONStructure:this.options.ignoreJSONStructure;let p;i.indexOf(".")>-1?p=i.split("."):(p=[i,o],c&&(Array.isArray(c)?p.push(...c):Ne(c)&&h?p.push(...c.split(h)):p.push(c)));const v=dr(this.data,p);return!v&&!o&&!c&&i.indexOf(".")>-1&&(i=p[0],o=p[1],c=p.slice(2).join(".")),v||!g||!Ne(c)?v:zo((y=(x=this.data)==null?void 0:x[i])==null?void 0:y[o],c,h)}addResource(i,o,c,d,h={silent:!1}){const g=h.keySeparator!==void 0?h.keySeparator:this.options.keySeparator;let p=[i,o];c&&(p=p.concat(g?c.split(g):c)),i.indexOf(".")>-1&&(p=i.split("."),d=o,o=p[1]),this.addNamespaces(o),Xh(this.data,p,d),h.silent||this.emit("added",i,o,c,d)}addResources(i,o,c,d={silent:!1}){for(const h in c)(Ne(c[h])||Array.isArray(c[h]))&&this.addResource(i,o,h,c[h],{silent:!0});d.silent||this.emit("added",i,o,c)}addResourceBundle(i,o,c,d,h,g={silent:!1,skipCopy:!1}){let p=[i,o];i.indexOf(".")>-1&&(p=i.split("."),d=c,c=o,o=p[1]),this.addNamespaces(o);let v=dr(this.data,p)||{};g.skipCopy||(c=JSON.parse(JSON.stringify(c))),d?z0(v,c,h):v={...v,...c},Xh(this.data,p,v),g.silent||this.emit("added",i,o,c)}removeResourceBundle(i,o){this.hasResourceBundle(i,o)&&delete this.data[i][o],this.removeNamespaces(o),this.emit("removed",i,o)}hasResourceBundle(i,o){return this.getResource(i,o)!==void 0}getResourceBundle(i,o){return o||(o=this.options.defaultNS),this.getResource(i,o)}getDataByLanguage(i){return this.data[i]}hasLanguageSomeTranslations(i){const o=this.getDataByLanguage(i);return!!(o&&Object.keys(o)||[]).find(d=>o[d]&&Object.keys(o[d]).length>0)}toJSON(){return this.data}}var L0={processors:{},addPostProcessor(u){this.processors[u.name]=u},handle(u,i,o,c,d){return u.forEach(h=>{var g;i=((g=this.processors[h])==null?void 0:g.process(i,o,c,d))??i}),i}};const Kh={},Zh=u=>!Ne(u)&&typeof u!="boolean"&&typeof u!="number";class hr extends gr{constructor(i,o={}){super(),bv(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],i,this),this.options=o,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=En.create("translator")}changeLanguage(i){i&&(this.language=i)}exists(i,o={interpolation:{}}){const c={...o};if(i==null)return!1;const d=this.resolve(i,c);return(d==null?void 0:d.res)!==void 0}extractFromKey(i,o){let c=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;c===void 0&&(c=":");const d=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let h=o.ns||this.options.defaultNS||[];const g=c&&i.indexOf(c)>-1,p=!this.options.userDefinedKeySeparator&&!o.keySeparator&&!this.options.userDefinedNsSeparator&&!o.nsSeparator&&!Rv(i,c,d);if(g&&!p){const v=i.match(this.interpolator.nestingRegexp);if(v&&v.length>0)return{key:i,namespaces:Ne(h)?[h]:h};const x=i.split(c);(c!==d||c===d&&this.options.ns.indexOf(x[0])>-1)&&(h=x.shift()),i=x.join(d)}return{key:i,namespaces:Ne(h)?[h]:h}}translate(i,o,c){let d=typeof o=="object"?{...o}:o;if(typeof d!="object"&&this.options.overloadTranslationOptionHandler&&(d=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(d={...d}),d||(d={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);const h=d.returnDetails!==void 0?d.returnDetails:this.options.returnDetails,g=d.keySeparator!==void 0?d.keySeparator:this.options.keySeparator,{key:p,namespaces:v}=this.extractFromKey(i[i.length-1],d),x=v[v.length-1];let y=d.nsSeparator!==void 0?d.nsSeparator:this.options.nsSeparator;y===void 0&&(y=":");const N=d.lng||this.language,w=d.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((N==null?void 0:N.toLowerCase())==="cimode")return w?h?{res:`${x}${y}${p}`,usedKey:p,exactUsedKey:p,usedLng:N,usedNS:x,usedParams:this.getUsedParamsDetails(d)}:`${x}${y}${p}`:h?{res:p,usedKey:p,exactUsedKey:p,usedLng:N,usedNS:x,usedParams:this.getUsedParamsDetails(d)}:p;const A=this.resolve(i,d);let D=A==null?void 0:A.res;const L=(A==null?void 0:A.usedKey)||p,te=(A==null?void 0:A.exactUsedKey)||p,q=["[object Number]","[object Function]","[object RegExp]"],Q=d.joinArrays!==void 0?d.joinArrays:this.options.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject,J=d.count!==void 0&&!Ne(d.count),H=hr.hasDefaultValue(d),U=J?this.pluralResolver.getSuffix(N,d.count,d):"",$=d.ordinal&&J?this.pluralResolver.getSuffix(N,d.count,{ordinal:!1}):"",Z=J&&!d.ordinal&&d.count===0,ne=Z&&d[`defaultValue${this.options.pluralSeparator}zero`]||d[`defaultValue${U}`]||d[`defaultValue${$}`]||d.defaultValue;let ae=D;k&&!D&&H&&(ae=ne);const F=Zh(ae),he=Object.prototype.toString.apply(ae);if(k&&ae&&F&&q.indexOf(he)<0&&!(Ne(Q)&&Array.isArray(ae))){if(!d.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const P=this.options.returnedObjectHandler?this.options.returnedObjectHandler(L,ae,{...d,ns:v}):`key '${p} (${this.language})' returned an object instead of string.`;return h?(A.res=P,A.usedParams=this.getUsedParamsDetails(d),A):P}if(g){const P=Array.isArray(ae),le=P?[]:{},W=P?te:L;for(const S in ae)if(Object.prototype.hasOwnProperty.call(ae,S)){const G=`${W}${g}${S}`;H&&!D?le[S]=this.translate(G,{...d,defaultValue:Zh(ne)?ne[S]:void 0,joinArrays:!1,ns:v}):le[S]=this.translate(G,{...d,joinArrays:!1,ns:v}),le[S]===G&&(le[S]=ae[S])}D=le}}else if(k&&Ne(Q)&&Array.isArray(D))D=D.join(Q),D&&(D=this.extendTranslation(D,i,d,c));else{let P=!1,le=!1;!this.isValidLookup(D)&&H&&(P=!0,D=ne),this.isValidLookup(D)||(le=!0,D=p);const S=(d.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&le?void 0:D,G=H&&ne!==D&&this.options.updateMissing;if(le||P||G){if(this.logger.log(G?"updateKey":"missingKey",N,x,p,G?ne:D),g){const me=this.resolve(p,{...d,keySeparator:!1});me&&me.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ee=[];const ye=this.languageUtils.getFallbackCodes(this.options.fallbackLng,d.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ye&&ye[0])for(let me=0;me<ye.length;me++)ee.push(ye[me]);else this.options.saveMissingTo==="all"?ee=this.languageUtils.toResolveHierarchy(d.lng||this.language):ee.push(d.lng||this.language);const Ee=(me,de,pe)=>{var Xe;const _e=H&&pe!==D?pe:S;this.options.missingKeyHandler?this.options.missingKeyHandler(me,x,de,_e,G,d):(Xe=this.backendConnector)!=null&&Xe.saveMissing&&this.backendConnector.saveMissing(me,x,de,_e,G,d),this.emit("missingKey",me,x,de,D)};this.options.saveMissing&&(this.options.saveMissingPlurals&&J?ee.forEach(me=>{const de=this.pluralResolver.getSuffixes(me,d);Z&&d[`defaultValue${this.options.pluralSeparator}zero`]&&de.indexOf(`${this.options.pluralSeparator}zero`)<0&&de.push(`${this.options.pluralSeparator}zero`),de.forEach(pe=>{Ee([me],p+pe,d[`defaultValue${pe}`]||ne)})}):Ee(ee,p,ne))}D=this.extendTranslation(D,i,d,A,c),le&&D===p&&this.options.appendNamespaceToMissingKey&&(D=`${x}${y}${p}`),(le||P)&&this.options.parseMissingKeyHandler&&(D=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${x}${y}${p}`:p,P?D:void 0,d))}return h?(A.res=D,A.usedParams=this.getUsedParamsDetails(d),A):D}extendTranslation(i,o,c,d,h){var v,x;if((v=this.i18nFormat)!=null&&v.parse)i=this.i18nFormat.parse(i,{...this.options.interpolation.defaultVariables,...c},c.lng||this.language||d.usedLng,d.usedNS,d.usedKey,{resolved:d});else if(!c.skipInterpolation){c.interpolation&&this.interpolator.init({...c,interpolation:{...this.options.interpolation,...c.interpolation}});const y=Ne(i)&&(((x=c==null?void 0:c.interpolation)==null?void 0:x.skipOnVariables)!==void 0?c.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let N;if(y){const A=i.match(this.interpolator.nestingRegexp);N=A&&A.length}let w=c.replace&&!Ne(c.replace)?c.replace:c;if(this.options.interpolation.defaultVariables&&(w={...this.options.interpolation.defaultVariables,...w}),i=this.interpolator.interpolate(i,w,c.lng||this.language||d.usedLng,c),y){const A=i.match(this.interpolator.nestingRegexp),D=A&&A.length;N<D&&(c.nest=!1)}!c.lng&&d&&d.res&&(c.lng=this.language||d.usedLng),c.nest!==!1&&(i=this.interpolator.nest(i,(...A)=>(h==null?void 0:h[0])===A[0]&&!c.context?(this.logger.warn(`It seems you are nesting recursively key: ${A[0]} in key: ${o[0]}`),null):this.translate(...A,o),c)),c.interpolation&&this.interpolator.reset()}const g=c.postProcess||this.options.postProcess,p=Ne(g)?[g]:g;return i!=null&&(p!=null&&p.length)&&c.applyPostProcessor!==!1&&(i=L0.handle(p,i,o,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...d,usedParams:this.getUsedParamsDetails(c)},...c}:c,this)),i}resolve(i,o={}){let c,d,h,g,p;return Ne(i)&&(i=[i]),i.forEach(v=>{if(this.isValidLookup(c))return;const x=this.extractFromKey(v,o),y=x.key;d=y;let N=x.namespaces;this.options.fallbackNS&&(N=N.concat(this.options.fallbackNS));const w=o.count!==void 0&&!Ne(o.count),A=w&&!o.ordinal&&o.count===0,D=o.context!==void 0&&(Ne(o.context)||typeof o.context=="number")&&o.context!=="",L=o.lngs?o.lngs:this.languageUtils.toResolveHierarchy(o.lng||this.language,o.fallbackLng);N.forEach(te=>{var q,Q;this.isValidLookup(c)||(p=te,!Kh[`${L[0]}-${te}`]&&((q=this.utils)!=null&&q.hasLoadedNamespace)&&!((Q=this.utils)!=null&&Q.hasLoadedNamespace(p))&&(Kh[`${L[0]}-${te}`]=!0,this.logger.warn(`key "${d}" for languages "${L.join(", ")}" won't get resolved as namespace "${p}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),L.forEach(k=>{var U;if(this.isValidLookup(c))return;g=k;const J=[y];if((U=this.i18nFormat)!=null&&U.addLookupKeys)this.i18nFormat.addLookupKeys(J,y,k,te,o);else{let $;w&&($=this.pluralResolver.getSuffix(k,o.count,o));const Z=`${this.options.pluralSeparator}zero`,ne=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(w&&(J.push(y+$),o.ordinal&&$.indexOf(ne)===0&&J.push(y+$.replace(ne,this.options.pluralSeparator)),A&&J.push(y+Z)),D){const ae=`${y}${this.options.contextSeparator}${o.context}`;J.push(ae),w&&(J.push(ae+$),o.ordinal&&$.indexOf(ne)===0&&J.push(ae+$.replace(ne,this.options.pluralSeparator)),A&&J.push(ae+Z))}}let H;for(;H=J.pop();)this.isValidLookup(c)||(h=H,c=this.getResource(k,te,H,o))}))})}),{res:c,usedKey:d,exactUsedKey:h,usedLng:g,usedNS:p}}isValidLookup(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}getResource(i,o,c,d={}){var h;return(h=this.i18nFormat)!=null&&h.getResource?this.i18nFormat.getResource(i,o,c,d):this.resourceStore.getResource(i,o,c,d)}getUsedParamsDetails(i={}){const o=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],c=i.replace&&!Ne(i.replace);let d=c?i.replace:i;if(c&&typeof i.count<"u"&&(d.count=i.count),this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),!c){d={...d};for(const h of o)delete d[h]}return d}static hasDefaultValue(i){const o="defaultValue";for(const c in i)if(Object.prototype.hasOwnProperty.call(i,c)&&o===c.substring(0,o.length)&&i[c]!==void 0)return!0;return!1}}class Jh{constructor(i){this.options=i,this.supportedLngs=this.options.supportedLngs||!1,this.logger=En.create("languageUtils")}getScriptPartFromCode(i){if(i=qi(i),!i||i.indexOf("-")<0)return null;const o=i.split("-");return o.length===2||(o.pop(),o[o.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(o.join("-"))}getLanguagePartFromCode(i){if(i=qi(i),!i||i.indexOf("-")<0)return i;const o=i.split("-");return this.formatLanguageCode(o[0])}formatLanguageCode(i){if(Ne(i)&&i.indexOf("-")>-1){let o;try{o=Intl.getCanonicalLocales(i)[0]}catch{}return o&&this.options.lowerCaseLng&&(o=o.toLowerCase()),o||(this.options.lowerCaseLng?i.toLowerCase():i)}return this.options.cleanCode||this.options.lowerCaseLng?i.toLowerCase():i}isSupportedCode(i){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(i=this.getLanguagePartFromCode(i)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(i)>-1}getBestMatchFromCodes(i){if(!i)return null;let o;return i.forEach(c=>{if(o)return;const d=this.formatLanguageCode(c);(!this.options.supportedLngs||this.isSupportedCode(d))&&(o=d)}),!o&&this.options.supportedLngs&&i.forEach(c=>{if(o)return;const d=this.getScriptPartFromCode(c);if(this.isSupportedCode(d))return o=d;const h=this.getLanguagePartFromCode(c);if(this.isSupportedCode(h))return o=h;o=this.options.supportedLngs.find(g=>{if(g===h)return g;if(!(g.indexOf("-")<0&&h.indexOf("-")<0)&&(g.indexOf("-")>0&&h.indexOf("-")<0&&g.substring(0,g.indexOf("-"))===h||g.indexOf(h)===0&&h.length>1))return g})}),o||(o=this.getFallbackCodes(this.options.fallbackLng)[0]),o}getFallbackCodes(i,o){if(!i)return[];if(typeof i=="function"&&(i=i(o)),Ne(i)&&(i=[i]),Array.isArray(i))return i;if(!o)return i.default||[];let c=i[o];return c||(c=i[this.getScriptPartFromCode(o)]),c||(c=i[this.formatLanguageCode(o)]),c||(c=i[this.getLanguagePartFromCode(o)]),c||(c=i.default),c||[]}toResolveHierarchy(i,o){const c=this.getFallbackCodes((o===!1?[]:o)||this.options.fallbackLng||[],i),d=[],h=g=>{g&&(this.isSupportedCode(g)?d.push(g):this.logger.warn(`rejecting language code not found in supportedLngs: ${g}`))};return Ne(i)&&(i.indexOf("-")>-1||i.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&h(this.formatLanguageCode(i)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&h(this.getScriptPartFromCode(i)),this.options.load!=="currentOnly"&&h(this.getLanguagePartFromCode(i))):Ne(i)&&h(this.formatLanguageCode(i)),c.forEach(g=>{d.indexOf(g)<0&&h(this.formatLanguageCode(g))}),d}}const $h={zero:0,one:1,two:2,few:3,many:4,other:5},Wh={select:u=>u===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Ov{constructor(i,o={}){this.languageUtils=i,this.options=o,this.logger=En.create("pluralResolver"),this.pluralRulesCache={}}addRule(i,o){this.rules[i]=o}clearCache(){this.pluralRulesCache={}}getRule(i,o={}){const c=qi(i==="dev"?"en":i),d=o.ordinal?"ordinal":"cardinal",h=JSON.stringify({cleanedCode:c,type:d});if(h in this.pluralRulesCache)return this.pluralRulesCache[h];let g;try{g=new Intl.PluralRules(c,{type:d})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Wh;if(!i.match(/-|_/))return Wh;const v=this.languageUtils.getLanguagePartFromCode(i);g=this.getRule(v,o)}return this.pluralRulesCache[h]=g,g}needsPlural(i,o={}){let c=this.getRule(i,o);return c||(c=this.getRule("dev",o)),(c==null?void 0:c.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(i,o,c={}){return this.getSuffixes(i,c).map(d=>`${o}${d}`)}getSuffixes(i,o={}){let c=this.getRule(i,o);return c||(c=this.getRule("dev",o)),c?c.resolvedOptions().pluralCategories.sort((d,h)=>$h[d]-$h[h]).map(d=>`${this.options.prepend}${o.ordinal?`ordinal${this.options.prepend}`:""}${d}`):[]}getSuffix(i,o,c={}){const d=this.getRule(i,c);return d?`${this.options.prepend}${c.ordinal?`ordinal${this.options.prepend}`:""}${d.select(o)}`:(this.logger.warn(`no plural rule found for: ${i}`),this.getSuffix("dev",o,c))}}const Ph=(u,i,o,c=".",d=!0)=>{let h=Ev(u,i,o);return!h&&d&&Ne(o)&&(h=zo(u,o,c),h===void 0&&(h=zo(i,o,c))),h},Ro=u=>u.replace(/\$/g,"$$$$");class Dv{constructor(i={}){var o;this.logger=En.create("interpolator"),this.options=i,this.format=((o=i==null?void 0:i.interpolation)==null?void 0:o.format)||(c=>c),this.init(i)}init(i={}){i.interpolation||(i.interpolation={escapeValue:!0});const{escape:o,escapeValue:c,useRawValueToEscape:d,prefix:h,prefixEscaped:g,suffix:p,suffixEscaped:v,formatSeparator:x,unescapeSuffix:y,unescapePrefix:N,nestingPrefix:w,nestingPrefixEscaped:A,nestingSuffix:D,nestingSuffixEscaped:L,nestingOptionsSeparator:te,maxReplaces:q,alwaysFormat:Q}=i.interpolation;this.escape=o!==void 0?o:jv,this.escapeValue=c!==void 0?c:!0,this.useRawValueToEscape=d!==void 0?d:!1,this.prefix=h?jl(h):g||"{{",this.suffix=p?jl(p):v||"}}",this.formatSeparator=x||",",this.unescapePrefix=y?"":N||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=w?jl(w):A||jl("$t("),this.nestingSuffix=D?jl(D):L||jl(")"),this.nestingOptionsSeparator=te||",",this.maxReplaces=q||1e3,this.alwaysFormat=Q!==void 0?Q:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const i=(o,c)=>(o==null?void 0:o.source)===c?(o.lastIndex=0,o):new RegExp(c,"g");this.regexp=i(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=i(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=i(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(i,o,c,d){var A;let h,g,p;const v=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},x=D=>{if(D.indexOf(this.formatSeparator)<0){const Q=Ph(o,v,D,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(Q,void 0,c,{...d,...o,interpolationkey:D}):Q}const L=D.split(this.formatSeparator),te=L.shift().trim(),q=L.join(this.formatSeparator).trim();return this.format(Ph(o,v,te,this.options.keySeparator,this.options.ignoreJSONStructure),q,c,{...d,...o,interpolationkey:te})};this.resetRegExp();const y=(d==null?void 0:d.missingInterpolationHandler)||this.options.missingInterpolationHandler,N=((A=d==null?void 0:d.interpolation)==null?void 0:A.skipOnVariables)!==void 0?d.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:D=>Ro(D)},{regex:this.regexp,safeValue:D=>this.escapeValue?Ro(this.escape(D)):Ro(D)}].forEach(D=>{for(p=0;h=D.regex.exec(i);){const L=h[1].trim();if(g=x(L),g===void 0)if(typeof y=="function"){const q=y(i,h,d);g=Ne(q)?q:""}else if(d&&Object.prototype.hasOwnProperty.call(d,L))g="";else if(N){g=h[0];continue}else this.logger.warn(`missed to pass in variable ${L} for interpolating ${i}`),g="";else!Ne(g)&&!this.useRawValueToEscape&&(g=Vh(g));const te=D.safeValue(g);if(i=i.replace(h[0],te),N?(D.regex.lastIndex+=g.length,D.regex.lastIndex-=h[0].length):D.regex.lastIndex=0,p++,p>=this.maxReplaces)break}}),i}nest(i,o,c={}){let d,h,g;const p=(v,x)=>{const y=this.nestingOptionsSeparator;if(v.indexOf(y)<0)return v;const N=v.split(new RegExp(`${y}[ ]*{`));let w=`{${N[1]}`;v=N[0],w=this.interpolate(w,g);const A=w.match(/'/g),D=w.match(/"/g);(((A==null?void 0:A.length)??0)%2===0&&!D||D.length%2!==0)&&(w=w.replace(/'/g,'"'));try{g=JSON.parse(w),x&&(g={...x,...g})}catch(L){return this.logger.warn(`failed parsing options string in nesting for key ${v}`,L),`${v}${y}${w}`}return g.defaultValue&&g.defaultValue.indexOf(this.prefix)>-1&&delete g.defaultValue,v};for(;d=this.nestingRegexp.exec(i);){let v=[];g={...c},g=g.replace&&!Ne(g.replace)?g.replace:g,g.applyPostProcessor=!1,delete g.defaultValue;const x=/{.*}/.test(d[1])?d[1].lastIndexOf("}")+1:d[1].indexOf(this.formatSeparator);if(x!==-1&&(v=d[1].slice(x).split(this.formatSeparator).map(y=>y.trim()).filter(Boolean),d[1]=d[1].slice(0,x)),h=o(p.call(this,d[1].trim(),g),g),h&&d[0]===i&&!Ne(h))return h;Ne(h)||(h=Vh(h)),h||(this.logger.warn(`missed to resolve ${d[1]} for nesting ${i}`),h=""),v.length&&(h=v.reduce((y,N)=>this.format(y,N,c.lng,{...c,interpolationkey:d[1].trim()}),h.trim())),i=i.replace(d[0],h),this.regexp.lastIndex=0}return i}}const Uv=u=>{let i=u.toLowerCase().trim();const o={};if(u.indexOf("(")>-1){const c=u.split("(");i=c[0].toLowerCase().trim();const d=c[1].substring(0,c[1].length-1);i==="currency"&&d.indexOf(":")<0?o.currency||(o.currency=d.trim()):i==="relativetime"&&d.indexOf(":")<0?o.range||(o.range=d.trim()):d.split(";").forEach(g=>{if(g){const[p,...v]=g.split(":"),x=v.join(":").trim().replace(/^'+|'+$/g,""),y=p.trim();o[y]||(o[y]=x),x==="false"&&(o[y]=!1),x==="true"&&(o[y]=!0),isNaN(x)||(o[y]=parseInt(x,10))}})}return{formatName:i,formatOptions:o}},e0=u=>{const i={};return(o,c,d)=>{let h=d;d&&d.interpolationkey&&d.formatParams&&d.formatParams[d.interpolationkey]&&d[d.interpolationkey]&&(h={...h,[d.interpolationkey]:void 0});const g=c+JSON.stringify(h);let p=i[g];return p||(p=u(qi(c),d),i[g]=p),p(o)}},Mv=u=>(i,o,c)=>u(qi(o),c)(i);class Cv{constructor(i={}){this.logger=En.create("formatter"),this.options=i,this.init(i)}init(i,o={interpolation:{}}){this.formatSeparator=o.interpolation.formatSeparator||",";const c=o.cacheInBuiltFormats?e0:Mv;this.formats={number:c((d,h)=>{const g=new Intl.NumberFormat(d,{...h});return p=>g.format(p)}),currency:c((d,h)=>{const g=new Intl.NumberFormat(d,{...h,style:"currency"});return p=>g.format(p)}),datetime:c((d,h)=>{const g=new Intl.DateTimeFormat(d,{...h});return p=>g.format(p)}),relativetime:c((d,h)=>{const g=new Intl.RelativeTimeFormat(d,{...h});return p=>g.format(p,h.range||"day")}),list:c((d,h)=>{const g=new Intl.ListFormat(d,{...h});return p=>g.format(p)})}}add(i,o){this.formats[i.toLowerCase().trim()]=o}addCached(i,o){this.formats[i.toLowerCase().trim()]=e0(o)}format(i,o,c,d={}){const h=o.split(this.formatSeparator);if(h.length>1&&h[0].indexOf("(")>1&&h[0].indexOf(")")<0&&h.find(p=>p.indexOf(")")>-1)){const p=h.findIndex(v=>v.indexOf(")")>-1);h[0]=[h[0],...h.splice(1,p)].join(this.formatSeparator)}return h.reduce((p,v)=>{var N;const{formatName:x,formatOptions:y}=Uv(v);if(this.formats[x]){let w=p;try{const A=((N=d==null?void 0:d.formatParams)==null?void 0:N[d.interpolationkey])||{},D=A.locale||A.lng||d.locale||d.lng||c;w=this.formats[x](p,D,{...y,...d,...A})}catch(A){this.logger.warn(A)}return w}else this.logger.warn(`there was no format function for ${x}`);return p},i)}}const zv=(u,i)=>{u.pending[i]!==void 0&&(delete u.pending[i],u.pendingCount--)};class Lv extends gr{constructor(i,o,c,d={}){var h,g;super(),this.backend=i,this.store=o,this.services=c,this.languageUtils=c.languageUtils,this.options=d,this.logger=En.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=d.maxParallelReads||10,this.readingCalls=0,this.maxRetries=d.maxRetries>=0?d.maxRetries:5,this.retryTimeout=d.retryTimeout>=1?d.retryTimeout:350,this.state={},this.queue=[],(g=(h=this.backend)==null?void 0:h.init)==null||g.call(h,c,d.backend,d)}queueLoad(i,o,c,d){const h={},g={},p={},v={};return i.forEach(x=>{let y=!0;o.forEach(N=>{const w=`${x}|${N}`;!c.reload&&this.store.hasResourceBundle(x,N)?this.state[w]=2:this.state[w]<0||(this.state[w]===1?g[w]===void 0&&(g[w]=!0):(this.state[w]=1,y=!1,g[w]===void 0&&(g[w]=!0),h[w]===void 0&&(h[w]=!0),v[N]===void 0&&(v[N]=!0)))}),y||(p[x]=!0)}),(Object.keys(h).length||Object.keys(g).length)&&this.queue.push({pending:g,pendingCount:Object.keys(g).length,loaded:{},errors:[],callback:d}),{toLoad:Object.keys(h),pending:Object.keys(g),toLoadLanguages:Object.keys(p),toLoadNamespaces:Object.keys(v)}}loaded(i,o,c){const d=i.split("|"),h=d[0],g=d[1];o&&this.emit("failedLoading",h,g,o),!o&&c&&this.store.addResourceBundle(h,g,c,void 0,void 0,{skipCopy:!0}),this.state[i]=o?-1:2,o&&c&&(this.state[i]=0);const p={};this.queue.forEach(v=>{Nv(v.loaded,[h],g),zv(v,i),o&&v.errors.push(o),v.pendingCount===0&&!v.done&&(Object.keys(v.loaded).forEach(x=>{p[x]||(p[x]={});const y=v.loaded[x];y.length&&y.forEach(N=>{p[x][N]===void 0&&(p[x][N]=!0)})}),v.done=!0,v.errors.length?v.callback(v.errors):v.callback())}),this.emit("loaded",p),this.queue=this.queue.filter(v=>!v.done)}read(i,o,c,d=0,h=this.retryTimeout,g){if(!i.length)return g(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:o,fcName:c,tried:d,wait:h,callback:g});return}this.readingCalls++;const p=(x,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const N=this.waitingReads.shift();this.read(N.lng,N.ns,N.fcName,N.tried,N.wait,N.callback)}if(x&&y&&d<this.maxRetries){setTimeout(()=>{this.read.call(this,i,o,c,d+1,h*2,g)},h);return}g(x,y)},v=this.backend[c].bind(this.backend);if(v.length===2){try{const x=v(i,o);x&&typeof x.then=="function"?x.then(y=>p(null,y)).catch(p):p(null,x)}catch(x){p(x)}return}return v(i,o,p)}prepareLoading(i,o,c={},d){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),d&&d();Ne(i)&&(i=this.languageUtils.toResolveHierarchy(i)),Ne(o)&&(o=[o]);const h=this.queueLoad(i,o,c,d);if(!h.toLoad.length)return h.pending.length||d(),null;h.toLoad.forEach(g=>{this.loadOne(g)})}load(i,o,c){this.prepareLoading(i,o,{},c)}reload(i,o,c){this.prepareLoading(i,o,{reload:!0},c)}loadOne(i,o=""){const c=i.split("|"),d=c[0],h=c[1];this.read(d,h,"read",void 0,void 0,(g,p)=>{g&&this.logger.warn(`${o}loading namespace ${h} for language ${d} failed`,g),!g&&p&&this.logger.log(`${o}loaded namespace ${h} for language ${d}`,p),this.loaded(i,g,p)})}saveMissing(i,o,c,d,h,g={},p=()=>{}){var v,x,y,N,w;if((x=(v=this.services)==null?void 0:v.utils)!=null&&x.hasLoadedNamespace&&!((N=(y=this.services)==null?void 0:y.utils)!=null&&N.hasLoadedNamespace(o))){this.logger.warn(`did not save key "${c}" as the namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(c==null||c==="")){if((w=this.backend)!=null&&w.create){const A={...g,isUpdate:h},D=this.backend.create.bind(this.backend);if(D.length<6)try{let L;D.length===5?L=D(i,o,c,d,A):L=D(i,o,c,d),L&&typeof L.then=="function"?L.then(te=>p(null,te)).catch(p):p(null,L)}catch(L){p(L)}else D(i,o,c,d,p,A)}!i||!i[0]||this.store.addResource(i[0],o,c,d)}}}const t0=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:u=>{let i={};if(typeof u[1]=="object"&&(i=u[1]),Ne(u[1])&&(i.defaultValue=u[1]),Ne(u[2])&&(i.tDescription=u[2]),typeof u[2]=="object"||typeof u[3]=="object"){const o=u[3]||u[2];Object.keys(o).forEach(c=>{i[c]=o[c]})}return i},interpolation:{escapeValue:!0,format:u=>u,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),n0=u=>{var i,o;return Ne(u.ns)&&(u.ns=[u.ns]),Ne(u.fallbackLng)&&(u.fallbackLng=[u.fallbackLng]),Ne(u.fallbackNS)&&(u.fallbackNS=[u.fallbackNS]),((o=(i=u.supportedLngs)==null?void 0:i.indexOf)==null?void 0:o.call(i,"cimode"))<0&&(u.supportedLngs=u.supportedLngs.concat(["cimode"])),typeof u.initImmediate=="boolean"&&(u.initAsync=u.initImmediate),u},or=()=>{},kv=u=>{Object.getOwnPropertyNames(Object.getPrototypeOf(u)).forEach(o=>{typeof u[o]=="function"&&(u[o]=u[o].bind(u))})};class Gi extends gr{constructor(i={},o){if(super(),this.options=n0(i),this.services={},this.logger=En,this.modules={external:[]},kv(this),o&&!this.isInitialized&&!i.isClone){if(!this.options.initAsync)return this.init(i,o),this;setTimeout(()=>{this.init(i,o)},0)}}init(i={},o){this.isInitializing=!0,typeof i=="function"&&(o=i,i={}),i.defaultNS==null&&i.ns&&(Ne(i.ns)?i.defaultNS=i.ns:i.ns.indexOf("translation")<0&&(i.defaultNS=i.ns[0]));const c=t0();this.options={...c,...this.options,...n0(i)},this.options.interpolation={...c.interpolation,...this.options.interpolation},i.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=i.keySeparator),i.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=i.nsSeparator);const d=x=>x?typeof x=="function"?new x:x:null;if(!this.options.isClone){this.modules.logger?En.init(d(this.modules.logger),this.options):En.init(null,this.options);let x;this.modules.formatter?x=this.modules.formatter:x=Cv;const y=new Jh(this.options);this.store=new Qh(this.options.resources,this.options);const N=this.services;N.logger=En,N.resourceStore=this.store,N.languageUtils=y,N.pluralResolver=new Ov(y,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==c.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),x&&(!this.options.interpolation.format||this.options.interpolation.format===c.interpolation.format)&&(N.formatter=d(x),N.formatter.init&&N.formatter.init(N,this.options),this.options.interpolation.format=N.formatter.format.bind(N.formatter)),N.interpolator=new Dv(this.options),N.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},N.backendConnector=new Lv(d(this.modules.backend),N.resourceStore,N,this.options),N.backendConnector.on("*",(A,...D)=>{this.emit(A,...D)}),this.modules.languageDetector&&(N.languageDetector=d(this.modules.languageDetector),N.languageDetector.init&&N.languageDetector.init(N,this.options.detection,this.options)),this.modules.i18nFormat&&(N.i18nFormat=d(this.modules.i18nFormat),N.i18nFormat.init&&N.i18nFormat.init(this)),this.translator=new hr(this.services,this.options),this.translator.on("*",(A,...D)=>{this.emit(A,...D)}),this.modules.external.forEach(A=>{A.init&&A.init(this)})}if(this.format=this.options.interpolation.format,o||(o=or),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const x=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);x.length>0&&x[0]!=="dev"&&(this.options.lng=x[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(x=>{this[x]=(...y)=>this.store[x](...y)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(x=>{this[x]=(...y)=>(this.store[x](...y),this)});const p=Ci(),v=()=>{const x=(y,N)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),p.resolve(N),o(y,N)};if(this.languages&&!this.isInitialized)return x(null,this.t.bind(this));this.changeLanguage(this.options.lng,x)};return this.options.resources||!this.options.initAsync?v():setTimeout(v,0),p}loadResources(i,o=or){var h,g;let c=o;const d=Ne(i)?i:this.language;if(typeof i=="function"&&(c=i),!this.options.resources||this.options.partialBundledLanguages){if((d==null?void 0:d.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return c();const p=[],v=x=>{if(!x||x==="cimode")return;this.services.languageUtils.toResolveHierarchy(x).forEach(N=>{N!=="cimode"&&p.indexOf(N)<0&&p.push(N)})};d?v(d):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(y=>v(y)),(g=(h=this.options.preload)==null?void 0:h.forEach)==null||g.call(h,x=>v(x)),this.services.backendConnector.load(p,this.options.ns,x=>{!x&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),c(x)})}else c(null)}reloadResources(i,o,c){const d=Ci();return typeof i=="function"&&(c=i,i=void 0),typeof o=="function"&&(c=o,o=void 0),i||(i=this.languages),o||(o=this.options.ns),c||(c=or),this.services.backendConnector.reload(i,o,h=>{d.resolve(),c(h)}),d}use(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&L0.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}setResolvedLanguage(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1)){for(let o=0;o<this.languages.length;o++){const c=this.languages[o];if(!(["cimode","dev"].indexOf(c)>-1)&&this.store.hasLanguageSomeTranslations(c)){this.resolvedLanguage=c;break}}!this.resolvedLanguage&&this.languages.indexOf(i)<0&&this.store.hasLanguageSomeTranslations(i)&&(this.resolvedLanguage=i,this.languages.unshift(i))}}changeLanguage(i,o){this.isLanguageChangingTo=i;const c=Ci();this.emit("languageChanging",i);const d=p=>{this.language=p,this.languages=this.services.languageUtils.toResolveHierarchy(p),this.resolvedLanguage=void 0,this.setResolvedLanguage(p)},h=(p,v)=>{v?this.isLanguageChangingTo===i&&(d(v),this.translator.changeLanguage(v),this.isLanguageChangingTo=void 0,this.emit("languageChanged",v),this.logger.log("languageChanged",v)):this.isLanguageChangingTo=void 0,c.resolve((...x)=>this.t(...x)),o&&o(p,(...x)=>this.t(...x))},g=p=>{var y,N;!i&&!p&&this.services.languageDetector&&(p=[]);const v=Ne(p)?p:p&&p[0],x=this.store.hasLanguageSomeTranslations(v)?v:this.services.languageUtils.getBestMatchFromCodes(Ne(p)?[p]:p);x&&(this.language||d(x),this.translator.language||this.translator.changeLanguage(x),(N=(y=this.services.languageDetector)==null?void 0:y.cacheUserLanguage)==null||N.call(y,x)),this.loadResources(x,w=>{h(w,x)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?g(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(g):this.services.languageDetector.detect(g):g(i),c}getFixedT(i,o,c){const d=(h,g,...p)=>{let v;typeof g!="object"?v=this.options.overloadTranslationOptionHandler([h,g].concat(p)):v={...g},v.lng=v.lng||d.lng,v.lngs=v.lngs||d.lngs,v.ns=v.ns||d.ns,v.keyPrefix!==""&&(v.keyPrefix=v.keyPrefix||c||d.keyPrefix);const x=this.options.keySeparator||".";let y;return v.keyPrefix&&Array.isArray(h)?y=h.map(N=>`${v.keyPrefix}${x}${N}`):y=v.keyPrefix?`${v.keyPrefix}${x}${h}`:h,this.t(y,v)};return Ne(i)?d.lng=i:d.lngs=i,d.ns=o,d.keyPrefix=c,d}t(...i){var o;return(o=this.translator)==null?void 0:o.translate(...i)}exists(...i){var o;return(o=this.translator)==null?void 0:o.exists(...i)}setDefaultNamespace(i){this.options.defaultNS=i}hasLoadedNamespace(i,o={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const c=o.lng||this.resolvedLanguage||this.languages[0],d=this.options?this.options.fallbackLng:!1,h=this.languages[this.languages.length-1];if(c.toLowerCase()==="cimode")return!0;const g=(p,v)=>{const x=this.services.backendConnector.state[`${p}|${v}`];return x===-1||x===0||x===2};if(o.precheck){const p=o.precheck(this,g);if(p!==void 0)return p}return!!(this.hasResourceBundle(c,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||g(c,i)&&(!d||g(h,i)))}loadNamespaces(i,o){const c=Ci();return this.options.ns?(Ne(i)&&(i=[i]),i.forEach(d=>{this.options.ns.indexOf(d)<0&&this.options.ns.push(d)}),this.loadResources(d=>{c.resolve(),o&&o(d)}),c):(o&&o(),Promise.resolve())}loadLanguages(i,o){const c=Ci();Ne(i)&&(i=[i]);const d=this.options.preload||[],h=i.filter(g=>d.indexOf(g)<0&&this.services.languageUtils.isSupportedCode(g));return h.length?(this.options.preload=d.concat(h),this.loadResources(g=>{c.resolve(),o&&o(g)}),c):(o&&o(),Promise.resolve())}dir(i){var d,h;if(i||(i=this.resolvedLanguage||(((d=this.languages)==null?void 0:d.length)>0?this.languages[0]:this.language)),!i)return"rtl";try{const g=new Intl.Locale(i);if(g&&g.getTextInfo){const p=g.getTextInfo();if(p&&p.direction)return p.direction}}catch{}const o=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],c=((h=this.services)==null?void 0:h.languageUtils)||new Jh(t0());return i.toLowerCase().indexOf("-latn")>1?"ltr":o.indexOf(c.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(i={},o){return new Gi(i,o)}cloneInstance(i={},o=or){const c=i.forkResourceStore;c&&delete i.forkResourceStore;const d={...this.options,...i,isClone:!0},h=new Gi(d);if((i.debug!==void 0||i.prefix!==void 0)&&(h.logger=h.logger.clone(i)),["store","services","language"].forEach(p=>{h[p]=this[p]}),h.services={...this.services},h.services.utils={hasLoadedNamespace:h.hasLoadedNamespace.bind(h)},c){const p=Object.keys(this.store.data).reduce((v,x)=>(v[x]={...this.store.data[x]},v[x]=Object.keys(v[x]).reduce((y,N)=>(y[N]={...v[x][N]},y),v[x]),v),{});h.store=new Qh(p,d),h.services.resourceStore=h.store}return h.translator=new hr(h.services,d),h.translator.on("*",(p,...v)=>{h.emit(p,...v)}),h.init(d,o),h.translator.options=d,h.translator.backendConnector.services.utils={hasLoadedNamespace:h.hasLoadedNamespace.bind(h)},h}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const jt=Gi.createInstance();jt.createInstance=Gi.createInstance;jt.createInstance;jt.dir;jt.init;jt.loadResources;jt.reloadResources;jt.use;jt.changeLanguage;jt.getFixedT;jt.t;jt.exists;jt.setDefaultNamespace;jt.hasLoadedNamespace;jt.loadNamespaces;jt.loadLanguages;const Iv={translation:{common:{loading:"載入中...",save:"儲存",cancel:"取消",confirm:"確認",back:"返回",next:"下一步",submit:"提交",edit:"編輯",delete:"刪除",search:"搜尋",filter:"篩選",all:"全部"},navigation:{home:"首頁",profile:"個人資料",history:"歷史紀錄",ladder:"天梯排行榜",friends:"好友",settings:"設定",logout:"登出"},welcome:{title:"歡迎來到評測小能手",subtitle:"留下運動數據,進步多少馬上知道",login:"登入",guestMode:"立即體驗（訪客模式）",register:"註冊帳號",guestInfo:{title:"訪客模式功能：",features:["完整體驗所有評測功能","本地儲存評測結果","隨時可註冊同步資料","無法使用好友、天梯等社交功能"]}},userInfo:{title:"身體狀態與表現總覽",nickname:"暱稱",nicknamePlaceholder:"請輸入暱稱",generateNickname:"生成暱稱",gender:"性別",selectGender:"請選擇性別",male:"男性",female:"女性",height:"身高 (cm)",weight:"體重 (kg)",age:"年齡",saveData:"儲存資料",saving:"儲存中...",dataSaved:"資料已儲存成功！",saveFailed:"儲存失敗，請稍後再試"},tests:{strength:"力量評測",explosivePower:"爆發力測試",cardio:"心肺耐力測試",muscleMass:"骨骼肌肉量",bodyFat:"體脂肪率與FFMI",startTest:"開始評測",completeTest:"完成評測",testComplete:"評測完成",score:"分數",averageScore:"平均分數"},ladder:{title:"天梯排行榜",myScore:"我的天梯分數",myRank:"我的排名",notParticipated:"未參與",notRanked:"未上榜",rank:"第 {{rank}} 名",ageGroups:{all:"全部年齡",under20:"20歲以下","21to30":"21~30歲","31to40":"31~40歲","41to50":"41~50歲","51to60":"51~60歲","61to70":"61~70歲",over70:"70歲以上",unknown:"未知年齡"},empty:{title:"暫無排行榜數據",subtitle:"完成評測即可上榜！"},footer:{scoreFormula:"完成所有評測項目即可計算天梯分數",formula:"天梯分數 = (力量 + 爆發力 + 心肺 + 肌肉量 + 體脂) ÷ 5"}},guestMode:{title:"歡迎使用健身評測",subtitle:"您可以選擇註冊帳號或直接體驗",startGuest:"立即體驗（訪客模式）",register:"註冊帳號",or:"或",banner:"訪客模式 - 您的資料僅儲存在本地",syncData:"註冊同步",exit:"退出"},errors:{required:"此欄位為必填",invalidFormat:"格式不正確",networkError:"網路錯誤，請稍後再試",authError:"認證失敗",saveError:"儲存失敗",loadError:"載入失敗"}}},Hv={translation:{common:{loading:"Loading...",save:"Save",cancel:"Cancel",confirm:"Confirm",back:"Back",next:"Next",submit:"Submit",edit:"Edit",delete:"Delete",search:"Search",filter:"Filter",all:"All"},navigation:{home:"Home",profile:"Profile",history:"History",ladder:"Ladder",friends:"Friends",settings:"Settings",logout:"Logout"},welcome:{title:"Welcome to Fitness Assessment",subtitle:"Track your progress with detailed fitness metrics",login:"Login",guestMode:"Try Now (Guest Mode)",register:"Register",guestInfo:{title:"Guest Mode Features:",features:["Full access to all assessment features","Local storage of assessment results","Register anytime to sync data","Social features like friends and ladder not available"]}},userInfo:{title:"Body Status & Performance Overview",nickname:"Nickname",nicknamePlaceholder:"Enter nickname",generateNickname:"Generate",gender:"Gender",selectGender:"Select gender",male:"Male",female:"Female",height:"Height (cm)",weight:"Weight (kg)",age:"Age",saveData:"Save Data",saving:"Saving...",dataSaved:"Data saved successfully!",saveFailed:"Save failed, please try again"},tests:{strength:"Strength Assessment",explosivePower:"Explosive Power Test",cardio:"Cardio Endurance Test",muscleMass:"Muscle Mass",bodyFat:"Body Fat & FFMI",startTest:"Start Test",completeTest:"Complete Test",testComplete:"Test Complete",score:"Score",averageScore:"Average Score"},ladder:{title:"Ladder Rankings",myScore:"My Ladder Score",myRank:"My Rank",notParticipated:"Not Participated",notRanked:"Not Ranked",rank:"Rank {{rank}}",ageGroups:{all:"All Ages",under20:"Under 20","21to30":"21-30","31to40":"31-40","41to50":"41-50","51to60":"51-60","61to70":"61-70",over70:"Over 70",unknown:"Unknown Age"},empty:{title:"No ladder data available",subtitle:"Complete assessments to rank!"},footer:{scoreFormula:"Complete all assessment items to calculate ladder score",formula:"Ladder Score = (Strength + Explosive Power + Cardio + Muscle Mass + Body Fat) ÷ 5"}},guestMode:{title:"Welcome to Fitness Assessment",subtitle:"You can choose to register or try directly",startGuest:"Try Now (Guest Mode)",register:"Register",or:"or",banner:"Guest Mode - Your data is stored locally only",syncData:"Register to Sync",exit:"Exit"},errors:{required:"This field is required",invalidFormat:"Invalid format",networkError:"Network error, please try again later",authError:"Authentication failed",saveError:"Save failed",loadError:"Load failed"}}};jt.use(mv).init({resources:{"zh-TW":Iv,"en-US":Hv},lng:"zh-TW",fallbackLng:"zh-TW",interpolation:{escapeValue:!1},react:{useSuspense:!1}});try{localStorage.removeItem("language")}catch{}function k0({onLogin:u,onGuestMode:i}){const o=qn(),{clearUserData:c,isAuthenticated:d,isLoading:h}=mn(),{t:g}=C0(),[p,v]=R.useState(!1);R.useEffect(()=>{console.log("i18n current language:",jt.language)},[]),R.useEffect(()=>{const N=async()=>{if(p||d)return;const A=localStorage.getItem("savedEmail"),D=localStorage.getItem("savedPassword");if(A&&D&&!p){console.log("Welcome - 嘗試自動登入:",A),v(!0);try{const L=await Lo(se,A,D);console.log("Welcome - 自動登入成功:",L.user.email),setTimeout(()=>{o("/user-info")},500)}catch(L){console.error("Welcome - 自動登入失敗:",L),localStorage.removeItem("savedEmail"),localStorage.removeItem("savedPassword")}}},w=setTimeout(()=>{N()},100);return()=>clearTimeout(w)},[p,d,o]),R.useEffect(()=>{d&&!h&&(console.log("Welcome - 用戶已認證，導航到 user-info"),o("/user-info"))},[d,h,o]);const x=()=>{o("/login")},y=()=>{i?i():o("/guest")};return s.jsxs("div",{className:"welcome-container",children:[s.jsx("div",{className:"welcome-header",children:s.jsx(yv,{})}),s.jsxs("div",{className:"welcome-content",children:[s.jsx("h1",{className:"welcome-title",children:g("welcome.title")}),s.jsx("p",{className:"welcome-subtitle",children:g("welcome.subtitle")}),s.jsxs("div",{className:"button-group-mode",children:[s.jsxs("div",{className:"button-with-tooltip",children:[s.jsx("button",{onClick:x,className:"mode-btn login-btn",children:g("welcome.login")}),s.jsx("span",{className:"tooltip",children:"將數據保存到雲端,隨時隨地訪問"})]}),s.jsxs("div",{className:"button-with-tooltip",children:[s.jsx("button",{onClick:y,className:"mode-btn guest-btn",children:g("welcome.guestMode")}),s.jsx("span",{className:"tooltip",children:"無需註冊,立即開始評測"})]})]})]})]})}k0.propTypes={onLogin:Re.func,onGuestMode:Re.func};const Tl={strength:0,explosivePower:0,cardio:0,muscleMass:0,bodyFat:0},qv=["male","female"],Gv=({isOpen:u,onClose:i,title:o,message:c,type:d="info",onAction:h=null,actionText:g=null})=>{if(!u)return null;const p=()=>{switch(d){case"warning":return"⚠️";case"success":return"✅";case"error":return"❌";default:return"ℹ️"}},v=()=>{switch(d){case"warning":return"modal-btn modal-btn-warning";case"success":return"modal-btn modal-btn-success";case"error":return"modal-btn modal-btn-error";default:return"modal-btn modal-btn-info"}},x=()=>{console.log("Modal close button clicked"),i()},y=()=>{console.log("Modal overlay clicked"),i()},N=()=>{h&&h(),i()};return s.jsx("div",{className:"modal-overlay",onClick:y,children:s.jsxs("div",{className:"modal-content",onClick:w=>w.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("span",{className:"modal-icon",children:p()}),s.jsx("h3",{className:"modal-title",children:o})]}),s.jsx("div",{className:"modal-body",children:s.jsx("p",{className:"modal-message",children:c})}),s.jsx("div",{className:"modal-footer",children:h&&g?s.jsxs("div",{className:"modal-footer-actions",children:[s.jsx("button",{className:"modal-btn modal-btn-secondary",onClick:x,children:"稍後查看"}),s.jsx("button",{className:v(),onClick:N,style:{position:"relative",zIndex:10001},children:g})]}):s.jsx("button",{className:v(),onClick:x,style:{position:"relative",zIndex:10001},children:"確定"})})]})})},a0=({isOpen:u,onConfirm:i,onCancel:o,remainingCount:c})=>{if(!u)return null;const d=h=>{h.target===h.currentTarget&&o()};return s.jsx("div",{className:"modal-overlay submit-confirm-overlay",onClick:d,children:s.jsxs("div",{className:"modal-content submit-confirm-content",onClick:h=>h.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("span",{className:"modal-icon",children:"🏆"}),s.jsx("h3",{className:"modal-title",children:"提交確認"})]}),s.jsx("div",{className:"modal-body",children:s.jsxs("div",{className:"submit-confirm-message",children:[s.jsxs("p",{className:"confirm-text",children:["為提升天梯參考價值，防止誤植，今天還剩下"," ",s.jsx("span",{className:"remaining-count",children:c})," ","次提交機會，每天凌晨12點將重置"]}),s.jsxs("div",{className:"confirm-details",children:[s.jsxs("div",{className:"detail-item",children:[s.jsx("span",{className:"detail-icon",children:"📊"}),s.jsx("span",{className:"detail-text",children:"確保數據準確性"})]}),s.jsxs("div",{className:"detail-item",children:[s.jsx("span",{className:"detail-icon",children:"⏰"}),s.jsx("span",{className:"detail-text",children:"每日凌晨重置次數"})]}),s.jsxs("div",{className:"detail-item",children:[s.jsx("span",{className:"detail-icon",children:"🎯"}),s.jsx("span",{className:"detail-text",children:"提升天梯參考價值"})]})]})]})}),s.jsxs("div",{className:"modal-footer submit-confirm-footer",children:[s.jsx("button",{className:"modal-btn modal-btn-secondary",onClick:o,children:"還沒填好"}),s.jsx("button",{className:"modal-btn modal-btn-success",onClick:i,children:"確定提交"})]})]})})};async function Vv(u,i=300*1024,o=192,c=192){return new Promise((d,h)=>{const g=new window.Image,p=new FileReader;p.onload=v=>{g.src=v.target.result},g.onload=()=>{const v=document.createElement("canvas");let x=g.width,y=g.height;(x>o||y>c)&&(x>y?(y=Math.round(y*o/x),x=o):(x=Math.round(x*c/y),y=c)),v.width=x,v.height=y,v.getContext("2d").drawImage(g,0,0,x,y),v.toBlob(w=>{w.size>i?v.toBlob(A=>{d(A)},"image/jpeg",.7):d(w)},"image/jpeg",.85)},g.onerror=h,p.onerror=h,p.readAsDataURL(u)})}function I0({testData:u,onLogout:i,clearTestData:o}){const{userData:c,setUserData:d,saveUserData:h,saveHistory:g,loadUserData:p,isLoading:v}=mn(),[x,y]=R.useState(null),[N,w]=R.useState(!1),[A,D]=R.useState(null),[L,te]=R.useState(!1),q=qn(),Q=Rl(),k=R.useRef(null),J=R.useRef(null),[H,U]=R.useState(!1),[$,Z]=R.useState(null),[ne,ae]=R.useState({isOpen:!1,title:"",message:"",type:"info",onAction:null,actionText:null}),[F,he]=R.useState(null),[P,le]=R.useState({lastSubmissionTime:null,dailySubmissionCount:0,lastSubmissionDate:null}),[W,S]=R.useState({isOpen:!1,remainingCount:3});R.useCallback(()=>{const V=new Date,C=V.toDateString();if(P.lastSubmissionDate!==C)return le(X=>({...X,dailySubmissionCount:0,lastSubmissionDate:C})),{canSubmit:!0,reason:null};if(P.dailySubmissionCount>=3)return{canSubmit:!1,reason:"今日已達提交上限（3次），請明天再試"};if(P.lastSubmissionTime){const X=V-P.lastSubmissionTime,Ye=2*60*60*1e3;if(X<Ye)return{canSubmit:!1,reason:`請等待 ${Math.ceil((Ye-X)/6e4)} 分鐘後再提交`}}return{canSubmit:!0,reason:null}},[P]);const G=R.useCallback(()=>{const V=3-(P.dailySubmissionCount||0);S({isOpen:!0,remainingCount:Math.max(0,V)})},[P.dailySubmissionCount]),ee=R.useCallback(async()=>{if(S({isOpen:!1,remainingCount:0}),!N)try{w(!0);const V=c.scores||{},C=Ii(V);d({...c,ladderScore:C,lastLadderSubmission:new Date});const X=new Date;le(fe=>({lastSubmissionTime:X,dailySubmissionCount:fe.dailySubmissionCount+1,lastSubmissionDate:X.toDateString()})),ae({isOpen:!0,title:"提交成功",message:`您的分數 ${C} 已成功提交到天梯！`,type:"success",onAction:()=>q("/ladder"),actionText:"立即查看天梯"}),setTimeout(()=>{ae(fe=>({...fe,isOpen:!1}))},5e3)}catch(V){console.error("提交到天梯失敗:",V),ae({isOpen:!0,title:"提交失敗",message:"提交到天梯時發生錯誤，請稍後再試",type:"error"})}finally{w(!1)}},[c,d,N,q]),ye=R.useCallback(()=>{S({isOpen:!1,remainingCount:0})},[]),Ee=R.useCallback(async()=>{if(!se.currentUser){ae({isOpen:!0,title:"需要登入",message:"請先登入以提交到天梯",type:"warning"});return}const V=c.scores||{},C=Object.values(V).filter(X=>X>0).length;if(C<5){ae({isOpen:!0,title:"評測未完成",message:`請先完成全部5項評測（目前完成 ${C}/5 項）`,type:"warning"});return}G()},[c,G]),me=R.useMemo(()=>{const V=c.scores||Tl;return[{name:"力量",value:V.strength?Number(V.strength).toFixed(1)*1:0,icon:"💪"},{name:"爆發力",value:V.explosivePower?Number(V.explosivePower).toFixed(1)*1:0,icon:"⚡"},{name:"心肺耐力",value:V.cardio?Number(V.cardio).toFixed(1)*1:0,icon:"❤️"},{name:"骨骼肌肉量",value:V.muscleMass?Number(V.muscleMass).toFixed(1)*1:0,icon:"🥩"},{name:"FFMI",value:V.bodyFat?Number(V.bodyFat).toFixed(1)*1:0,icon:"📊"}]},[c.scores]),de=sessionStorage.getItem("guestMode")==="true",pe=({payload:V,x:C,y:X,textAnchor:fe})=>{const Ye=me.find(mt=>mt.name===V.value);let Ze=C,bt=X;const ht=Math.sqrt(C*C+X*X),rt=Math.atan2(X,C);return V.value==="力量"?(Ze=C,bt=X-ht*.12):V.value==="爆發力"?(Ze=C+Math.cos(rt)*(ht*.03),bt=X+Math.sin(rt)*(ht*.06)):V.value==="FFMI"?(Ze=C+Math.cos(rt)*(ht*-.2),bt=X+Math.sin(rt)*(ht*.06)):V.value==="心肺耐力"?(Ze=C+Math.cos(rt)*(ht*.01),bt=X+Math.sin(rt)*(ht*.06)):V.value==="骨骼肌肉量"?(Ze=C+Math.cos(rt)*(ht*-.05),bt=X+Math.sin(rt)*(ht*.06)):(Ze=C+Math.cos(rt)*(ht*.1),bt=X+Math.sin(rt)*(ht*.1)),s.jsxs("g",{transform:`translate(${Ze},${bt})`,children:[s.jsx("defs",{children:s.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[s.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),s.jsxs("feMerge",{children:[s.jsx("feMergeNode",{in:"coloredBlur"}),s.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),s.jsx("circle",{cx:0,cy:0,r:16,fill:"rgba(129, 216, 208, 0.1)",filter:"url(#glow)"}),s.jsx("circle",{cx:0,cy:0,r:14,fill:"rgba(255, 255, 255, 0.95)",stroke:"rgba(129, 216, 208, 0.4)",strokeWidth:2,filter:"drop-shadow(0 2px 4px rgba(129, 216, 208, 0.2))"}),s.jsx("text",{x:0,y:-8,textAnchor:"middle",fill:"#4a5568",fontSize:"16",fontWeight:"600",dominantBaseline:"middle",filter:"drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1))",children:Ye==null?void 0:Ye.icon}),s.jsx("text",{x:0,y:12,textAnchor:"middle",fill:"#2d3748",fontSize:"13",fontWeight:"700",dominantBaseline:"middle",filter:"drop-shadow(0 1px 3px rgba(255, 255, 255, 0.9))",children:V.value})]})};R.useEffect(()=>{if(!se){y("無法初始化身份驗證，請檢查 Firebase 配置並稍後再試。"),console.error("auth 未初始化");return}const V=se.onAuthStateChanged(C=>{console.log("UserInfo - 認證狀態變更:",C==null?void 0:C.email),D(C),!C&&!de&&q("/login")});return()=>V()},[q,de]),R.useEffect(()=>{(async()=>{A&&!L&&!v&&(console.log("UserInfo - 檢查資料載入狀態"),!c.height&&!c.weight&&!c.age&&(console.log("UserInfo - 資料為空，嘗試重新載入"),await p()),te(!0))})()},[A,L,v]),R.useEffect(()=>{var fe,Ye;const V=["/strength","/explosive-power","/cardio","/muscle-mass","/body-fat"],C=(fe=Q.state)==null?void 0:fe.from;C&&V.includes(C)&&setTimeout(()=>{k.current&&k.current.scrollIntoView({behavior:"smooth",block:"center"})},300);const X=(Ye=Q.state)==null?void 0:Ye.scrollTo;X&&setTimeout(()=>{X==="radar"&&k.current?k.current.scrollIntoView({behavior:"smooth",block:"center"}):X==="tests"&&J.current&&J.current.scrollIntoView({behavior:"smooth",block:"start"})},300)},[Q]),R.useEffect(()=>{(()=>{try{const C=localStorage.getItem("ladderSubmissionState");if(C){const X=JSON.parse(C),fe=new Date().toDateString();X.lastSubmissionDate!==fe?le({lastSubmissionTime:null,dailySubmissionCount:0,lastSubmissionDate:fe}):le(X)}}catch(C){console.error("載入提交狀態失敗:",C)}})()},[]),R.useEffect(()=>{P.lastSubmissionDate&&localStorage.setItem("ladderSubmissionState",JSON.stringify(P))},[P]),R.useEffect(()=>{if(u&&Object.keys(u).length>0){console.log("收到測試數據:",u);const V=setTimeout(()=>{d(C=>{const fe={...C.scores||Tl,...u.distance!==void 0&&{cardio:u.score||0},...u.squat!==void 0&&{strength:u.averageScore||0},...u.jumpHeight!==void 0&&{explosivePower:u.finalScore||0},...u.smm!==void 0&&{muscleMass:u.finalScore||0},...u.bodyFat!==void 0&&{bodyFat:u.ffmiScore||0}};return console.log("💾 防抖後更新測試數據分數（5秒防抖）"),{...C,scores:fe}}),setPreviousScores(C=>({...C,...u.distance!==void 0&&{cardio:u.score||0},...u.squat!==void 0&&{strength:u.averageScore||0},...u.jumpHeight!==void 0&&{explosivePower:u.finalScore||0},...u.smm!==void 0&&{muscleMass:u.finalScore||0},...u.bodyFat!==void 0&&{bodyFat:u.ffmiScore||0}}))},5e3);return o&&setTimeout(o,6e3),()=>clearTimeout(V)}},[u,o]);const _e=R.useCallback(()=>{const{height:V,weight:C,age:X,gender:fe}=c;return!V||!C||!X||!fe?(y("請填寫所有欄位"),!1):V<=0||C<=0||X<=0?(y("身高、體重和年齡必須大於 0"),!1):qv.includes(fe)?!0:(y("請選擇有效的性別"),!1)},[c]),Xe=R.useCallback(async V=>{if(V.preventDefault(),y(null),w(!0),!_e()){w(!1);return}const C={...c,height:Number(c.height)||0,weight:Number(c.weight)||0,age:Number(c.age)||0,gender:c.gender,scores:c.scores||Tl,lastActive:new Date().toISOString()};try{d(C),ae({isOpen:!0,title:"儲存成功",message:"資料已儲存成功！",type:"success"})}catch(X){ae(de?{isOpen:!0,title:"訪客模式",message:"訪客模式下無法保存到雲端，但您現在可以開始進行評測了！",type:"info"}:{isOpen:!0,title:"儲存失敗",message:`儲存失敗：${X.message}`,type:"error"})}finally{w(!1)}},[c,_e,h,de]),Qe=R.useMemo(()=>{const V=(c==null?void 0:c.scores)||Tl,C=Object.values(V).filter(fe=>fe>0);return C.length?(C.reduce((fe,Ye)=>fe+Number(Ye),0)/C.length).toFixed(1):0},[c==null?void 0:c.scores]),dt=R.useMemo(()=>{const V=(c==null?void 0:c.scores)||Tl;return Ii(V)},[c==null?void 0:c.scores]),at=R.useMemo(()=>{const V=(c==null?void 0:c.scores)||Tl,C=Object.values(V).filter(fe=>fe>0).length;return{completedCount:C,isFullyCompleted:C===5,progress:C/5*100}},[c==null?void 0:c.scores]),ft=R.useCallback(async()=>{if(!(c!=null&&c.userId)||!at.isFullyCompleted){he(null);return}try{const V=yt(De,"users"),C=Dt(V,st("ladderScore",">",0),_o("ladderScore","desc"),Li(100)),X=await Ht(C),fe=[];X.forEach(Ze=>{const bt=Ze.data();bt.ladderScore>0&&fe.push({id:Ze.id,...bt})});const Ye=fe.findIndex(Ze=>Ze.id===c.userId);he(Ye!==-1?Ye+1:null)}catch(V){console.error("獲取用戶排名失敗:",V),he(null)}},[c==null?void 0:c.userId,at.isFullyCompleted]);R.useEffect(()=>{ft()},[ft]);const qt=R.useMemo(()=>c!=null&&c.age?wl(c.age):"",[c==null?void 0:c.age]),wt=R.useCallback(V=>{const C=V.target.value,X=setTimeout(()=>{d(fe=>({...fe,nickname:C,ageGroup:qt,ladderScore:dt}))},1e3);return()=>clearTimeout(X)},[qt,dt]),Y=()=>{var X;const V=(X=se.currentUser)==null?void 0:X.email,C=ev(V);d(fe=>({...fe,nickname:C}))},K=R.useCallback(()=>{if(!se.currentUser){ae({isOpen:!0,title:"需要登入",message:"請先登入以儲存結果",type:"warning"});return}const V={date:new Date().toLocaleDateString("zh-TW"),scores:c.scores,averageScore:Qe};g(V),ae({isOpen:!0,title:"儲存成功",message:"結果已儲存",type:"success"}),setTimeout(()=>{ae(C=>({...C,isOpen:!1}))},2e3)},[c.scores,Qe,g]),ce=R.useCallback(async V=>{if(!c.height||!c.weight||!c.age||!c.gender){ae({isOpen:!0,title:"需要基本資料",message:"請先填寫並儲存您的身高、體重、年齡和性別，才能開始評測！",type:"warning"});return}_e()?q(V,{state:{from:"/user-info"}}):ae({isOpen:!0,title:"資料未保存",message:"請確保資料已正確保存後再進行評測！",type:"warning"})},[c,_e,q]),Se=R.useCallback(()=>{localStorage.removeItem("savedEmail"),localStorage.removeItem("savedPassword"),se.currentUser&&se.signOut().catch(V=>console.error("登出失敗:",V)),i(),q("/login")},[i,q]),Ae=R.useCallback(V=>{const{name:C,value:X}=V.target;let fe=X;C==="gender"||["profession"].includes(C)?fe=X:["weeklyTrainingHours","trainingYears"].includes(C)?fe=X===""?"":Number(X):fe=X===""?0:Number(X),d(Ye=>({...Ye,[C]:fe}))},[d]),oe=async V=>{var X;Z(null);const C=V.target.files[0];if(C){if(!C.type.startsWith("image/")){Z("請選擇圖片檔案");return}if(C.size>2*1024*1024){Z("圖片大小請勿超過 2MB");return}U(!0);try{const fe=await Vv(C,307200,192,192);if(fe.size>350*1024){Z("壓縮後圖片仍超過 350KB，請選擇更小的圖片"),U(!1);return}const Ye=(X=se.currentUser)==null?void 0:X.uid;if(!Ye)throw new Error("未登入，無法上傳頭像");const Ze=Qp(Do,`avatars/${Ye}/avatar.jpg`);await Fp(Ze,fe,{contentType:"image/jpeg"});const bt=await Xp(Ze);d(ht=>({...ht,avatarUrl:bt}))}catch(fe){Z("頭像上傳失敗: "+fe.message)}finally{U(!1)}}};return v&&!L?s.jsx("div",{className:"user-info-container",children:s.jsx("div",{className:"loading-message",children:s.jsx("p",{children:"正在載入用戶資料..."})})}):s.jsxs("div",{className:"user-info-container",children:[s.jsx(Gv,{isOpen:ne.isOpen,onClose:()=>{console.log("Modal onClose triggered, current state:",ne),ae(V=>(console.log("Setting modal state to closed"),{...V,isOpen:!1}))},title:ne.title,message:ne.message,type:ne.type,onAction:ne.onAction,actionText:ne.actionText}),s.jsx(a0,{isOpen:W.isOpen,onConfirm:ee,onCancel:ye,remainingCount:W.remainingCount}),x&&s.jsx("p",{className:"error-message",children:x}),s.jsxs("div",{className:"avatar-section",children:[s.jsx("div",{className:"avatar-container",children:s.jsx("img",{src:(c==null?void 0:c.avatarUrl)||"/logo192.png",alt:"頭像",className:"user-avatar"})}),s.jsx("div",{className:"avatar-actions-container",children:s.jsxs("label",{className:"avatar-upload-label",children:[H?"上傳中...":"更換頭像",s.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:oe,disabled:H})]})}),$&&s.jsx("div",{className:"avatar-error",children:$})]}),(A||de)&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"page-header",children:[s.jsx("h1",{className:"page-title",children:"身體狀態與表現總覽"}),s.jsx("div",{className:"page-subtitle",children:"完善您的個人資料，開始健身之旅"})]}),s.jsx("div",{className:"form-card",children:s.jsxs("form",{className:"user-form",onSubmit:Xe,children:[s.jsxs("div",{className:"form-section",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h3",{className:"section-title",children:"基本資料"}),A&&s.jsx("button",{type:"button",onClick:Se,title:"登出",className:"logout-btn",onMouseEnter:V=>{const C=document.createElement("div");C.innerText="登出",C.style.position="absolute",C.style.bottom="44px",C.style.left="50%",C.style.transform="translateX(-50%)",C.style.background="rgba(60,60,60,0.95)",C.style.color="#fff",C.style.padding="6px 14px",C.style.borderRadius="6px",C.style.fontSize="13px",C.style.whiteSpace="nowrap",C.style.pointerEvents="none",C.style.zIndex="1001",C.className="logout-tooltip",V.currentTarget.parentNode.appendChild(C)},onMouseLeave:V=>{const C=V.currentTarget.parentNode.querySelector(".logout-tooltip");C&&C.remove()},children:s.jsx("span",{className:"logout-icon",children:"⎋"})})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"nickname",className:"form-label",children:"暱稱"}),s.jsxs("div",{className:"nickname-input-group",children:[s.jsx("input",{id:"nickname",name:"nickname",type:"text",value:(c==null?void 0:c.nickname)||"",onChange:wt,placeholder:"請輸入暱稱",className:"form-input",maxLength:"20"}),s.jsx("button",{type:"button",onClick:Y,className:"generate-nickname-btn",children:"生成暱稱"})]})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"gender",className:"form-label",children:"性別"}),s.jsxs("select",{id:"gender",name:"gender",value:(c==null?void 0:c.gender)||"",onChange:Ae,className:"form-input",required:!0,children:[s.jsx("option",{value:"",children:"請選擇性別"}),s.jsx("option",{value:"male",children:"男性"}),s.jsx("option",{value:"female",children:"女性"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"age",className:"form-label",children:"年齡"}),s.jsx("input",{id:"age",name:"age",type:"number",value:(c==null?void 0:c.age)||"",onChange:Ae,placeholder:"年齡",className:"form-input",required:!0,min:"0",step:"1"})]})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"height",className:"form-label",children:"身高 (cm)"}),s.jsx("input",{id:"height",name:"height",type:"number",value:(c==null?void 0:c.height)||"",onChange:Ae,placeholder:"身高 (cm)",className:"form-input",required:!0,min:"0",step:"0.1"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"weight",className:"form-label",children:"體重 (kg)"}),s.jsx("input",{id:"weight",name:"weight",type:"number",value:(c==null?void 0:c.weight)||"",onChange:Ae,placeholder:"體重 (kg)",className:"form-input",required:!0,min:"0",step:"0.1"})]})]})]}),s.jsxs("div",{className:"form-section",children:[s.jsx("h3",{className:"section-title",children:"🏆 天梯排行榜設置"}),s.jsx("div",{className:"privacy-options",children:s.jsxs("label",{className:"privacy-option",children:[s.jsx("input",{type:"checkbox",checked:c.isAnonymousInLadder===!0,onChange:V=>d(C=>({...C,isAnonymousInLadder:V.target.checked}))}),s.jsxs("div",{className:"privacy-option-content",children:[s.jsx("span",{className:"privacy-option-title",children:"匿名參與天梯排名"}),s.jsx("span",{className:"privacy-option-desc",children:"勾選後將隱藏您的暱稱和頭像，以匿名方式顯示在排行榜中"})]})]})}),s.jsxs("div",{className:"training-info-section",children:[s.jsx("h4",{className:"training-info-title",children:"💪 訓練背景（選填）"}),s.jsx("p",{className:"training-info-desc",children:"分享您的訓練背景，激勵其他健身愛好者！"}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"profession",className:"form-label",children:"職業"}),s.jsx("input",{id:"profession",name:"profession",type:"text",value:(c==null?void 0:c.profession)||"",onChange:Ae,placeholder:"例如：工程師、學生、教師...",className:"form-input",maxLength:"100"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"weeklyTrainingHours",className:"form-label",children:"每周訓練時數"}),s.jsx("input",{id:"weeklyTrainingHours",name:"weeklyTrainingHours",type:"number",value:(c==null?void 0:c.weeklyTrainingHours)||"",onChange:Ae,placeholder:"小時",className:"form-input",min:"0",max:"168",step:"0.5"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"trainingYears",className:"form-label",children:"訓練年資"}),s.jsx("input",{id:"trainingYears",name:"trainingYears",type:"number",value:(c==null?void 0:c.trainingYears)||"",onChange:Ae,placeholder:"年",className:"form-input",min:"0",max:"50",step:"0.5"})]})]})]}),s.jsx("div",{className:"form-actions",children:s.jsx("button",{type:"submit",className:"submit-btn",disabled:N,children:N?"儲存中...":"儲存資料"})})]})})]}),s.jsx("div",{id:"radar-section",className:"radar-section",ref:k,children:s.jsxs("div",{className:"radar-card",children:[s.jsx("div",{className:"corner-decoration top-left"}),s.jsx("div",{className:"corner-decoration top-right"}),s.jsx("div",{className:"corner-decoration bottom-left"}),s.jsx("div",{className:"corner-decoration bottom-right"}),s.jsx("h2",{className:"radar-title",children:"表現總覽"}),N?s.jsxs("div",{className:"loading-container",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{children:"正在載入數據..."})]}):s.jsx("div",{className:"radar-chart-container",children:s.jsx(ur,{width:"100%",height:400,children:s.jsxs(c0,{data:me,children:[s.jsx(o0,{gridType:"polygon",stroke:"rgba(129, 216, 208, 0.25)",strokeWidth:2,strokeDasharray:"4 4"}),s.jsx(u0,{dataKey:"name",tick:s.jsx(pe,{}),axisLine:!1}),s.jsx(d0,{angle:90,domain:[0,100],tickCount:5,tick:{fontSize:12,fill:"#2d3748",fontWeight:600},axisLine:!1}),s.jsx(f0,{name:"您的表現",dataKey:"value",stroke:"#81D8D0",fill:"url(#tiffanyGradient)",fillOpacity:.8,strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("defs",{children:s.jsxs("linearGradient",{id:"tiffanyGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[s.jsx("stop",{offset:"0%",stopColor:"#81D8D0",stopOpacity:.9}),s.jsx("stop",{offset:"50%",stopColor:"#5F9EA0",stopOpacity:.7}),s.jsx("stop",{offset:"100%",stopColor:"#81D8D0",stopOpacity:.6})]})})]})})}),!N&&s.jsxs("div",{className:"score-section",children:[Qe>0&&s.jsxs("div",{className:"average-score-display",children:[s.jsxs("p",{className:"average-score",children:["⭐ 戰鬥力"," ",s.jsx("span",{className:"score-value-large",children:Qe})]}),at.isFullyCompleted&&s.jsxs("p",{className:"ladder-rank",children:["🏆 :"," ",s.jsx("span",{className:"rank-value",children:F||"未上榜"})]})]}),s.jsxs("div",{className:"action-buttons-section",children:[Qe>0&&s.jsxs("button",{onClick:K,className:"action-btn save-results-btn",disabled:N,children:[s.jsx("span",{className:"btn-icon",children:"💾"}),s.jsx("span",{className:"btn-text",children:"儲存評測結果"})]}),at.isFullyCompleted&&s.jsxs("button",{onClick:Ee,className:"action-btn submit-ladder-btn",disabled:N,children:[s.jsx("span",{className:"btn-icon",children:"🏆"}),s.jsx("span",{className:"btn-text",children:"提交到天梯"})]})]}),s.jsx("div",{className:"ladder-info-card",children:s.jsx("p",{className:"ladder-info-text",children:at.isFullyCompleted?"完成五項評測，可參與天梯排名":`完成 ${at.completedCount}/5 項評測後可參與天梯排名`})})]})]})}),s.jsxs("div",{className:"test-buttons-section",ref:J,children:[s.jsx("h3",{className:"section-title",children:"開始評測"}),s.jsxs("div",{className:"test-buttons-grid",children:[s.jsxs("button",{onClick:()=>ce("/strength"),className:"test-btn strength-btn",children:[s.jsx("span",{className:"test-icon",children:"💪"}),s.jsx("span",{className:"test-label",children:"力量評測"})]}),s.jsxs("button",{onClick:()=>ce("/explosive-power"),className:"test-btn explosive-btn",children:[s.jsx("span",{className:"test-icon",children:"⚡"}),s.jsx("span",{className:"test-label",children:"爆發力測試"})]}),s.jsxs("button",{onClick:()=>ce("/cardio"),className:"test-btn cardio-btn",children:[s.jsx("span",{className:"test-icon",children:"❤️"}),s.jsx("span",{className:"test-label",children:"心肺耐力測試"})]}),s.jsxs("button",{onClick:()=>ce("/muscle-mass"),className:"test-btn muscle-btn",children:[s.jsx("span",{className:"test-icon",children:"🥩"}),s.jsx("span",{className:"test-label",children:"骨骼肌肉量"})]}),s.jsxs("button",{onClick:()=>ce("/body-fat"),className:"test-btn bodyfat-btn",children:[s.jsx("span",{className:"test-icon",children:"📊"}),s.jsx("span",{className:"test-label",children:"體脂肪率與FFMI"})]})]})]}),W.isOpen&&s.jsx(a0,{isOpen:W.isOpen,onConfirm:ee,onCancel:ye,remainingCount:W.remainingCount})]})}I0.propTypes={testData:Re.shape({distance:Re.number,score:Re.number,squat:Re.number,averageScore:Re.number,jumpHeight:Re.number,finalScore:Re.number,smm:Re.number,bodyFat:Re.number,ffmiScore:Re.number}),onLogout:Re.func.isRequired,clearTestData:Re.func.isRequired};const Yv={50:{Beginner:24,Novice:38,Intermediate:57,Advanced:79,Elite:103},55:{Beginner:29,Novice:45,Intermediate:64,Advanced:87,Elite:113},60:{Beginner:34,Novice:51,Intermediate:72,Advanced:96,Elite:123},65:{Beginner:39,Novice:57,Intermediate:79,Advanced:104,Elite:132},70:{Beginner:44,Novice:62,Intermediate:85,Advanced:112,Elite:141},75:{Beginner:49,Novice:68,Intermediate:92,Advanced:119,Elite:149},80:{Beginner:53,Novice:74,Intermediate:98,Advanced:127,Elite:157},85:{Beginner:58,Novice:79,Intermediate:105,Advanced:134,Elite:165},90:{Beginner:62,Novice:84,Intermediate:111,Advanced:141,Elite:172},95:{Beginner:67,Novice:89,Intermediate:116,Advanced:147,Elite:180},100:{Beginner:71,Novice:94,Intermediate:122,Advanced:153,Elite:187},105:{Beginner:75,Novice:99,Intermediate:128,Advanced:160,Elite:194},110:{Beginner:80,Novice:104,Intermediate:133,Advanced:166,Elite:200},115:{Beginner:84,Novice:109,Intermediate:138,Advanced:172,Elite:207},120:{Beginner:88,Novice:113,Intermediate:143,Advanced:177,Elite:213},125:{Beginner:92,Novice:118,Intermediate:148,Advanced:183,Elite:219},130:{Beginner:95,Novice:122,Intermediate:153,Advanced:188,Elite:225},135:{Beginner:99,Novice:126,Intermediate:158,Advanced:194,Elite:231},140:{Beginner:103,Novice:130,Intermediate:163,Advanced:199,Elite:236}},Fv={40:{Beginner:8,Novice:18,Intermediate:32,Advanced:50,Elite:70},45:{Beginner:10,Novice:21,Intermediate:36,Advanced:55,Elite:76},50:{Beginner:12,Novice:24,Intermediate:40,Advanced:59,Elite:82},55:{Beginner:15,Novice:27,Intermediate:43,Advanced:64,Elite:87},60:{Beginner:17,Novice:29,Intermediate:47,Advanced:68,Elite:92},65:{Beginner:19,Novice:32,Intermediate:50,Advanced:72,Elite:96},70:{Beginner:20,Novice:34,Intermediate:53,Advanced:75,Elite:101},75:{Beginner:22,Novice:37,Intermediate:56,Advanced:79,Elite:105},80:{Beginner:24,Novice:39,Intermediate:59,Advanced:82,Elite:109},85:{Beginner:26,Novice:41,Intermediate:62,Advanced:86,Elite:112},90:{Beginner:28,Novice:44,Intermediate:64,Advanced:89,Elite:116},95:{Beginner:29,Novice:46,Intermediate:67,Advanced:92,Elite:119},100:{Beginner:31,Novice:48,Intermediate:69,Advanced:95,Elite:123},105:{Beginner:33,Novice:50,Intermediate:72,Advanced:98,Elite:126},110:{Beginner:34,Novice:52,Intermediate:74,Advanced:100,Elite:129},115:{Beginner:36,Novice:54,Intermediate:76,Advanced:103,Elite:132},120:{Beginner:37,Novice:56,Intermediate:79,Advanced:106,Elite:135}},Xv={50:{Beginner:33,Novice:52,Intermediate:76,Advanced:104,Elite:136},55:{Beginner:40,Novice:60,Intermediate:86,Advanced:116,Elite:149},60:{Beginner:47,Novice:68,Intermediate:95,Advanced:127,Elite:161},65:{Beginner:53,Novice:76,Intermediate:104,Advanced:137,Elite:173},70:{Beginner:59,Novice:83,Intermediate:113,Advanced:147,Elite:184},75:{Beginner:66,Novice:91,Intermediate:122,Advanced:157,Elite:195},80:{Beginner:72,Novice:98,Intermediate:130,Advanced:166,Elite:205},85:{Beginner:78,Novice:105,Intermediate:138,Advanced:175,Elite:215},90:{Beginner:83,Novice:112,Intermediate:146,Advanced:184,Elite:225},95:{Beginner:89,Novice:118,Intermediate:153,Advanced:192,Elite:234},100:{Beginner:95,Novice:125,Intermediate:160,Advanced:201,Elite:243},105:{Beginner:100,Novice:131,Intermediate:168,Advanced:209,Elite:252},110:{Beginner:106,Novice:137,Intermediate:174,Advanced:216,Elite:260},115:{Beginner:111,Novice:143,Intermediate:181,Advanced:224,Elite:269},120:{Beginner:116,Novice:149,Intermediate:188,Advanced:231,Elite:277},125:{Beginner:121,Novice:155,Intermediate:194,Advanced:238,Elite:284},130:{Beginner:126,Novice:160,Intermediate:201,Advanced:245,Elite:292},135:{Beginner:131,Novice:166,Intermediate:207,Advanced:252,Elite:299},140:{Beginner:136,Novice:171,Intermediate:213,Advanced:259,Elite:307}},Qv={40:{Beginner:17,Novice:31,Intermediate:51,Advanced:75,Elite:101},45:{Beginner:20,Novice:36,Intermediate:56,Advanced:81,Elite:109},50:{Beginner:23,Novice:39,Intermediate:61,Advanced:87,Elite:115},55:{Beginner:26,Novice:43,Intermediate:65,Advanced:92,Elite:122},60:{Beginner:29,Novice:47,Intermediate:70,Advanced:97,Elite:128},65:{Beginner:32,Novice:50,Intermediate:74,Advanced:102,Elite:133},70:{Beginner:34,Novice:53,Intermediate:78,Advanced:106,Elite:138},75:{Beginner:37,Novice:56,Intermediate:81,Advanced:111,Elite:143},80:{Beginner:39,Novice:59,Intermediate:85,Advanced:115,Elite:148},85:{Beginner:41,Novice:62,Intermediate:88,Advanced:119,Elite:152},90:{Beginner:44,Novice:65,Intermediate:91,Advanced:123,Elite:157},95:{Beginner:46,Novice:68,Intermediate:95,Advanced:126,Elite:161},100:{Beginner:48,Novice:70,Intermediate:98,Advanced:130,Elite:165},105:{Beginner:50,Novice:73,Intermediate:101,Advanced:133,Elite:169},110:{Beginner:52,Novice:75,Intermediate:103,Advanced:136,Elite:172},115:{Beginner:54,Novice:77,Intermediate:106,Advanced:140,Elite:176},120:{Beginner:56,Novice:80,Intermediate:109,Advanced:143,Elite:179}},Kv={50:{Beginner:44,Novice:65,Intermediate:93,Advanced:125,Elite:160},55:{Beginner:51,Novice:74,Intermediate:103,Advanced:137,Elite:174},60:{Beginner:58,Novice:83,Intermediate:114,Advanced:149,Elite:187},65:{Beginner:66,Novice:92,Intermediate:124,Advanced:160,Elite:200},70:{Beginner:73,Novice:100,Intermediate:133,Advanced:171,Elite:212},75:{Beginner:79,Novice:108,Intermediate:142,Advanced:182,Elite:224},80:{Beginner:86,Novice:116,Intermediate:151,Advanced:192,Elite:235},85:{Beginner:93,Novice:123,Intermediate:160,Advanced:201,Elite:245},90:{Beginner:99,Novice:131,Intermediate:168,Advanced:211,Elite:256},95:{Beginner:105,Novice:138,Intermediate:176,Advanced:220,Elite:266},100:{Beginner:111,Novice:145,Intermediate:184,Advanced:228,Elite:275},105:{Beginner:117,Novice:151,Intermediate:192,Advanced:237,Elite:284},110:{Beginner:123,Novice:158,Intermediate:199,Advanced:245,Elite:293},115:{Beginner:129,Novice:164,Intermediate:206,Advanced:253,Elite:302},120:{Beginner:134,Novice:171,Intermediate:213,Advanced:261,Elite:311},125:{Beginner:140,Novice:177,Intermediate:220,Advanced:268,Elite:319},130:{Beginner:145,Novice:183,Intermediate:227,Advanced:276,Elite:327},135:{Beginner:150,Novice:188,Intermediate:233,Advanced:283,Elite:335},140:{Beginner:155,Novice:194,Intermediate:240,Advanced:290,Elite:342}},Zv={40:{Beginner:24,Novice:40,Intermediate:62,Advanced:89,Elite:118},45:{Beginner:27,Novice:45,Intermediate:68,Advanced:95,Elite:126},50:{Beginner:31,Novice:49,Intermediate:73,Advanced:102,Elite:133},55:{Beginner:34,Novice:53,Intermediate:78,Advanced:107,Elite:140},60:{Beginner:37,Novice:57,Intermediate:83,Advanced:113,Elite:146},65:{Beginner:40,Novice:61,Intermediate:87,Advanced:118,Elite:152},70:{Beginner:43,Novice:64,Intermediate:91,Advanced:123,Elite:157},75:{Beginner:45,Novice:67,Intermediate:95,Advanced:127,Elite:163},80:{Beginner:48,Novice:71,Intermediate:99,Advanced:132,Elite:168},85:{Beginner:51,Novice:74,Intermediate:102,Advanced:136,Elite:172},90:{Beginner:53,Novice:77,Intermediate:106,Advanced:140,Elite:177},95:{Beginner:55,Novice:79,Intermediate:109,Advanced:144,Elite:181},100:{Beginner:58,Novice:82,Intermediate:112,Advanced:147,Elite:185},105:{Beginner:60,Novice:85,Intermediate:116,Advanced:151,Elite:189},110:{Beginner:62,Novice:87,Intermediate:119,Advanced:154,Elite:193},115:{Beginner:64,Novice:90,Intermediate:121,Advanced:158,Elite:197},120:{Beginner:66,Novice:92,Intermediate:124,Advanced:161,Elite:200}},Jv={50:{Beginner:25,Novice:39,Intermediate:58,Advanced:81,Elite:105},55:{Beginner:28,Novice:43,Intermediate:63,Advanced:86,Elite:112},60:{Beginner:31,Novice:47,Intermediate:67,Advanced:92,Elite:118},65:{Beginner:34,Novice:51,Intermediate:72,Advanced:97,Elite:124},70:{Beginner:37,Novice:54,Intermediate:76,Advanced:101,Elite:129},75:{Beginner:39,Novice:57,Intermediate:80,Advanced:106,Elite:134},80:{Beginner:42,Novice:61,Intermediate:84,Advanced:110,Elite:139},85:{Beginner:45,Novice:64,Intermediate:87,Advanced:115,Elite:144},90:{Beginner:47,Novice:67,Intermediate:91,Advanced:119,Elite:149},95:{Beginner:50,Novice:70,Intermediate:94,Advanced:122,Elite:153},100:{Beginner:52,Novice:72,Intermediate:97,Advanced:126,Elite:157},105:{Beginner:54,Novice:75,Intermediate:101,Advanced:130,Elite:161},110:{Beginner:57,Novice:78,Intermediate:104,Advanced:133,Elite:165},115:{Beginner:59,Novice:80,Intermediate:107,Advanced:137,Elite:169},120:{Beginner:61,Novice:83,Intermediate:110,Advanced:140,Elite:172},125:{Beginner:63,Novice:85,Intermediate:112,Advanced:143,Elite:176},130:{Beginner:65,Novice:88,Intermediate:115,Advanced:146,Elite:179},135:{Beginner:67,Novice:90,Intermediate:118,Advanced:149,Elite:183},140:{Beginner:69,Novice:92,Intermediate:120,Advanced:152,Elite:186}},$v={40:{Beginner:14,Novice:24,Intermediate:36,Advanced:52,Elite:70},45:{Beginner:15,Novice:25,Intermediate:39,Advanced:55,Elite:72},50:{Beginner:17,Novice:27,Intermediate:41,Advanced:57,Elite:75},55:{Beginner:18,Novice:28,Intermediate:42,Advanced:59,Elite:78},60:{Beginner:19,Novice:30,Intermediate:44,Advanced:61,Elite:80},65:{Beginner:20,Novice:31,Intermediate:46,Advanced:63,Elite:82},70:{Beginner:21,Novice:32,Intermediate:47,Advanced:65,Elite:84},75:{Beginner:22,Novice:34,Intermediate:49,Advanced:66,Elite:86},80:{Beginner:23,Novice:35,Intermediate:50,Advanced:68,Elite:88},85:{Beginner:24,Novice:36,Intermediate:51,Advanced:69,Elite:89},90:{Beginner:24,Novice:37,Intermediate:52,Advanced:71,Elite:91},95:{Beginner:25,Novice:38,Intermediate:54,Advanced:72,Elite:93},100:{Beginner:26,Novice:39,Intermediate:55,Advanced:74,Elite:94},105:{Beginner:27,Novice:40,Intermediate:56,Advanced:75,Elite:95},110:{Beginner:27,Novice:40,Intermediate:57,Advanced:76,Elite:97},115:{Beginner:28,Novice:41,Intermediate:58,Advanced:77,Elite:98},120:{Beginner:29,Novice:42,Intermediate:59,Advanced:78,Elite:99}},Wv={15:{Beginner:40,Novice:59,Intermediate:84,Advanced:112,Elite:144},20:{Beginner:46,Novice:68,Intermediate:96,Advanced:129,Elite:164},25:{Beginner:47,Novice:70,Intermediate:98,Advanced:132,Elite:169},30:{Beginner:47,Novice:70,Intermediate:98,Advanced:132,Elite:169},35:{Beginner:47,Novice:70,Intermediate:98,Advanced:132,Elite:169},40:{Beginner:47,Novice:70,Intermediate:98,Advanced:132,Elite:169},45:{Beginner:44,Novice:66,Intermediate:93,Advanced:125,Elite:160},50:{Beginner:42,Novice:62,Intermediate:88,Advanced:118,Elite:150},55:{Beginner:39,Novice:57,Intermediate:81,Advanced:109,Elite:139},60:{Beginner:35,Novice:52,Intermediate:74,Advanced:99,Elite:127},65:{Beginner:32,Novice:47,Intermediate:67,Advanced:90,Elite:115},70:{Beginner:29,Novice:42,Intermediate:60,Advanced:80,Elite:103},75:{Beginner:26,Novice:38,Intermediate:54,Advanced:72,Elite:92},80:{Beginner:23,Novice:34,Intermediate:48,Advanced:64,Elite:82},85:{Beginner:20,Novice:30,Intermediate:43,Advanced:58,Elite:74},90:{Beginner:18,Novice:27,Intermediate:39,Advanced:52,Elite:66}},Pv={15:{Beginner:15,Novice:27,Intermediate:43,Advanced:63,Elite:86},20:{Beginner:17,Novice:31,Intermediate:49,Advanced:72,Elite:98},25:{Beginner:17,Novice:31,Intermediate:51,Advanced:74,Elite:101},30:{Beginner:17,Novice:31,Intermediate:51,Advanced:74,Elite:101},35:{Beginner:17,Novice:31,Intermediate:51,Advanced:74,Elite:101},40:{Beginner:17,Novice:31,Intermediate:51,Advanced:74,Elite:101},45:{Beginner:16,Novice:30,Intermediate:48,Advanced:70,Elite:96},50:{Beginner:15,Novice:28,Intermediate:45,Advanced:66,Elite:90},55:{Beginner:14,Novice:26,Intermediate:42,Advanced:61,Elite:83},60:{Beginner:13,Novice:24,Intermediate:38,Advanced:56,Elite:76},65:{Beginner:12,Novice:21,Intermediate:34,Advanced:50,Elite:69},70:{Beginner:11,Novice:19,Intermediate:31,Advanced:45,Elite:62},75:{Beginner:9,Novice:17,Intermediate:28,Advanced:40,Elite:55},80:{Beginner:8,Novice:15,Intermediate:25,Advanced:36,Elite:49},85:{Beginner:8,Novice:14,Intermediate:22,Advanced:32,Elite:44},90:{Beginner:7,Novice:12,Intermediate:20,Advanced:29,Elite:40}},e2={15:{Beginner:55,Novice:80,Intermediate:111,Advanced:147,Elite:187},20:{Beginner:62,Novice:91,Intermediate:127,Advanced:168,Elite:214},25:{Beginner:64,Novice:93,Intermediate:130,Advanced:173,Elite:219},30:{Beginner:64,Novice:93,Intermediate:130,Advanced:173,Elite:219},35:{Beginner:64,Novice:93,Intermediate:130,Advanced:173,Elite:219},40:{Beginner:64,Novice:93,Intermediate:130,Advanced:173,Elite:219},45:{Beginner:61,Novice:89,Intermediate:123,Advanced:164,Elite:208},50:{Beginner:57,Novice:83,Intermediate:116,Advanced:154,Elite:195},55:{Beginner:53,Novice:77,Intermediate:107,Advanced:142,Elite:180},60:{Beginner:48,Novice:70,Intermediate:98,Advanced:130,Elite:165},65:{Beginner:44,Novice:63,Intermediate:88,Advanced:117,Elite:149},70:{Beginner:39,Novice:57,Intermediate:79,Advanced:105,Elite:134},75:{Beginner:35,Novice:51,Intermediate:71,Advanced:94,Elite:119},80:{Beginner:31,Novice:46,Intermediate:63,Advanced:84,Elite:107},85:{Beginner:28,Novice:41,Intermediate:57,Advanced:75,Elite:96},90:{Beginner:25,Novice:37,Intermediate:51,Advanced:68,Elite:86}},t2={15:{Beginner:25,Novice:41,Intermediate:62,Advanced:88,Elite:116},20:{Beginner:29,Novice:47,Intermediate:71,Advanced:100,Elite:132},25:{Beginner:30,Novice:48,Intermediate:73,Advanced:103,Elite:136},30:{Beginner:30,Novice:48,Intermediate:73,Advanced:103,Elite:136},35:{Beginner:30,Novice:48,Intermediate:73,Advanced:103,Elite:136},40:{Beginner:30,Novice:48,Intermediate:73,Advanced:103,Elite:136},45:{Beginner:28,Novice:46,Intermediate:69,Advanced:97,Elite:129},50:{Beginner:26,Novice:43,Intermediate:65,Advanced:92,Elite:121},55:{Beginner:24,Novice:40,Intermediate:60,Advanced:85,Elite:112},60:{Beginner:22,Novice:36,Intermediate:55,Advanced:77,Elite:102},65:{Beginner:20,Novice:33,Intermediate:50,Advanced:70,Elite:92},70:{Beginner:18,Novice:29,Intermediate:44,Advanced:63,Elite:83},75:{Beginner:16,Novice:26,Intermediate:40,Advanced:56,Elite:74},80:{Beginner:14,Novice:24,Intermediate:36,Advanced:50,Elite:66},85:{Beginner:13,Novice:21,Intermediate:32,Advanced:45,Elite:59},90:{Beginner:12,Novice:19,Intermediate:29,Advanced:40,Elite:54}},n2={15:{Beginner:67,Novice:95,Intermediate:130,Advanced:170,Elite:213},20:{Beginner:76,Novice:109,Intermediate:148,Advanced:194,Elite:244},25:{Beginner:78,Novice:112,Intermediate:152,Advanced:200,Elite:250},30:{Beginner:78,Novice:112,Intermediate:152,Advanced:200,Elite:250},35:{Beginner:78,Novice:112,Intermediate:152,Advanced:200,Elite:250},40:{Beginner:78,Novice:112,Intermediate:152,Advanced:200,Elite:250},45:{Beginner:74,Novice:106,Intermediate:145,Advanced:189,Elite:238},50:{Beginner:70,Novice:99,Intermediate:136,Advanced:178,Elite:223},55:{Beginner:65,Novice:92,Intermediate:125,Advanced:164,Elite:206},60:{Beginner:59,Novice:84,Intermediate:115,Advanced:150,Elite:188},65:{Beginner:53,Novice:76,Intermediate:103,Advanced:135,Elite:170},70:{Beginner:48,Novice:68,Intermediate:93,Advanced:122,Elite:153},75:{Beginner:43,Novice:61,Intermediate:83,Advanced:109,Elite:136},80:{Beginner:38,Novice:54,Intermediate:74,Advanced:97,Elite:122},85:{Beginner:34,Novice:49,Intermediate:67,Advanced:87,Elite:109},90:{Beginner:31,Novice:44,Intermediate:60,Advanced:79,Elite:99}},a2={15:{Beginner:32,Novice:51,Intermediate:74,Advanced:102,Elite:133},20:{Beginner:37,Novice:58,Intermediate:85,Advanced:117,Elite:153},25:{Beginner:38,Novice:60,Intermediate:87,Advanced:120,Elite:157},30:{Beginner:38,Novice:60,Intermediate:87,Advanced:120,Elite:157},35:{Beginner:38,Novice:60,Intermediate:87,Advanced:120,Elite:157},40:{Beginner:38,Novice:60,Intermediate:87,Advanced:120,Elite:157},45:{Beginner:36,Novice:57,Intermediate:83,Advanced:114,Elite:149},50:{Beginner:34,Novice:53,Intermediate:78,Advanced:107,Elite:139},55:{Beginner:31,Novice:49,Intermediate:72,Advanced:99,Elite:129},60:{Beginner:29,Novice:45,Intermediate:66,Advanced:90,Elite:118},65:{Beginner:26,Novice:41,Intermediate:59,Advanced:82,Elite:106},70:{Beginner:23,Novice:36,Intermediate:53,Advanced:73,Elite:95},75:{Beginner:21,Novice:33,Intermediate:48,Advanced:66,Elite:85},80:{Beginner:19,Novice:29,Intermediate:43,Advanced:59,Elite:76},85:{Beginner:17,Novice:26,Intermediate:38,Advanced:53,Elite:68},90:{Beginner:15,Novice:23,Intermediate:34,Advanced:47,Elite:62}},l2={15:{Beginner:33,Novice:49,Intermediate:70,Advanced:94,Elite:120},20:{Beginner:37,Novice:56,Intermediate:80,Advanced:107,Elite:138},25:{Beginner:38,Novice:58,Intermediate:82,Advanced:110,Elite:141},30:{Beginner:38,Novice:58,Intermediate:82,Advanced:110,Elite:141},35:{Beginner:38,Novice:58,Intermediate:82,Advanced:110,Elite:141},40:{Beginner:38,Novice:58,Intermediate:82,Advanced:110,Elite:141},45:{Beginner:36,Novice:55,Intermediate:78,Advanced:105,Elite:134},50:{Beginner:34,Novice:51,Intermediate:73,Advanced:98,Elite:126},55:{Beginner:32,Novice:47,Intermediate:67,Advanced:91,Elite:117},60:{Beginner:29,Novice:43,Intermediate:61,Advanced:83,Elite:106},65:{Beginner:26,Novice:39,Intermediate:56,Advanced:75,Elite:96},70:{Beginner:23,Novice:35,Intermediate:50,Advanced:67,Elite:86},75:{Beginner:21,Novice:31,Intermediate:45,Advanced:60,Elite:77},80:{Beginner:19,Novice:28,Intermediate:40,Advanced:54,Elite:69},85:{Beginner:17,Novice:25,Intermediate:36,Advanced:48,Elite:62},90:{Beginner:15,Novice:23,Intermediate:32,Advanced:43,Elite:56}},i2={15:{Beginner:16,Novice:26,Intermediate:39,Advanced:54,Elite:71},20:{Beginner:19,Novice:30,Intermediate:45,Advanced:62,Elite:81},25:{Beginner:19,Novice:31,Intermediate:46,Advanced:64,Elite:83},30:{Beginner:19,Novice:31,Intermediate:46,Advanced:64,Elite:83},35:{Beginner:19,Novice:31,Intermediate:46,Advanced:64,Elite:83},40:{Beginner:19,Novice:31,Intermediate:46,Advanced:64,Elite:83},45:{Beginner:18,Novice:29,Intermediate:43,Advanced:60,Elite:79},50:{Beginner:17,Novice:27,Intermediate:41,Advanced:57,Elite:74},55:{Beginner:16,Novice:25,Intermediate:38,Advanced:52,Elite:69},60:{Beginner:15,Novice:23,Intermediate:34,Advanced:48,Elite:63},65:{Beginner:13,Novice:21,Intermediate:31,Advanced:43,Elite:57},70:{Beginner:12,Novice:19,Intermediate:28,Advanced:39,Elite:51},75:{Beginner:11,Novice:17,Intermediate:25,Advanced:35,Elite:45},80:{Beginner:9,Novice:15,Intermediate:22,Advanced:31,Elite:41},85:{Beginner:8,Novice:13,Intermediate:20,Advanced:28,Elite:36},90:{Beginner:8,Novice:12,Intermediate:18,Advanced:25,Elite:33}},s2={50:{Beginner:15,Novice:25,Intermediate:38,Advanced:53,Elite:71},55:{Beginner:18,Novice:29,Intermediate:42,Advanced:59,Elite:77},60:{Beginner:21,Novice:32,Intermediate:47,Advanced:64,Elite:84},65:{Beginner:24,Novice:36,Intermediate:52,Advanced:70,Elite:90},70:{Beginner:27,Novice:40,Intermediate:56,Advanced:75,Elite:95},75:{Beginner:30,Novice:43,Intermediate:60,Advanced:80,Elite:101},80:{Beginner:33,Novice:47,Intermediate:64,Advanced:84,Elite:106},85:{Beginner:36,Novice:50,Intermediate:68,Advanced:89,Elite:111},90:{Beginner:39,Novice:54,Intermediate:72,Advanced:93,Elite:116},95:{Beginner:41,Novice:57,Intermediate:76,Advanced:97,Elite:121},100:{Beginner:44,Novice:60,Intermediate:79,Advanced:102,Elite:125},105:{Beginner:47,Novice:63,Intermediate:83,Advanced:106,Elite:130},110:{Beginner:49,Novice:66,Intermediate:86,Advanced:109,Elite:134},115:{Beginner:52,Novice:69,Intermediate:90,Advanced:113,Elite:138},120:{Beginner:54,Novice:72,Intermediate:93,Advanced:117,Elite:142},125:{Beginner:57,Novice:75,Intermediate:96,Advanced:120,Elite:146},130:{Beginner:59,Novice:77,Intermediate:99,Advanced:124,Elite:150},135:{Beginner:61,Novice:80,Intermediate:102,Advanced:127,Elite:154},140:{Beginner:64,Novice:83,Intermediate:105,Advanced:131,Elite:157}},r2={15:{Beginner:25,Novice:38,Intermediate:55,Advanced:74,Elite:96},20:{Beginner:29,Novice:44,Intermediate:63,Advanced:85,Elite:109},25:{Beginner:30,Novice:45,Intermediate:64,Advanced:87,Elite:112},30:{Beginner:30,Novice:45,Intermediate:64,Advanced:87,Elite:112},35:{Beginner:30,Novice:45,Intermediate:64,Advanced:87,Elite:112},40:{Beginner:30,Novice:45,Intermediate:64,Advanced:87,Elite:112},45:{Beginner:28,Novice:43,Intermediate:61,Advanced:83,Elite:107},50:{Beginner:27,Novice:40,Intermediate:57,Advanced:78,Elite:100},55:{Beginner:25,Novice:37,Intermediate:53,Advanced:72,Elite:92},60:{Beginner:22,Novice:34,Intermediate:48,Advanced:66,Elite:84},65:{Beginner:20,Novice:31,Intermediate:44,Advanced:59,Elite:76},70:{Beginner:18,Novice:27,Intermediate:39,Advanced:53,Elite:68},75:{Beginner:16,Novice:25,Intermediate:35,Advanced:48,Elite:61},80:{Beginner:15,Novice:22,Intermediate:31,Advanced:43,Elite:55},85:{Beginner:13,Novice:20,Intermediate:28,Advanced:38,Elite:49},90:{Beginner:12,Novice:18,Intermediate:25,Advanced:34,Elite:44}},c2={40:{Beginner:7,Novice:14,Intermediate:23,Advanced:35,Elite:48},45:{Beginner:8,Novice:16,Intermediate:25,Advanced:38,Elite:52},50:{Beginner:10,Novice:17,Intermediate:28,Advanced:40,Elite:55},55:{Beginner:11,Novice:19,Intermediate:30,Advanced:43,Elite:58},60:{Beginner:12,Novice:21,Intermediate:32,Advanced:45,Elite:60},65:{Beginner:13,Novice:22,Intermediate:34,Advanced:48,Elite:63},70:{Beginner:15,Novice:24,Intermediate:35,Advanced:50,Elite:65},75:{Beginner:16,Novice:25,Intermediate:37,Advanced:52,Elite:68},80:{Beginner:17,Novice:26,Intermediate:39,Advanced:54,Elite:70},85:{Beginner:18,Novice:28,Intermediate:40,Advanced:55,Elite:72},90:{Beginner:19,Novice:29,Intermediate:42,Advanced:57,Elite:74},95:{Beginner:20,Novice:30,Intermediate:43,Advanced:59,Elite:76},100:{Beginner:21,Novice:31,Intermediate:45,Advanced:61,Elite:78},105:{Beginner:22,Novice:32,Intermediate:46,Advanced:62,Elite:80},110:{Beginner:23,Novice:34,Intermediate:47,Advanced:64,Elite:81},115:{Beginner:23,Novice:35,Intermediate:49,Advanced:65,Elite:83},120:{Beginner:24,Novice:36,Intermediate:50,Advanced:66,Elite:85}},o2={15:{Beginner:11,Novice:19,Intermediate:29,Advanced:41,Elite:55},20:{Beginner:12,Novice:21,Intermediate:33,Advanced:47,Elite:63},25:{Beginner:13,Novice:22,Intermediate:34,Advanced:48,Elite:65},30:{Beginner:13,Novice:22,Intermediate:34,Advanced:48,Elite:65},35:{Beginner:13,Novice:22,Intermediate:34,Advanced:48,Elite:65},40:{Beginner:13,Novice:22,Intermediate:34,Advanced:48,Elite:65},45:{Beginner:12,Novice:21,Intermediate:32,Advanced:46,Elite:62},50:{Beginner:11,Novice:19,Intermediate:30,Advanced:43,Elite:58},55:{Beginner:11,Novice:18,Intermediate:28,Advanced:40,Elite:53},60:{Beginner:10,Novice:16,Intermediate:25,Advanced:36,Elite:49},65:{Beginner:9,Novice:15,Intermediate:23,Advanced:33,Elite:44},70:{Beginner:8,Novice:13,Intermediate:21,Advanced:30,Elite:40},75:{Beginner:7,Novice:12,Intermediate:18,Advanced:26,Elite:35},80:{Beginner:6,Novice:11,Intermediate:16,Advanced:24,Elite:32},85:{Beginner:6,Novice:10,Intermediate:15,Advanced:21,Elite:28},90:{Beginner:5,Novice:9,Intermediate:13,Advanced:19,Elite:26}},u2={"10-12":{100:26,90:24,80:22,70:20,60:18,50:16,40:14,30:12,20:10,10:8,0:6},"13-17":{100:36,90:34,80:32,70:30,60:28,50:26,40:24,30:22,20:20,10:18,0:16},"18-30":{100:42,90:40,80:38,70:36,60:34,50:32,40:30,30:28,20:26,10:24,0:22},"31-40":{100:40,90:38,80:36,70:34,60:32,50:30,40:28,30:26,20:24,10:22,0:20},"41-50":{100:38,90:36,80:34,70:32,60:30,50:28,40:26,30:24,20:22,10:20,0:18},"51-60":{100:36,90:34,80:32,70:30,60:28,50:26,40:24,30:22,20:20,10:18,0:16},"61-70":{100:34,90:32,80:30,70:28,60:26,50:24,40:22,30:20,20:18,10:16,0:14},"71-80":{100:32,90:30,80:28,70:26,60:24,50:22,40:20,30:18,20:16,10:14,0:12}},d2={"10-12":{100:44,90:42,80:40,70:38,60:36,50:34,40:32,30:30,20:28,10:26,0:24},"13-17":{100:46,90:44,80:42,70:40,60:38,50:36,40:34,30:32,20:30,10:28,0:26},"18-30":{100:48,90:46,80:44,70:42,60:40,50:38,40:36,30:34,20:32,10:30,0:28},"31-40":{100:46,90:44,80:42,70:40,60:38,50:36,40:34,30:32,20:30,10:28,0:26},"41-50":{100:44,90:42,80:40,70:38,60:36,50:34,40:32,30:30,20:28,10:26,0:24},"51-60":{100:42,90:40,80:38,70:36,60:34,50:32,40:30,30:28,20:26,10:24,0:22},"61-70":{100:40,90:38,80:36,70:34,60:32,50:30,40:28,30:26,20:24,10:22,0:20},"71-80":{100:38,90:36,80:34,70:32,60:30,50:28,40:26,30:24,20:22,10:20,0:18}},f2={"10-12":{100:18,90:17,80:16,70:15,60:14,50:13,40:12,30:11,20:10,10:9,0:8},"13-17":{100:24,90:23,80:22,70:21,60:20,50:19,40:18,30:17,20:16,10:15,0:14},"18-30":{100:28,90:27,80:26,70:25,60:24,50:23,40:22,30:21,20:20,10:19,0:18},"31-40":{100:27,90:26,80:25,70:24,60:23,50:22,40:21,30:20,20:19,10:18,0:17},"41-50":{100:26,90:25,80:24,70:23,60:22,50:21,40:20,30:19,20:18,10:17,0:16},"51-60":{100:25,90:24,80:23,70:22,60:21,50:20,40:19,30:18,20:17,10:16,0:15},"61-70":{100:24,90:23,80:22,70:21,60:20,50:19,40:18,30:17,20:16,10:15,0:14},"71-80":{100:22,90:21,80:20,70:19,60:18,50:17,40:16,30:15,20:14,10:13,0:12}},h2={"10-12":{100:38,90:36,80:34,70:32,60:30,50:28,40:26,30:24,20:22,10:20,0:18},"13-17":{100:40,90:38,80:36,70:34,60:32,50:30,40:28,30:26,20:24,10:22,0:20},"18-30":{100:42,90:40,80:38,70:36,60:34,50:32,40:30,30:28,20:26,10:24,0:22},"31-40":{100:40,90:38,80:36,70:34,60:32,50:30,40:28,30:26,20:24,10:22,0:20},"41-50":{100:38,90:36,80:34,70:32,60:30,50:28,40:26,30:24,20:22,10:20,0:18},"51-60":{100:36,90:34,80:32,70:30,60:28,50:26,40:24,30:22,20:20,10:18,0:16},"61-70":{100:34,90:32,80:30,70:28,60:26,50:24,40:22,30:20,20:18,10:16,0:14},"71-80":{100:32,90:30,80:28,70:26,60:24,50:22,40:20,30:18,20:16,10:14,0:12}},m2={"13-14":{100:2700,90:2400,80:2200,70:2100,60:2100},"15-16":{100:2800,90:2500,80:2300,70:2200,60:2200},"17-20":{100:3e3,90:2700,80:2500,70:2300,60:2300},"20-29":{100:2800,90:2400,80:2200,70:1600,60:1600},"30-39":{100:2700,90:2300,80:1900,70:1500,60:1500},"40-49":{100:2500,90:2100,80:1700,70:1400,60:1400},"50+":{100:2400,90:2e3,80:1600,70:1300,60:1300}},g2={"13-14":{100:2e3,90:1900,80:1600,70:1500,60:1500},"15-16":{100:2100,90:2e3,80:1700,70:1600,60:1600},"17-20":{100:2300,90:2100,80:1800,70:1700,60:1700},"20-29":{100:2700,90:2200,80:1800,70:1500,60:1500},"30-39":{100:2500,90:2e3,80:1700,70:1400,60:1400},"40-49":{100:2300,90:1900,80:1500,70:1200,60:1200},"50+":{100:2200,90:1700,80:1400,70:1100,60:1100}},p2={"12-15":{0:25,50:45,100:65},"16-20":{0:35,50:55,100:75},"21-30":{0:30,50:50,100:70},"31-40":{0:25,50:45,100:65},"41-50":{0:20,50:40,100:60},"51-60":{0:15,50:35,100:55},"61-70":{0:10,50:30,100:50},"71-80":{0:5,50:25,100:45}},v2={"12-15":{0:20,50:35,100:50},"16-20":{0:25,50:40,100:55},"21-30":{0:22,50:38,100:52},"31-40":{0:18,50:32,100:46},"41-50":{0:15,50:28,100:42},"51-60":{0:10,50:25,100:40},"61-70":{0:5,50:20,100:35},"71-80":{0:0,50:15,100:30}},x2={"12-15":{0:150,50:200,100:250},"16-20":{0:180,50:230,100:280},"21-30":{0:170,50:220,100:270},"31-40":{0:150,50:200,100:250},"41-50":{0:130,50:180,100:230},"51-60":{0:110,50:160,100:210},"61-70":{0:90,50:140,100:190},"71-80":{0:70,50:120,100:170}},y2={"12-15":{0:120,50:170,100:220},"16-20":{0:140,50:190,100:240},"21-30":{0:130,50:180,100:230},"31-40":{0:115,50:165,100:215},"41-50":{0:100,50:150,100:200},"51-60":{0:80,50:130,100:180},"61-70":{0:60,50:110,100:160},"71-80":{0:40,50:90,100:140}},b2={"12-15":{0:18,50:15,100:12},"16-20":{0:17,50:14,100:11},"21-30":{0:17,50:14,100:11},"31-40":{0:18,50:15,100:12},"41-50":{0:19,50:16,100:13},"51-60":{0:20,50:17,100:14},"61-70":{0:22,50:19,100:16},"71-80":{0:24,50:21,100:18}},S2={"12-15":{0:19,50:16,100:13},"16-20":{0:18,50:15,100:12},"21-30":{0:18,50:15,100:12},"31-40":{0:19,50:16,100:13},"41-50":{0:20,50:17,100:14},"51-60":{0:21,50:18,100:15},"61-70":{0:23,50:20,100:17},"71-80":{0:25,50:22,100:19}};function H0({onComplete:u,clearTestData:i}){var pe,_e,Xe,Qe,dt,at,ft,qt,wt,Y,K,ce,Se,Ae,oe,V,C,X,fe,Ye,Ze,bt,ht,rt,mt,sn,Tt,Vi,Yi,Fi,va,xa,gn,ya,Gn,Xi,_l,Ol,Ia,Vn,Qi,Dl,Ul,Ha,qa,Ml,Ki,rn,ct,St,An,Ga,Zi,Ji,Cl,Yn,Va,jn,Tn,Fn;const{userData:o,setUserData:c}=mn(),d=qn(),{gender:h,height:g,weight:p,age:v}=o,[x,y]=R.useState("exercises"),[N,w]=R.useState({weight:((Xe=(_e=(pe=o.testInputs)==null?void 0:pe.strength)==null?void 0:_e.benchPress)==null?void 0:Xe.weight)||"",reps:((at=(dt=(Qe=o.testInputs)==null?void 0:Qe.strength)==null?void 0:dt.benchPress)==null?void 0:at.reps)||"",max:((wt=(qt=(ft=o.testInputs)==null?void 0:ft.strength)==null?void 0:qt.benchPress)==null?void 0:wt.max)||null,score:((ce=(K=(Y=o.testInputs)==null?void 0:Y.strength)==null?void 0:K.benchPress)==null?void 0:ce.score)||null}),[A,D]=R.useState({weight:((oe=(Ae=(Se=o.testInputs)==null?void 0:Se.strength)==null?void 0:Ae.squat)==null?void 0:oe.weight)||"",reps:((X=(C=(V=o.testInputs)==null?void 0:V.strength)==null?void 0:C.squat)==null?void 0:X.reps)||"",max:((Ze=(Ye=(fe=o.testInputs)==null?void 0:fe.strength)==null?void 0:Ye.squat)==null?void 0:Ze.max)||null,score:((rt=(ht=(bt=o.testInputs)==null?void 0:bt.strength)==null?void 0:ht.squat)==null?void 0:rt.score)||null}),[L,te]=R.useState({weight:((Tt=(sn=(mt=o.testInputs)==null?void 0:mt.strength)==null?void 0:sn.deadlift)==null?void 0:Tt.weight)||"",reps:((Fi=(Yi=(Vi=o.testInputs)==null?void 0:Vi.strength)==null?void 0:Yi.deadlift)==null?void 0:Fi.reps)||"",max:((gn=(xa=(va=o.testInputs)==null?void 0:va.strength)==null?void 0:xa.deadlift)==null?void 0:gn.max)||null,score:((Xi=(Gn=(ya=o.testInputs)==null?void 0:ya.strength)==null?void 0:Gn.deadlift)==null?void 0:Xi.score)||null}),[q,Q]=R.useState({weight:((Ia=(Ol=(_l=o.testInputs)==null?void 0:_l.strength)==null?void 0:Ol.latPulldown)==null?void 0:Ia.weight)||"",reps:((Dl=(Qi=(Vn=o.testInputs)==null?void 0:Vn.strength)==null?void 0:Qi.latPulldown)==null?void 0:Dl.reps)||"",max:((qa=(Ha=(Ul=o.testInputs)==null?void 0:Ul.strength)==null?void 0:Ha.latPulldown)==null?void 0:qa.max)||null,score:((rn=(Ki=(Ml=o.testInputs)==null?void 0:Ml.strength)==null?void 0:Ki.latPulldown)==null?void 0:rn.score)||null}),[k,J]=R.useState({weight:((An=(St=(ct=o.testInputs)==null?void 0:ct.strength)==null?void 0:St.shoulderPress)==null?void 0:An.weight)||"",reps:((Ji=(Zi=(Ga=o.testInputs)==null?void 0:Ga.strength)==null?void 0:Zi.shoulderPress)==null?void 0:Ji.reps)||"",max:((Va=(Yn=(Cl=o.testInputs)==null?void 0:Cl.strength)==null?void 0:Yn.shoulderPress)==null?void 0:Va.max)||null,score:((Fn=(Tn=(jn=o.testInputs)==null?void 0:jn.strength)==null?void 0:Tn.shoulderPress)==null?void 0:Fn.score)||null}),[H,U]=R.useState(!1),$=R.useRef(null),Z=R.useCallback(ie=>{const ve=()=>{var et,Ut;const Ce=((et=o.testInputs)==null?void 0:et.strength)||{},Rt=((Ut=ie.testInputs)==null?void 0:Ut.strength)||{};JSON.stringify(Ce)!==JSON.stringify(Rt)?(console.log("💾 測試輸入變化，更新用戶數據"),c(ie)):console.log("⏭️ 測試輸入無變化，跳過更新")};$.current&&clearTimeout($.current),$.current=setTimeout(ve,3e3)},[c,o.testInputs]);R.useEffect(()=>{const ie={...o.testInputs,strength:{benchPress:{weight:N.weight,reps:N.reps,max:N.max,score:N.score},squat:{weight:A.weight,reps:A.reps,max:A.max,score:A.score},deadlift:{weight:L.weight,reps:L.reps,max:L.max,score:L.score},latPulldown:{weight:q.weight,reps:q.reps,max:q.max,score:q.score},shoulderPress:{weight:k.weight,reps:k.reps,max:k.max,score:k.score}}},ve={...o,testInputs:ie};return Z(ve),()=>{$.current&&clearTimeout($.current)}},[N,A,L,q,k,o,Z]);const ne=(ie,ve)=>{const{Beginner:Ce,Novice:Rt,Intermediate:ke,Advanced:et,Elite:Ut}=ve;return ie<Ce?0:ie>=Ut?100:ie>=et?80+20*(ie-et)/(Ut-et):ie>=ke?60+20*(ie-ke)/(et-ke):ie>=Rt?40+20*(ie-Rt)/(ke-Rt):ie>=Ce?20+20*(ie-Ce)/(Rt-Ce):0},ae=R.useMemo(()=>{const ie=h==="male"||h==="男性";return{benchPress:{bodyweight:ie?Yv:Fv,age:ie?Wv:Pv},squat:{bodyweight:ie?Xv:Qv,age:ie?e2:t2},deadlift:{bodyweight:ie?Kv:Zv,age:ie?n2:a2},latPulldown:{bodyweight:ie?Jv:$v,age:ie?l2:i2},shoulderPress:{bodyweight:ie?s2:c2,age:ie?r2:o2}}},[h]),F=R.useCallback((ie,ve,Ce,Rt)=>{if(!ie||!ve)return alert("請輸入重量和次數！");const ke=parseFloat(ie),et=parseFloat(ve),Ut=parseFloat(o.weight),cn=parseFloat(v);if(!Ut||!cn)return alert("請確保已輸入有效的體重和年齡！");if(et>12){alert("可完成次數不得超過12次，請重新輸入！"),Ce(Jt=>({...Jt,reps:""}));return}const Xn=ke/(1.0278-.0278*et),Mt=ae[Rt],pn=Object.keys(Mt.bodyweight).map(Number),Ya=Object.keys(Mt.age).map(Number),on=pn.reduce((Jt,gt)=>Math.abs(gt-Ut)<Math.abs(Jt-Ut)?gt:Jt),zl=Ya.reduce((Jt,gt)=>Math.abs(gt-cn)<Math.abs(Jt-cn)?gt:Jt),$i=Mt.bodyweight[on],Qn=Mt.age[zl],Ll=ne(Xn,$i),kl=ne(Xn,Qn),pr=((Ll+kl)/2).toFixed(1);Ce(Jt=>({...Jt,max:Xn.toFixed(1),score:pr}))},[ae,o.weight,v]);R.useEffect(()=>{h&&o.weight&&v&&[{key:"benchPress",state:N,setState:w},{key:"squat",state:A,setState:D},{key:"deadlift",state:L,setState:te},{key:"latPulldown",state:q,setState:Q},{key:"shoulderPress",state:k,setState:J}].forEach(({key:ve,state:Ce,setState:Rt})=>{Ce.weight&&Ce.reps&&!Ce.score&&F(Ce.weight,Ce.reps,Rt,ve)})},[h,o.weight,v,N,A,L,q,k,F]);const he=(ie,ve)=>{const Ce=ve==="男性"||ve.toLowerCase()==="male"?"male":"female";return ie>=90?Ce==="male"?"頂尖表現！你已達建力、舉重專項運動員水平！接受掌聲吧！":"我願稱你為神力女超人!":ie>=80?Ce==="male"?"萬里挑一！你已達到職業運動員水平，繼續稱霸！":"太驚艷了！你應該是朋友圈裡最強的吧？超棒的！":ie>=70?Ce==="male"?"超越常人！許多國手的力量指標也落在這，相當厲害!":"真的很傑出！表現超棒，繼續保持哦！":ie>=60?Ce==="male"?"很強！業餘運動愛好者中的佼佼者，再拼一把！":"表現超棒！超越大多數人，你很厲害！":ie>=50?Ce==="male"?"不錯的水準！訓練痕跡肉眼可見！":"很棒的水準！再努力一點，你會更好！":ie>=40?Ce==="male"?"已經有基礎了，繼續進步，一切大有可為!":"有規律良好的運動習慣了!再接再厲":Ce==="male"?"兄弟，該衝了！全力以赴，突破自己！":"親愛的，還有進步空間，繼續加油哦！"},P=R.useMemo(()=>[{name:"臥推",value:parseFloat(N.score)||0},{name:"深蹲",value:parseFloat(A.score)||0},{name:"硬舉",value:parseFloat(L.score)||0},{name:"滑輪下拉",value:parseFloat(q.score)||0},{name:"站姿肩推",value:parseFloat(k.score)||0}],[N.score,A.score,L.score,q.score,k.score]),le=[N.score,A.score,L.score,q.score,k.score].filter(ie=>ie!==null),W=le.length>0?(le.reduce((ie,ve)=>ie+parseFloat(ve),0)/le.length).toFixed(1):null,S=async()=>{if(!W)return alert("請至少完成一項評測！");try{const ie={...o.scores,strength:parseFloat(W)};await c(Ce=>({...Ce,scores:ie}));const ve={squat:A.max?{weight:A.weight,reps:A.reps,max:A.max,score:A.score}:null,benchPress:N.max?{weight:N.weight,reps:N.reps,max:N.max,score:N.score}:null,deadlift:L.max?{weight:L.weight,reps:L.reps,max:L.max,score:L.score}:null,latPulldown:q.max?{weight:q.weight,reps:q.reps,max:q.max,score:q.score}:null,shoulderPress:k.max?{weight:k.weight,reps:k.reps,max:k.max,score:k.score}:null,averageScore:parseFloat(W)};u&&u(ve),setTimeout(()=>{d("/user-info",{state:{from:"/strength"}})},500)}catch(ie){console.error("提交失敗:",ie),alert("更新用戶數據或導航失敗，請稍後再試！")}},G=[{range:"90~100",description:"專業舉重、健力專項運動員、大力士水平，如魔山、輪子哥、阿諾、John Cena"},{range:"80~90",description:"職業運動員水平；職業格鬥、橄欖球運動員，如巨石強森、GSP(UFC次中量級世界冠軍)"},{range:"70~80",description:"國手水平、球類運動員，如大谷翔平、LBJ、傑森史塔森"},{range:"60~70",description:"業餘運動愛好者中的高手，如休傑克曼、克里斯漢斯沃、亨利卡維爾"},{range:"50~60",description:"中階運動愛好者"},{range:"40~50",description:"開始步入軌道"},{range:"40分以下",description:"初學者"}],ee=[{level:"初階-運動習慣培養中",score:20,color:"#FF6B6B"},{level:"入門-業餘運動愛好者",score:40,color:"#FFA726"},{level:"中等-訓練痕跡肉眼可見",score:60,color:"#FFEE58"},{level:"高階-職業運動員等級",score:80,color:"#66BB6A"},{level:"精英-舉重、健力運動員",score:100,color:"#42A5F5"}],ye=[{key:"benchPress",name:"平板臥推",state:N,setState:w},{key:"squat",name:"深蹲",state:A,setState:D},{key:"deadlift",name:"硬舉",state:L,setState:te},{key:"latPulldown",name:"滑輪下拉",state:q,setState:Q},{key:"shoulderPress",name:"站姿肩推",state:k,setState:J}],[Ee,me]=R.useState(new Set),de=ie=>{const{key:ve,name:Ce,icon:Rt,state:ke,setState:et}=ie,Ut=ke.score!==null,cn=Ee.has(ve),Xn=()=>{const Mt=new Set(Ee);cn?Mt.delete(ve):Mt.add(ve),me(Mt)};return s.jsxs("div",{className:`exercise-card ${Ut?"completed":""}`,children:[s.jsxs("div",{className:"exercise-header",onClick:Xn,children:[s.jsxs("div",{className:"exercise-header-left",children:[s.jsx("span",{className:"exercise-icon",children:Rt}),s.jsx("h3",{className:"exercise-name",children:Ce})]}),s.jsxs("div",{className:"exercise-header-right",children:[Ut&&s.jsx("span",{className:"score-badge",children:ke.score}),s.jsx("span",{className:`expand-arrow ${cn?"expanded":""}`,children:cn?"▲":"▼"})]})]}),cn&&s.jsxs("div",{className:"exercise-content",children:[s.jsxs("div",{className:"exercise-inputs",children:[s.jsxs("div",{className:"input-group",children:[s.jsx("label",{htmlFor:`${ve}Weight`,children:"重量 (kg)"}),s.jsx("input",{id:`${ve}Weight`,type:"number",placeholder:"重量",value:ke.weight,onChange:Mt=>et(pn=>({...pn,weight:Mt.target.value})),className:"input-field"})]}),s.jsxs("div",{className:"input-group",children:[s.jsx("label",{htmlFor:`${ve}Reps`,children:"次數"}),s.jsx("input",{id:`${ve}Reps`,type:"number",placeholder:"次數",value:ke.reps,onChange:Mt=>et(pn=>({...pn,reps:Mt.target.value})),className:"input-field"})]}),s.jsx("button",{onClick:()=>F(ke.weight,ke.reps,et,ve),className:"calculate-btn",disabled:!ke.weight||!ke.reps,children:"計算"})]}),ke.max&&s.jsxs("div",{className:"exercise-result",children:[s.jsxs("p",{className:"max-strength",children:["最大力量: ",ke.max," kg"]}),ke.score&&s.jsxs("p",{className:"score-display",children:["分數: ",ke.score]})]})]})]},ve)};return s.jsxs("div",{className:"strength-container",children:[s.jsxs("div",{className:"strength-header",children:[s.jsx("h1",{className:"strength-title",children:"💪 力量評測"}),s.jsx("p",{className:"strength-safety-note",children:"挑戰重量時記得綁上腰帶和手套，注意安全喔"})]}),s.jsxs("div",{className:"tab-navigation",children:[s.jsx("button",{className:`tab-btn ${x==="exercises"?"active":""}`,onClick:()=>y("exercises"),children:"🏋️ 評測項目"}),s.jsx("button",{className:`tab-btn ${x==="standards"?"active":""}`,onClick:()=>y("standards"),children:"📋 評測標準"})]}),x==="exercises"&&s.jsxs("div",{className:"exercises-tab",children:[s.jsx("div",{className:"exercises-grid",children:ye.map(de)}),W&&s.jsxs("div",{className:"results-section",children:[s.jsxs("div",{className:"radar-chart-card",children:[s.jsx("div",{className:"corner-decoration top-left"}),s.jsx("div",{className:"corner-decoration top-right"}),s.jsx("div",{className:"corner-decoration bottom-left"}),s.jsx("div",{className:"corner-decoration bottom-right"}),s.jsx("h3",{children:"📈 力量分佈圖"}),s.jsx(ur,{width:"100%",height:300,children:s.jsxs(c0,{data:P,children:[s.jsx(o0,{gridType:"polygon",stroke:"rgba(129, 216, 208, 0.25)",strokeWidth:2,strokeDasharray:"4 4"}),s.jsx(u0,{dataKey:"name",tick:{fontSize:13,fill:"#2d3748",fontWeight:700}}),s.jsx(d0,{angle:90,domain:[0,100],tick:{fontSize:12,fill:"#2d3748",fontWeight:600}}),s.jsx(f0,{name:"分數",dataKey:"value",stroke:"#81D8D0",fill:"url(#strengthTiffanyGradient)",fillOpacity:.8,strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("defs",{children:s.jsxs("linearGradient",{id:"strengthTiffanyGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[s.jsx("stop",{offset:"0%",stopColor:"#81D8D0",stopOpacity:.9}),s.jsx("stop",{offset:"50%",stopColor:"#5F9EA0",stopOpacity:.7}),s.jsx("stop",{offset:"100%",stopColor:"#81D8D0",stopOpacity:.6})]})})]})})]}),s.jsxs("div",{className:"score-breakdown-card",children:[s.jsx("h3",{children:"📊 分數詳情"}),s.jsx("div",{className:"score-breakdown",children:ye.map(ie=>s.jsxs("div",{className:"score-item",children:[s.jsx("span",{className:"score-label",children:ie.name}),s.jsx("span",{className:"score-value",children:ie.state.score||"未測試"})]},ie.key))}),s.jsxs("div",{className:"average-score-display",children:[s.jsxs("p",{className:"average-score",children:["平均分數: ",W]}),s.jsx("p",{className:"average-comment",children:he(W,h)})]})]})]})]}),x==="standards"&&s.jsxs("div",{className:"standards-tab",children:[s.jsxs("div",{className:"standards-content",children:[s.jsx("p",{children:"我們的評測標準基於 Strength Level 用戶提供的超過 1.34 億次舉重數據，涵蓋男女標準，適用於臥推、深蹲、硬舉、肩推等多項健身動作。"}),s.jsxs("p",{className:"source-link",children:["來源：",s.jsx("a",{href:"https://strengthlevel.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"https://strengthlevel.com/"})]})]}),s.jsxs("div",{className:"score-levels-table",children:[s.jsx("h3",{children:"分數等級"}),s.jsx("div",{className:"levels-container",children:ee.map((ie,ve)=>s.jsxs("div",{className:"level-item",children:[s.jsxs("div",{className:"level-header",children:[s.jsx("span",{className:"level-name",children:ie.level}),s.jsx("span",{className:"level-score",children:ie.score})]}),s.jsx("div",{className:"level-bar-container",children:s.jsx("div",{className:"level-bar",style:{width:`${ie.score}%`,background:`linear-gradient(to right, ${ie.color}dd, ${ie.color})`}})})]},ve))})]}),s.jsxs("div",{className:"score-table",children:[s.jsx("h3",{children:"分數說明"}),s.jsxs("table",{className:"table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"分數範圍"}),s.jsx("th",{children:"說明"})]})}),s.jsx("tbody",{children:G.map((ie,ve)=>s.jsxs("tr",{children:[s.jsx("td",{children:ie.range}),s.jsx("td",{children:ie.description})]},ve))})]})]})]}),s.jsx("div",{className:"submit-section",children:s.jsx("button",{onClick:S,className:"submit-btn",disabled:!W,children:W?"✅ 提交並返回總覽":"請至少完成一項評測"})})]})}H0.propTypes={onComplete:Re.func,clearTestData:Re.func};function q0({onComplete:u,clearTestData:i}){var k,J;const{userData:o,setUserData:c,saveUserData:d}=mn(),h=qn(),{age:g,gender:p}=o,[v,x]=R.useState(((J=(k=o.testInputs)==null?void 0:k.cardio)==null?void 0:J.distance)||""),[y,N]=R.useState(null),[w,A]=R.useState(!1);R.useEffect(()=>{var H;if(v){const U={...o.testInputs,cardio:{...(H=o.testInputs)==null?void 0:H.cardio,distance:v}};c($=>({...$,testInputs:U}))}},[v]);const D=H=>{if(!H)return null;const U=parseInt(H);return U>=13&&U<=14?"13-14":U>=15&&U<=16?"15-16":U>=17&&U<=20?"17-20":U>=20&&U<=29?"20-29":U>=30&&U<=39?"30-39":U>=40&&U<=49?"40-49":U>=50?"50+":null},L=(H,U)=>{const $=U[60],Z=U[100];return H<=0?0:H<=$?Math.round(H/$*60*10)/10:H>=Z?100:Math.round((60+(H-$)/(Z-$)*40)*10)/10},te=(H,U)=>{const $=U==="男性"||U.toLowerCase()==="male"?"male":"female",Z=Math.floor(H/10)*10;return{male:{0:"兄弟，該動起來了！全力衝刺吧！",10:"還不夠熱血！再加把勁，衝上去！",20:"起步了！再加速，展現你的實力！",30:"進步中！再拼一點，突破極限吧！",40:"不錯！再猛一點，超越自己！",50:"很棒了！再衝刺，成為王者吧！",60:"強者氣勢！再加速，稱霸全場！",70:"超強！熱血沸騰，繼續衝刺！",80:"頂尖表現！再拼，成為傳說！",90:"無敵了！你是真正的王者，保持！",100:"無敵了！你是真正的王者，保持！"},female:{0:"親愛的，別氣餒，慢慢進步哦！",10:"再努力一點，你會更好的，加油！",20:"小進步了！繼續加油，你很棒！",30:"進步了呢！再努力一點，會更好哦！",40:"很棒了！再加把勁，你會更棒的！",50:"表現很好！再努力一點，超棒的！",60:"好厲害！繼續保持，你很棒哦！",70:"真的很棒！保持下去，你最棒了！",80:"太厲害了！繼續努力，你超棒的！",90:"完美表現！超棒的你，繼續保持！",100:"完美表現！超棒的你，繼續保持！"}}[$][Z]||"加油！"},q=()=>{if(!v||!g||!p){alert("請確保已在用戶信息中輸入年齡和性別，並在此輸入跑步距離！");return}const H=parseFloat(v),U=D(g);if(!H||!U){alert("請輸入有效的跑步距離和年齡！");return}const ne=((p==="男性"||p.toLowerCase()==="male"?"male":"female")==="male"?m2:g2)[U];if(!ne){alert("無法找到對應的評測標準，請檢查年齡和性別！");return}const ae=L(H,ne);N(ae),console.log("Cardio.js - 計算心肺耐力分數:",ae,"距離:",H,"年齡段:",U)},Q=async()=>{if(!y){alert("請先計算心肺耐力分數！");return}const H=sessionStorage.getItem("guestMode")==="true";try{const U={...o.scores,cardio:parseFloat(y)},$={...o,scores:U};if(c($),!H&&!await d($))throw new Error("保存數據失敗");const Z={distance:parseFloat(v),score:parseFloat(y)};u&&typeof u=="function"&&u(Z),setTimeout(()=>{h("/user-info",{state:{from:"/cardio"}})},100)}catch(U){console.error("提交失敗:",U),H||alert("更新用戶數據失敗，請稍後再試！"),setTimeout(()=>{h("/user-info",{state:{from:"/cardio"}})},100)}};return s.jsxs("div",{className:"cardio-container",children:[s.jsxs("div",{className:"input-section",children:[s.jsx("h1",{className:"text-2xl font-bold text-center mb-4",children:"心肺耐力測試"}),s.jsxs("p",{children:["年齡：",g||"未輸入"]}),s.jsxs("p",{children:["性別：",p||"未選擇"]}),s.jsxs("div",{className:"exercise-section",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Cooper 12 分鐘跑步測試"}),s.jsx("label",{htmlFor:"distance",className:"block text-sm font-medium text-gray-700",children:"跑步距離 (公尺)"}),s.jsx("input",{id:"distance",name:"distance",type:"number",placeholder:"跑步距離 (公尺)",value:v,onChange:H=>x(H.target.value),className:"input-field",required:!0}),s.jsx("button",{onClick:q,className:"calculate-btn",children:"計算"}),y!==null&&s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"score-display",children:["心肺耐力分數: ",y]}),s.jsx("p",{className:"score-display",children:te(y,p)})]})]}),s.jsx("div",{className:"description-section",children:s.jsxs("div",{className:"description-card",children:[s.jsxs("div",{className:"description-header",onClick:()=>A(!w),children:[s.jsx("h2",{className:"text-lg font-semibold",children:"動作說明"}),s.jsx("span",{className:`arrow ${w?"expanded":""}`,children:w?"▲":"▼"})]}),w&&s.jsxs("div",{className:"description-content",children:[s.jsx("p",{className:"font-semibold",children:"Cooper Test 簡介"}),s.jsx("p",{children:"傳統心肺耐力測試需在實驗室以極限強度測量最大攝氧量（VO₂ Max），但難以普及。Kenneth H. Cooper 博士發現 12 分鐘跑步距離與 VO₂ Max 高度相關，於 1968 年設計 Cooper Test，廣泛應用於美軍體測，簡化測量並提升效率。測試以年齡、性別和跑步距離估算 VO₂ Max。"}),s.jsx("p",{className:"font-semibold mt-2",children:"測量方式"}),s.jsxs("ul",{className:"list-disc pl-5",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"地點"}),"：選擇田徑場或安全跑步環境，方便記錄距離和配速。"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"記錄"}),"：用圈數或運動手錶記錄 12 分鐘跑步距離。"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"熱身"}),"：跑前動態熱身 10-15 分鐘，避免受傷。"]})]}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"本 Cooper 測試標準表可在 Cooper Test Chart 找到，由 Carl Magnus Swahn 設計。"})]})]})})]}),s.jsx("div",{className:"button-group",children:s.jsx("button",{onClick:Q,className:"submit-btn",children:"提交並返回總覽"})})]})}q0.propTypes={onComplete:Re.func,clearTestData:Re.func};function G0({onComplete:u,clearTestData:i}){var ne,ae,F,he,P,le;const{userData:o,setUserData:c,saveUserData:d}=mn(),h=qn(),{age:g,gender:p}=o,[v,x]=R.useState(((ae=(ne=o.testInputs)==null?void 0:ne.power)==null?void 0:ae.verticalJump)||""),[y,N]=R.useState(((he=(F=o.testInputs)==null?void 0:F.power)==null?void 0:he.standingLongJump)||""),[w,A]=R.useState(((le=(P=o.testInputs)==null?void 0:P.power)==null?void 0:le.sprint)||""),[D,L]=R.useState({verticalJumpScore:null,standingLongJumpScore:null,sprintScore:null,finalScore:null}),[te,q]=R.useState(!1),[Q,k]=R.useState(!1);R.useEffect(()=>{const W={...o.testInputs,power:{verticalJump:v,standingLongJump:y,sprint:w}};c(S=>({...S,testInputs:W}))},[v,y,w]);const J=W=>{if(!W)return null;const S=parseInt(W);return S>=12&&S<=15?"12-15":S>=16&&S<=20?"16-20":S>=21&&S<=30?"21-30":S>=31&&S<=40?"31-40":S>=41&&S<=50?"41-50":S>=51&&S<=60?"51-60":S>=61&&S<=70?"61-70":S>=71&&S<=80?"71-80":null},H=(W,S)=>W<S[0]?0:W>=S[100]?100:W<S[50]?(W-S[0])/(S[50]-S[0])*50:50+(W-S[50])/(S[100]-S[50])*50,U=(W,S)=>W>S[0]?0:W<=S[100]?100:W>S[50]?(S[0]-W)/(S[0]-S[50])*50:50+(S[50]-W)/(S[50]-S[100])*50,$=()=>{if(!g||!p){alert("請確保已在用戶信息中輸入年齡和性別！");return}if(!v&&!y&&!w){alert("請至少輸入一項動作數據！");return}const W=J(g);if(!W){alert("請輸入有效的年齡！");return}const S=p==="男性"||p.toLowerCase()==="male"?"male":"female",G=S==="male"?p2:v2,ee=S==="male"?x2:y2,ye=S==="male"?b2:S2,Ee=G[W],me=ee[W],de=ye[W];if(!Ee||!me||!de){alert("無法找到對應的評測標準，請檢查年齡和性別！");return}const pe=v?parseFloat(v):null,_e=y?parseFloat(y):null,Xe=w?parseFloat(w):null,Qe=pe!==null?H(pe,Ee):null,dt=_e!==null?H(_e,me):null,at=Xe!==null?U(Xe,de):null,ft=[Qe,dt,at].filter(wt=>wt!==null);if(ft.length===0){alert("請至少完成一項動作的測量！");return}const qt=(ft.reduce((wt,Y)=>wt+Y,0)/ft.length).toFixed(1);L({verticalJumpScore:Qe!==null?Qe.toFixed(1):null,standingLongJumpScore:dt!==null?dt.toFixed(1):null,sprintScore:at!==null?at.toFixed(1):null,finalScore:qt})},Z=async()=>{if(!D.finalScore){alert("請先計算爆發力分數！");return}const W=sessionStorage.getItem("guestMode")==="true";try{const S={...o.scores,explosivePower:parseFloat(D.finalScore)},G={...o,scores:S};if(c(G),!W&&!await d(G))throw new Error("保存數據失敗");const ee={verticalJump:v||null,standingLongJump:y||null,sprint:w||null,finalScore:D.finalScore};u&&typeof u=="function"&&u(ee),setTimeout(()=>{h("/user-info",{state:{from:"/explosive-power"}})},100)}catch(S){console.error("Power.js - 更新 UserContext 或導航失敗:",S),W||alert("更新用戶數據失敗，請稍後再試！"),setTimeout(()=>{h("/user-info",{state:{from:"/explosive-power"}})},100)}};return s.jsxs("div",{className:"power-container",children:[s.jsxs("div",{className:"input-section",children:[s.jsx("h1",{className:"text-2xl font-bold text-center mb-4",children:"爆發力測試"}),s.jsxs("p",{children:["年齡：",g||"未輸入"]}),s.jsxs("p",{children:["性別：",p||"未選擇"]}),s.jsxs("div",{className:"exercise-section",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"爆發力動作"}),s.jsx("label",{htmlFor:"verticalJump",className:"block text-sm font-medium text-gray-700",children:"垂直彈跳 (公分)"}),s.jsx("input",{id:"verticalJump",name:"verticalJump",type:"number",placeholder:"垂直彈跳 (公分)",value:v,onChange:W=>x(W.target.value),className:"input-field"}),s.jsx("label",{htmlFor:"standingLongJump",className:"block text-sm font-medium text-gray-700",children:"立定跳遠 (公分)"}),s.jsx("input",{id:"standingLongJump",name:"standingLongJump",type:"number",placeholder:"立定跳遠 (公分)",value:y,onChange:W=>N(W.target.value),className:"input-field"}),s.jsx("label",{htmlFor:"sprint",className:"block text-sm font-medium text-gray-700",children:"100公尺衝刺跑 (秒)"}),s.jsx("input",{id:"sprint",name:"sprint",type:"number",placeholder:"100公尺衝刺跑 (秒)",value:w,onChange:W=>A(W.target.value),className:"input-field"}),s.jsx("button",{onClick:$,className:"calculate-btn",children:"計算"}),D.finalScore&&s.jsxs(s.Fragment,{children:[D.verticalJumpScore&&s.jsxs("p",{className:"score-display",children:["垂直彈跳分數: ",D.verticalJumpScore]}),D.standingLongJumpScore&&s.jsxs("p",{className:"score-display",children:["立定跳遠分數: ",D.standingLongJumpScore]}),D.sprintScore&&s.jsxs("p",{className:"score-display",children:["100公尺衝刺跑分數: ",D.sprintScore]}),s.jsxs("p",{className:"score-display",children:["最終分數: ",D.finalScore]})]})]}),s.jsxs("div",{className:"description-section",children:[s.jsxs("div",{className:"description-card",children:[s.jsxs("div",{className:"description-header",onClick:()=>q(!te),children:[s.jsx("h2",{className:"text-lg font-semibold",children:"動作說明"}),s.jsx("span",{className:`arrow ${te?"expanded":""}`,children:te?"▲":"▼"})]}),te&&s.jsxs("div",{className:"description-content",children:[s.jsx("p",{className:"exercise-title",children:"垂直彈跳"}),s.jsx("p",{className:"exercise-description",children:"測量垂直跳躍高度，反映下肢爆發力。站立時伸手觸及最高點，然後全力跳起觸及最高點，兩者高度差即為垂直彈跳高度（單位：公分）。"}),s.jsx("p",{className:"exercise-title mt-2",children:"立定跳遠"}),s.jsx("p",{className:"exercise-description",children:"測量站立跳躍距離，反映下肢力量和協調性。雙腳站立於起跳線，無助跑直接跳出，測量起跳線(腳尖)到著地點(腳跟)最近處的距離（單位：公分）。"}),s.jsx("p",{className:"exercise-title mt-2",children:"100公尺衝刺跑"}),s.jsx("p",{className:"exercise-description",children:"測量短距離衝刺速度，反映全身爆發力和速度。從靜止起跑，盡全力衝刺100公尺，記錄完成時間（單位：秒）。"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"建議：測量前充分熱身，避免受傷。使用專業設備或在標準場地進行測量以確保準確性。"})]})]}),s.jsxs("div",{className:"standards-card",children:[s.jsxs("div",{className:"standards-header",onClick:()=>k(!Q),children:[s.jsx("h2",{className:"text-lg font-semibold",children:"檢測標準說明"}),s.jsx("span",{className:`arrow ${Q?"expanded":""}`,children:Q?"▲":"▼"})]}),Q&&s.jsxs("div",{className:"standards-content",children:[s.jsx("p",{className:"font-semibold",children:"來源："}),s.jsx("p",{children:"參考教育部體育署體適能網站、美國運動醫學會（ACSM）、世界田徑協會及全國中等學校運動會田徑標準。"}),s.jsx("p",{className:"font-semibold mt-2",children:"依據："}),s.jsxs("ul",{className:"list-disc pl-5",children:[s.jsx("li",{children:"原地垂直彈跳：ACSM標準與青少年數據。"}),s.jsx("li",{children:"立定跳遠：教育部常模與ACSM衰退研究。"}),s.jsx("li",{children:"100公尺衝刺跑：世界田徑與全國運動會標準。"})]}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"本測驗包含推測值：12-80歲全齡數據不全，依ACSM每10年下降10-15%、性別差異70-90%推估。"})]})]})]})]}),s.jsx("div",{className:"button-group",children:s.jsx("button",{onClick:Z,className:"submit-btn",children:"提交並返回總覽"})})]})}G0.propTypes={onComplete:Re.func,clearTestData:Re.func};function V0({onComplete:u,clearTestData:i}){var k,J;const{userData:o,setUserData:c,saveUserData:d}=mn(),h=qn(),{weight:g,age:p,gender:v}=o,[x,y]=R.useState(((J=(k=o.testInputs)==null?void 0:k.muscle)==null?void 0:J.smm)||""),[N,w]=R.useState({smmScore:null,smPercent:null,smPercentScore:null,finalScore:null});R.useEffect(()=>{var H;if(x){const U={...o.testInputs,muscle:{...(H=o.testInputs)==null?void 0:H.muscle,smm:x}};c($=>({...$,testInputs:U}))}},[x]);const A=H=>{if(!H)return null;const U=parseInt(H);return U>=10&&U<=12?"10-12":U>=13&&U<=17?"13-17":U>=18&&U<=30?"18-30":U>=31&&U<=40?"31-40":U>=41&&U<=50?"41-50":U>=51&&U<=60?"51-60":U>=61&&U<=70?"61-70":U>=71&&U<=80?"71-80":null},D=(H,U,$)=>{if(H>=U[100])return 100;if(H<=U[0])return 0;let Z=0,ne=100;for(let P=10;P<=100;P+=10)if(H<U[P]){ne=P,Z=P-10;break}const ae=U[Z],F=U[ne];if(F===ae)return ne;const he=Z+(H-ae)/(F-ae)*(ne-Z);return Math.round(he*10)/10},L=()=>{if(!g||!x||!p||!v){alert("請確保已在用戶信息中輸入體重、年齡和性別，並在此輸入骨骼肌肉量！");return}const H=parseFloat(g),U=parseFloat(x),$=A(p);if(!H||!U||!$){alert("請輸入有效的體重、骨骼肌肉量和年齡！");return}const Z=(U/H*100).toFixed(1),ne=v==="男性"||v.toLowerCase()==="male"?"male":"female",ae=ne==="male"?u2:f2,F=ne==="male"?d2:h2,he=ae[$],P=F[$];if(!he||!P){alert("無法找到對應的評測標準，請檢查年齡和性別！");return}const le=D(U,he),W=D(parseFloat(Z),P),S=((le+W)/2).toFixed(1);w({smmScore:le,smPercent:Z,smPercentScore:W,finalScore:S})},te=async()=>{if(!N.finalScore){alert("請先計算骨骼肌肉量分數！");return}const H=sessionStorage.getItem("guestMode")==="true";try{const U={...o.scores,muscleMass:parseFloat(N.finalScore)},$={...o,scores:U};if(c($),!H&&!await d($))throw new Error("保存數據失敗");const Z={smm:parseFloat(x),smPercent:parseFloat(N.smPercent),finalScore:parseFloat(N.finalScore)};u&&typeof u=="function"&&u(Z),setTimeout(()=>{h("/user-info",{state:{from:"/muscle-mass"}})},100)}catch(U){console.error("提交失敗:",U),H||alert("更新用戶數據失敗，請稍後再試！"),setTimeout(()=>{h("/user-info",{state:{from:"/muscle-mass"}})},100)}},q=[{name:"骨骼肌肉量 (SMM)",value:N.smmScore||0},{name:"肌肉量百分比 (SM%)",value:N.smPercentScore||0}],Q=[{name:"最終分數",value:N.finalScore||0}];return s.jsxs("div",{className:"muscle-container",children:[s.jsx("h1",{className:"text-2xl font-bold text-center mb-4",children:"骨骼肌肉量評測"}),s.jsxs("p",{children:["體重：",g?`${g} 公斤`:"未輸入"]}),s.jsxs("p",{children:["年齡：",p||"未輸入"]}),s.jsxs("p",{children:["性別：",v||"未選擇"]}),s.jsxs("div",{className:"exercise-section",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"骨骼肌肉量 (SMM)"}),s.jsx("label",{htmlFor:"smm",className:"block text-sm font-medium text-gray-700",children:"骨骼肌肉量 (kg)"}),s.jsx("input",{id:"smm",name:"smm",type:"number",placeholder:"骨骼肌肉量 (kg)",value:x,onChange:H=>y(H.target.value),className:"input-field"}),s.jsx("button",{onClick:L,className:"calculate-btn",children:"計算"}),N.smmScore!==null&&s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"score-text",children:["骨骼肌肉量 (SMM) 分數: ",N.smmScore]}),s.jsxs("p",{className:"score-text",children:["骨骼肌肉量百分比 (SM%): ",N.smPercent,"%"]}),s.jsxs("p",{className:"score-text",children:["骨骼肌肉量百分比 (SM%) 分數: ",N.smPercentScore]}),s.jsxs("p",{className:"score-text final-score",children:["最終分數: ",N.finalScore]})]})]}),N.finalScore&&s.jsxs("div",{className:"chart-section",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"數值比較"}),s.jsx("div",{className:"chart-container",children:s.jsx(ur,{width:"100%",height:300,children:s.jsxs(Eh,{data:q,barSize:30,children:[s.jsx(Ah,{strokeDasharray:"3 3"}),s.jsx(jh,{dataKey:"name"}),s.jsx(Th,{domain:[0,100]}),s.jsx(Bh,{}),s.jsx(R1,{}),s.jsx(wh,{dataKey:"value",fill:"#4bc0c0",name:"分數"})]})})}),s.jsx("h2",{className:"text-lg font-semibold mt-6 mb-4",children:"最終分數"}),s.jsx("div",{className:"chart-container",children:s.jsx(ur,{width:"100%",height:200,children:s.jsxs(Eh,{data:Q,barSize:30,children:[s.jsx(Ah,{strokeDasharray:"3 3"}),s.jsx(jh,{dataKey:"name"}),s.jsx(Th,{domain:[0,100]}),s.jsx(Bh,{}),s.jsx(wh,{dataKey:"value",fill:"#36a2eb",name:"分數"})]})})})]}),s.jsx("div",{className:"button-group",children:s.jsx("button",{onClick:te,className:"submit-btn",children:"提交並返回總覽"})})]})}V0.propTypes={onComplete:Re.func,clearTestData:Re.func};function Y0({onComplete:u,clearTestData:i}){var H,U;const{userData:o,setUserData:c,saveUserData:d}=mn(),h=qn(),[g,p]=R.useState(((U=(H=o.testInputs)==null?void 0:H.ffmi)==null?void 0:U.bodyFat)||""),[v,x]=R.useState(null),[y,N]=R.useState(null),[w,A]=R.useState(""),[D,L]=R.useState(!1);R.useEffect(()=>{var $;if(g){const Z={...o.testInputs,ffmi:{...($=o.testInputs)==null?void 0:$.ffmi,bodyFat:g}};c(ne=>({...ne,testInputs:Z}))}},[g]);const te=()=>{if(!o.gender||!o.height||!o.weight||!o.age){alert("請先在用戶信息頁面填寫性別、身高、體重和年齡");return}if(!g){alert("請輸入體脂肪率");return}const $=o.gender==="male"||o.gender==="男性",Z=parseFloat(o.height)/100,ne=parseFloat(o.weight),ae=parseFloat(g)/100,he=ne*(1-ae)/(Z*Z),P=Z>1.8?he+6*(Z-1.8):he;x(P.toFixed(1));let le;$?P<=0?le=0:P<=18.5?le=P/18.5*60:P<28?le=60+(P-18.5)/(28-18.5)*40:le=100:P<=0?le=0:P<=15.5?le=P/15.5*60:P<22?le=60+(P-15.5)/(22-15.5)*40:le=100,N(le.toFixed(1)),$?P<18?A("肌肉量低於平均"):P<20?A("肌肉量在平均值"):P<22?A("肌肉量高於平均值"):P<23?A("肌肉量很高"):P<26?A("肌肉量極高"):P<28?A("肌肉量已經高到可能有使用藥物"):A("不用藥不可能達到的數值"):P<15?A("肌肉量低於平均"):P<17?A("肌肉量在平均值"):P<19?A("肌肉量高於平均值"):P<22?A("肌肉量很高"):A("不用藥不可能達到的數值")},q=async()=>{if(!v||!y){alert("請先計算 FFMI 分數！");return}const $=sessionStorage.getItem("guestMode")==="true";try{const Z={...o.scores,bodyFat:parseFloat(y)},ne={...o,scores:Z};if(c(ne),!$&&!await d(ne))throw new Error("保存數據失敗");const ae={bodyFat:parseFloat(g),ffmi:parseFloat(v),ffmiScore:parseFloat(y)};u&&typeof u=="function"&&u(ae),setTimeout(()=>{h("/user-info",{state:{from:"/body-fat"}})},100)}catch(Z){console.error("提交失敗:",Z),$||alert("更新用戶數據失敗，請稍後再試！"),setTimeout(()=>{h("/user-info",{state:{from:"/body-fat"}})},100)}},Q=[{range:"16 - 17",description:"肌肉量低於平均"},{range:"18 - 19",description:"肌肉量在平均值"},{range:"20 - 21",description:"肌肉量高於平均值"},{range:"22",description:"肌肉量很高"},{range:"23 - 25",description:"肌肉量極高"},{range:"26 - 27",description:"肌肉量已經高到可能有使用藥物"},{range:"28 - 30",description:"不用藥不可能達到的數值"}],k=[{range:"13 - 14",description:"肌肉量低於平均"},{range:"15 - 16",description:"肌肉量在平均值"},{range:"17 - 18",description:"肌肉量高於平均值"},{range:"19 - 21",description:"肌肉量很高"},{range:"> 22",description:"不用藥不可能達到的數值"}],J=o.gender==="male"||o.gender==="男性"?Q:k;return s.jsxs("div",{className:"ffmi-container",children:[s.jsx("h1",{className:"ffmi-title",children:"體脂肪率與 FFMI"}),s.jsxs("div",{className:"input-section",children:[s.jsx("label",{htmlFor:"bodyFat",className:"input-label",children:"體脂肪率 (%)"}),s.jsx("input",{id:"bodyFat",name:"bodyFat",type:"number",value:g,onChange:$=>p($.target.value),placeholder:"輸入體脂肪率 (%)",className:"input-field",required:!0}),s.jsx("button",{onClick:te,className:"calculate-btn",children:"計算分數"})]}),v&&s.jsxs("div",{className:"result-section",children:[s.jsx("h2",{className:"result-title",children:"您的評估結果"}),s.jsxs("p",{className:"result-text",children:["FFMI：",v]}),s.jsxs("p",{className:"score-text",children:["FFMI 評分：",y," 分"]}),s.jsxs("p",{className:"category-text",children:["FFMI 等級：",w]}),s.jsx("p",{className:"result-text note-text"})]}),s.jsx("div",{className:"description-section",children:s.jsxs("div",{className:"description-card",children:[s.jsxs("div",{className:"description-header",onClick:()=>L(!D),children:[s.jsx("h2",{className:"description-title",children:"FFMI 是什麼？"}),s.jsx("span",{className:`arrow ${D?"expanded":""}`,children:D?"▲":"▼"})]}),D&&s.jsxs("div",{className:"description-content",children:[s.jsx("p",{children:"FFMI（Fat Free Mass Index 無脂肪質量指數）用來評估肌肉量多寡，考量身高與體脂，比 BMI 更準確。數值越高，代表肌肉量越多，是健身評估常用指標。在以下幾個狀況下易造成結果失真："}),s.jsxs("ol",{className:"list-decimal pl-5 mt-2",children:[s.jsx("li",{children:"受測者身高高於平均標準 (190 以上)"}),s.jsx("li",{children:"受測者體脂肪率顯著高於平均標準"}),s.jsx("li",{children:"受測者體重高於平均標準"})]})]})]})}),s.jsxs("div",{className:"table-section",children:[s.jsxs("h2",{className:"table-title",children:["FFMI 對照表 (",o.gender==="male"||o.gender==="男性"?"男性":"女性",")"]}),s.jsxs("table",{className:"ffmi-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"FFMI 範圍"}),s.jsx("th",{children:"評價"})]})}),s.jsx("tbody",{children:J.map(($,Z)=>s.jsxs("tr",{children:[s.jsx("td",{children:$.range}),s.jsx("td",{children:$.description})]},Z))})]})]}),s.jsx("button",{onClick:q,className:"ffmi-submit-btn",children:"提交並返回總覽"})]})}Y0.propTypes={onComplete:Re.func,clearTestData:Re.func};function F0({onLogin:u,onError:i}){const[o,c]=R.useState(!1),d=async(h,g)=>{c(!0);try{let p;h==="google"?(p=new i0,p.setCustomParameters({prompt:"select_account"})):h==="facebook"&&(p=new s0,p.addScope("email"),p.addScope("public_profile"));const x=(await E1(se,p)).user;console.log(`${g} 登入成功:`,x.email);const y=hn(De,"users",x.uid);if(!(await r0(y)).exists()){const w={email:x.email,userId:x.uid,nickname:x.displayName||x.email.split("@")[0],avatarUrl:x.photoURL||"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),gender:"",height:0,weight:0,age:0,scores:{strength:0,explosivePower:0,cardio:0,muscleMass:0,bodyFat:0},history:[],testInputs:{},friends:[],friendRequests:[],blockedUsers:[],ladderScore:0,ladderRank:0,ladderHistory:[],isGuest:!1,lastActive:new Date().toISOString()};await zi(y,w),console.log("新用戶資料已創建")}u(x.email,null)}catch(p){console.error(`${g} 登入失敗:`,p);let v="登入失敗";p.code==="auth/popup-closed-by-user"?v="登入視窗被關閉，請重試":p.code==="auth/popup-blocked"?v="彈出視窗被阻擋，請允許彈出視窗後重試":p.code==="auth/account-exists-with-different-credential"?v="此電子郵件已被其他方式註冊，請使用原註冊方式登入":v=`登入失敗：${p.message}`,i(v)}finally{c(!1)}};return s.jsxs("div",{className:"social-login-container",children:[s.jsx("div",{className:"divider",children:s.jsx("span",{children:"或"})}),s.jsxs("div",{className:"social-buttons",children:[s.jsxs("button",{type:"button",className:"social-btn google-btn",onClick:()=>d("google","Google"),disabled:o,children:[s.jsxs("svg",{className:"google-icon",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),o?"處理中...":"使用 Google 登入"]}),s.jsxs("button",{type:"button",className:"social-btn facebook-btn",onClick:()=>d("facebook","Facebook"),disabled:o,children:[s.jsx("svg",{className:"facebook-icon",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),o?"處理中...":"使用 Facebook 登入"]})]})]})}F0.propTypes={onLogin:Re.func.isRequired,onError:Re.func.isRequired};function X0({onLogin:u}){const[i,o]=R.useState(""),[c,d]=R.useState(""),[h,g]=R.useState(null),[p,v]=R.useState(!1),[x,y]=R.useState(!1),[N,w]=R.useState(!1),A=qn(),D=Rl(),{height:L,weight:te,age:q}=D.state||{};R.useEffect(()=>{if(console.log("檢查 auth 初始化狀態:",se),!se){g("Firebase 未正確初始化，請檢查配置");return}const H=se.onAuthStateChanged(Z=>{Z&&(console.log("用戶已登入:",Z.email),A("/user-info"))}),U=localStorage.getItem("savedEmail"),$=localStorage.getItem("savedPassword");return U&&$&&(console.log("從 localStorage 恢復帳號:",U),o(U),d($),w(!0)),()=>H()},[A]);const Q=async H=>{if(H.preventDefault(),g(null),y(!0),console.log("開始處理表單提交，isRegistering:",p,"email:",i),!se||!De){g("Firebase 未正確初始化，請檢查配置"),console.error("auth 或 db 未初始化:",{auth:se,db:De}),y(!1);return}try{let U;if(p){console.log("嘗試註冊用戶:",i),U=await A1(se,i,c);const Z=U.user;console.log("註冊成功，用戶:",Z.email,"UID:",Z.uid);const ne=hn(De,"users",Z.uid),ae={email:Z.email,userId:Z.uid,nickname:Z.email.split("@")[0],avatarUrl:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),gender:"",height:L?parseFloat(L):0,weight:te?parseFloat(te):0,age:q?parseInt(q,10):0,scores:{strength:0,explosivePower:0,cardio:0,muscleMass:0,bodyFat:0},history:[],testInputs:{},friends:[],friendRequests:[],blockedUsers:[],ladderScore:0,ladderRank:0,ladderHistory:[],isGuest:!1,lastActive:new Date().toISOString()};console.log("儲存初始用戶數據:",ae),await zi(ne,ae),console.log("用戶數據已儲存，文檔 ID:",Z.uid)}else console.log("嘗試登入用戶:",i),U=await Lo(se,i,c),console.log("登入成功，用戶:",U.user.email,"UID:",U.user.uid);const $=U.user;u($.email,c),N?(console.log("儲存帳號到 localStorage:",i),localStorage.setItem("savedEmail",i),localStorage.setItem("savedPassword",c)):(console.log("清除 localStorage 中的帳號"),localStorage.removeItem("savedEmail"),localStorage.removeItem("savedPassword")),setTimeout(()=>{console.log("導航到 /user-info"),A("/user-info")},500)}catch(U){console.error("登入/註冊失敗:",U.code,U.message),g(`發生錯誤：${U.message} (代碼: ${U.code})`)}finally{y(!1)}},k=(H,U)=>{u(H,U),setTimeout(()=>{console.log("社交登入成功，導航到 /user-info"),A("/user-info")},500)},J=H=>{g(H)};return s.jsxs("div",{className:"login-container",children:[s.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:p?"註冊":"登入"}),h&&s.jsx("p",{className:"error-message",children:h}),s.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"電子郵件"}),s.jsx("input",{type:"email",value:i,onChange:H=>o(H.target.value),placeholder:"輸入你的電子郵件",className:"input-field",required:!0,disabled:x})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"密碼"}),s.jsx("input",{type:"password",value:c,onChange:H=>d(H.target.value),placeholder:"輸入你的密碼",className:"input-field",required:!0,disabled:x})]}),s.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end",marginBottom:"8px"},children:s.jsxs("label",{htmlFor:"rememberMe",style:{display:"flex",alignItems:"center",cursor:"pointer",whiteSpace:"nowrap",fontSize:"14px",color:"#555"},children:[s.jsx("input",{id:"rememberMe",type:"checkbox",checked:N,onChange:H=>w(H.target.checked),disabled:x,style:{margin:0}}),s.jsx("span",{style:{marginLeft:"6px"},children:"記住我的帳號"})]})}),s.jsx("button",{type:"submit",className:"submit-btn",disabled:x,children:x?"處理中...":p?"註冊":"登入"})]}),s.jsx("button",{onClick:()=>v(!p),className:"toggle-btn",children:p?"已有帳號？點此登入":"沒有帳號？點此註冊"}),s.jsx(F0,{onLogin:k,onError:J}),s.jsxs("div",{className:"instructions-container",children:[s.jsx("h2",{className:"instructions-title",children:"使用說明"}),s.jsxs("ul",{className:"instructions-list",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"公平評測"}),"：依性別、年齡、身高、體重，結合科學統計，分數化呈現，簡單易懂。"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"全面分析"}),"：五邊形雷達圖顯示弱項，指引補強方向。"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"成長追蹤"}),"：記錄進步軌跡，優化課表效率。"]})]})]})]})}X0.propTypes={onLogin:Re.func.isRequired};function N2(){const{userData:u,setUserData:i}=mn(),o=R.useMemo(()=>(u==null?void 0:u.history)||[],[u]),[c,d]=R.useState(!1),[h,g]=R.useState([]),[p,v]=R.useState(!1),x=A=>{const D=Number(A);return D>=80?"score-excellent":D>=60?"score-good":D>=40?"score-fair":D>0?"score-poor":"score-none"};R.useEffect(()=>{console.log("History.js - userData:",u),console.log("History.js - history:",o)},[u,o]);const y=()=>{d(!c),g([])},N=A=>{h.includes(A)?g(h.filter(D=>D!==A)):g([...h,A])},w=()=>{const A=o.filter((D,L)=>!h.includes(L));localStorage.setItem("history",JSON.stringify(A)),i({...u,history:A}),d(!1),g([]),console.log("History.js - 已刪除所選紀錄")};return s.jsxs("div",{className:"history-container",children:[s.jsx("h1",{children:"歷史紀錄"}),o.length>0?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"score-legend",children:[s.jsx("h4",{children:"🎯 分數解讀"}),s.jsxs("div",{className:"legend-items",children:[s.jsx("span",{className:"legend-item score-excellent",children:"80+ 優秀"}),s.jsx("span",{className:"legend-item score-good",children:"60-79 良好"}),s.jsx("span",{className:"legend-item score-fair",children:"40-59 一般"}),s.jsx("span",{className:"legend-item score-poor",children:"1-39 待加強"})]})]}),s.jsxs("table",{className:"history-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsxs("th",{className:`date-col ${p?"mobile-hidden":""}`,children:[s.jsx("span",{className:"icon",children:"📅"}),s.jsx("span",{className:"desktop-text",children:"日期"})]}),s.jsxs("th",{className:"score-col",children:[s.jsx("span",{className:"icon",children:"💪"}),s.jsx("span",{className:"desktop-text",children:"力量"})]}),s.jsxs("th",{className:"score-col",children:[s.jsx("span",{className:"icon",children:"⚡"}),s.jsx("span",{className:"desktop-text",children:"爆發力"})]}),s.jsxs("th",{className:`score-col ${p?"":"mobile-hidden"}`,children:[s.jsx("span",{className:"icon",children:"❤️"}),s.jsx("span",{className:"desktop-text",children:"心肺"})]}),s.jsxs("th",{className:`score-col ${p?"":"mobile-hidden"}`,children:[s.jsx("span",{className:"icon",children:"🥩"}),s.jsx("span",{className:"desktop-text",children:"肌肉量"})]}),s.jsxs("th",{className:`score-col ${p?"":"mobile-hidden"}`,children:[s.jsx("span",{className:"icon",children:"📊"}),s.jsx("span",{className:"desktop-text",children:"FFMI"})]}),s.jsxs("th",{className:"average-col",children:[s.jsx("span",{className:"icon",children:"🏆"}),s.jsx("span",{className:"desktop-text",children:"總分"})]}),c&&s.jsx("th",{className:"select-col",children:"選擇"})]})}),s.jsx("tbody",{children:o.map((A,D)=>{const L=A.scores||{},te=A.averageScore||(Object.values(L).filter(q=>q>0).reduce((q,Q)=>q+Q,0)/Object.values(L).filter(q=>q>0).length).toFixed(1)||0;return s.jsxs("tr",{children:[s.jsx("td",{className:`date-cell ${p?"mobile-hidden":""}`,children:A.date||new Date(A.timestamp).toLocaleDateString("zh-TW")}),s.jsx("td",{className:`score-cell ${x(L.strength||0)}`,children:(L.strength||0).toFixed(1)}),s.jsx("td",{className:`score-cell ${x(L.explosivePower||0)}`,children:(L.explosivePower||0).toFixed(1)}),s.jsx("td",{className:`score-cell ${p?"":"mobile-hidden"} ${x(L.cardio||0)}`,children:(L.cardio||0).toFixed(1)}),s.jsx("td",{className:`score-cell ${p?"":"mobile-hidden"} ${x(L.muscleMass||0)}`,children:(L.muscleMass||0).toFixed(1)}),s.jsx("td",{className:`score-cell ${p?"":"mobile-hidden"} ${x(L.bodyFat||0)}`,children:(L.bodyFat||0).toFixed(1)}),s.jsx("td",{className:`average-cell ${x(te)}`,children:s.jsx("strong",{children:Number(te).toFixed(1)})}),c&&s.jsx("td",{className:"select-cell",children:s.jsx("input",{type:"checkbox",className:"history-checkbox",checked:h.includes(D),onChange:()=>N(D)})})]},D)})})]}),s.jsxs("div",{className:"action-buttons",children:[s.jsx("button",{onClick:()=>v(!p),className:"toggle-delete-btn mobile-toggle-btn",children:p?"顯示日期 📅":"顯示所有指標 📊"}),s.jsx("button",{onClick:y,className:`toggle-delete-btn ${c?"cancel-delete-btn":"edit-mode-btn"}`,children:c?"取消":"清理資料"}),c&&s.jsx("button",{onClick:w,className:"toggle-delete-btn delete-selected-btn",children:"刪除所選"})]})]}):s.jsxs("div",{className:"no-history",children:[s.jsx("h3",{children:"📋 尚無歷史紀錄"}),s.jsx("p",{children:"完成評測後，您的紀錄就會出現在這裡"}),s.jsx("p",{children:"開始您的健身評測之旅吧！"})]})]})}function E2(){const[u,i]=R.useState("載入中...");return R.useEffect(()=>{fetch("/privacy-policy.html").then(o=>{if(!o.ok)throw new Error("無法載入隱私權政策");return o.text()}).then(o=>{i(o)}).catch(o=>{console.error("載入隱私權政策失敗:",o),i("<div>載入隱私權政策時發生錯誤，請稍後再試。</div>")})},[]),s.jsx("div",{style:{padding:"20px",maxWidth:"800px",margin:"0 auto"},children:s.jsx("div",{dangerouslySetInnerHTML:{__html:u}})})}const A2=()=>s.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[s.jsx("h1",{children:"測試頁面"}),s.jsx("p",{children:"如果您看到這個頁面，說明 React 應用正在正常運行。"}),s.jsx("div",{style:{marginTop:"20px"},children:s.jsx("button",{onClick:()=>alert("按鈕正常工作！"),style:{padding:"10px 20px",backgroundColor:"#667eea",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"測試按鈕"})})]});function Q0({open:u,onClose:i,onRegister:o}){return u?s.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.35)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsxs("div",{style:{background:"#fff",borderRadius:"12px",padding:"32px 24px",minWidth:"320px",maxWidth:"90vw",boxShadow:"0 8px 32px rgba(0,0,0,0.18)",textAlign:"center",position:"relative"},children:[s.jsx("h2",{style:{marginBottom:"16px",color:"#667eea"},children:"註冊帳號才能使用此功能"}),s.jsx("p",{style:{marginBottom:"24px",color:"#444"},children:"好友與天梯功能僅限註冊用戶使用，立即註冊帳號即可解鎖完整社交體驗！"}),s.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"16px"},children:[s.jsx("button",{onClick:o,style:{padding:"10px 24px",background:"#667eea",color:"#fff",border:"none",borderRadius:"6px",fontSize:"16px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 2px 8px rgba(102,126,234,0.08)"},children:"前往註冊/登入"}),s.jsx("button",{onClick:i,style:{padding:"10px 24px",background:"#eee",color:"#333",border:"none",borderRadius:"6px",fontSize:"16px",cursor:"pointer",fontWeight:"bold"},children:"取消"})]})]})}):null}Q0.propTypes={open:Re.bool.isRequired,onClose:Re.func.isRequired,onRegister:Re.func.isRequired};const j2=[{key:"friends",label:"好友",icon:s.jsxs("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H7a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"9",cy:"7",r:"4"}),s.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),s.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),path:"/friends",tooltip:"好友列表",guestBlock:!0},{key:"home",label:"首頁",icon:s.jsxs("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 9l9-7 9 7"}),s.jsx("path",{d:"M9 22V12h6v10"})]}),path:"/user-info",tooltip:"個人主頁",guestBlock:!1},{key:"assessment",label:"開始評測",icon:s.jsxs("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),s.jsx("path",{d:"M2 17l10 5 10-5"}),s.jsx("path",{d:"M2 12l10 5 10-5"}),s.jsx("circle",{cx:"12",cy:"12",r:"3"}),s.jsx("path",{d:"M12 9v6"}),s.jsx("path",{d:"M9 12h6"})]}),path:"/user-info",tooltip:"開始評測",guestBlock:!1},{key:"ladder",label:"天梯",icon:s.jsxs("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),s.jsx("path",{d:"M7 3v18M17 3v18M3 9h18M3 15h18"})]}),path:"/ladder",tooltip:"天梯排行榜",guestBlock:!0},{key:"history",label:"歷史",icon:s.jsxs("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("polyline",{points:"12 6 12 12 16 14"})]}),path:"/history",tooltip:"歷史紀錄",guestBlock:!1}];function T2(){const u=sessionStorage.getItem("guestMode")==="true";return se.currentUser?!1:u}function B2(){const u=qn(),i=Rl(),[o,c]=R.useState(null),[d,h]=R.useState(!1),[g,p]=R.useState(""),v=y=>{y.guestBlock&&T2()?(p(y.path),h(!0)):y.key==="home"?u(y.path,{state:{scrollTo:"radar"}}):y.key==="assessment"?u(y.path,{state:{scrollTo:"tests"}}):u(y.path)},x=()=>{h(!1),u("/login")};return s.jsxs(s.Fragment,{children:[s.jsx("nav",{style:{position:"fixed",bottom:0,left:0,right:0,height:"64px",background:"#fff",borderTop:"1px solid #eee",display:"flex",justifyContent:"space-around",alignItems:"center",zIndex:1e3,boxShadow:"0 -2px 8px rgba(0,0,0,0.04)"},children:j2.map(y=>s.jsx("div",{style:{position:"relative",flex:1,textAlign:"center"},children:s.jsxs("button",{onClick:()=>v(y),onMouseDown:N=>N.preventDefault(),onMouseEnter:()=>c(y.key),onMouseLeave:()=>c(null),onTouchStart:()=>c(y.key),onTouchEnd:()=>c(null),style:{background:"none",border:"none",outline:"none",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:i.pathname===y.path?"#667eea":"#888",fontWeight:i.pathname===y.path?"bold":"normal",fontSize:"12px",width:"100%",height:"64px",cursor:"pointer",position:"relative",transition:"color 0.2s"},"aria-label":y.label,children:[y.icon,s.jsx("span",{style:{marginTop:"4px"},children:y.label}),o===y.key&&s.jsx("span",{style:{position:"absolute",bottom:"70px",left:"50%",transform:"translateX(-50%)",background:"rgba(60,60,60,0.95)",color:"#fff",padding:"6px 14px",borderRadius:"6px",fontSize:"13px",whiteSpace:"nowrap",pointerEvents:"none",zIndex:1001,boxShadow:"0 2px 8px rgba(0,0,0,0.15)"},children:y.tooltip})]})},y.key))}),s.jsx(Q0,{open:d,onClose:()=>h(!1),onRegister:x})]})}const w2=()=>{const{userData:u,setUserData:i,loadUserData:o}=mn(),[c,d]=R.useState("friends"),[h,g]=R.useState(!1),[p,v]=R.useState(""),[x,y]=R.useState(""),[N,w]=R.useState([]),[A,D]=R.useState([]),[L,te]=R.useState(""),[q,Q]=R.useState([]),[k,J]=R.useState(null),[H,U]=R.useState([]),[$,Z]=R.useState(""),[ne,ae]=R.useState("strength"),[F,he]=R.useState(!1),P=[{id:"strength",name:"力量挑戰",icon:"💪",description:"深蹲、卧推等重量挑戰",examples:["深蹲 100kg x 5次","卧推 80kg x 3次","硬舉 120kg x 1次"]},{id:"endurance",name:"耐力挑戰",icon:"🏃",description:"跑步、游泳等耐力挑戰",examples:["跑步 5km 25分鐘內","游泳 1000m","騎車 20km"]},{id:"power",name:"爆發力挑戰",icon:"⚡",description:"短時間高強度挑戰",examples:["30秒波比跳 15次","1分鐘引體向上 10次","2分鐘平板支撐"]},{id:"comprehensive",name:"綜合挑戰",icon:"🎯",description:"多項目組合挑戰",examples:["深蹲 + 跑步 + 引體向上","卧推 + 游泳 + 平板支撐"]}],le={pending:{label:"等待回應",color:"#ffa726",icon:"⏳"},accepted:{label:"已接受",color:"#66bb6a",icon:"✅"},declined:{label:"已拒絕",color:"#ef5350",icon:"❌"},completed:{label:"已完成",color:"#42a5f5",icon:"🏆"},expired:{label:"已過期",color:"#9e9e9e",icon:"⏰"}},W=R.useCallback(async()=>{var Y;try{g(!0);const K=Dt(yt(De,"friendInvitations"),st("status","==","accepted")),ce=await Ht(K),Se=new Set;if(ce.forEach(oe=>{const V=oe.data();V.fromUserId===se.currentUser.uid?Se.add(V.toUserId):V.toUserId===se.currentUser.uid&&Se.add(V.fromUserId)}),Se.size===0){w([]),i(oe=>({...oe,friends:[]}));return}const Ae=[];for(const oe of Se)try{const V=await Ht(Dt(yt(De,"users"),st("userId","==",oe)));if(!V.empty){const C=V.docs[0].data();Ae.push({id:oe,nickname:C.nickname||((Y=C.email)==null?void 0:Y.split("@")[0])||"匿名用戶",avatarUrl:C.avatarUrl||"",ladderScore:C.ladderScore||0,lastActive:C.lastActive||""})}}catch(V){console.error(`載入好友 ${oe} 資料失敗:`,V)}w(Ae),i(oe=>({...oe,friends:Array.from(Se)}))}catch(K){console.error("載入好友列表失敗:",K),v("載入好友列表失敗")}finally{g(!1)}},[]),S=R.useCallback(async()=>{var Y;try{const K=Dt(yt(De,"friendInvitations"),st("toUserId","==",se.currentUser.uid),st("status","==","pending")),ce=await Ht(K),Se=[];for(const Ae of ce.docs){const oe=Ae.data(),V=await Ht(Dt(yt(De,"users"),st("userId","==",oe.fromUserId)));if(!V.empty){const C=V.docs[0].data();Se.push({id:Ae.id,fromUserId:oe.fromUserId,senderName:C.nickname||((Y=C.email)==null?void 0:Y.split("@")[0])||"匿名用戶",senderAvatar:C.avatarUrl||"",createdAt:oe.createdAt})}}D(Se)}catch(K){console.error("載入好友邀請失敗:",K),v("載入好友邀請失敗")}},[]);R.useEffect(()=>{se.currentUser&&S()},[S]),R.useEffect(()=>{se.currentUser&&W()},[W]);const G=async(Y,K)=>{try{const ce=Dt(yt(De,"friendInvitations"),st("status","==","accepted")),Se=await Ht(ce);let Ae=!1;return Se.forEach(oe=>{const V=oe.data();(V.fromUserId===Y&&V.toUserId===K||V.fromUserId===K&&V.toUserId===Y)&&(Ae=!0)}),Ae}catch(ce){return console.error("檢查好友關係失敗:",ce),!1}},ee=async()=>{var K,ce;const Y=L.toLowerCase();if(!Y.trim()){Q([]);return}try{g(!0);const Se=[],Ae=new Set;try{const oe=Dt(yt(De,"users"),st("nickname",">=",Y),st("nickname","<=",Y+""),Li(10)),V=await Ht(oe);for(const C of V.docs){const X=C.data();if(X.userId!==se.currentUser.uid&&!Ae.has(X.userId)){Ae.add(X.userId);const fe=await G(se.currentUser.uid,X.userId);Se.push({id:X.userId,nickname:X.nickname||((K=X.email)==null?void 0:K.split("@")[0])||"匿名用戶",email:X.email,avatarUrl:X.avatarUrl||"",ladderScore:X.ladderScore||0,isFriend:fe,hasPendingRequest:!1})}}}catch(oe){console.log("暱稱搜尋失敗:",oe)}try{let oe;Y.includes("@")?oe=Dt(yt(De,"users"),st("email","==",Y),Li(5)):oe=Dt(yt(De,"users"),st("email",">=",Y),st("email","<=",Y+""),Li(10));const V=await Ht(oe);for(const C of V.docs){const X=C.data();if(X.userId!==se.currentUser.uid&&!Ae.has(X.userId)){Ae.add(X.userId);const fe=await G(se.currentUser.uid,X.userId);Se.push({id:X.userId,nickname:X.nickname||((ce=X.email)==null?void 0:ce.split("@")[0])||"匿名用戶",email:X.email,avatarUrl:X.avatarUrl||"",ladderScore:X.ladderScore||0,isFriend:fe,hasPendingRequest:!1})}}}catch(oe){console.log("電子郵件搜尋失敗:",oe)}try{const oe=Dt(yt(De,"friendInvitations"),st("fromUserId","==",se.currentUser.uid),st("status","==","pending")),V=await Ht(oe),C=new Set;V.forEach(X=>{C.add(X.data().toUserId)}),Se.forEach(X=>{C.has(X.id)&&(X.hasPendingRequest=!0)})}catch(oe){console.log("檢查待處理邀請失敗:",oe)}Q(Se)}catch(Se){console.error("搜尋失敗:",Se),v("搜尋失敗")}finally{g(!1)}},ye=async Y=>{try{g(!0);const K=Dt(yt(De,"friendInvitations"),st("fromUserId","==",se.currentUser.uid),st("toUserId","==",Y),st("status","==","pending"));if(!(await Ht(K)).empty){v("已經發送過好友邀請");return}const Se=await No(yt(De,"friendInvitations"),{fromUserId:se.currentUser.uid,toUserId:Y,status:"pending",createdAt:new Date().toISOString()});Bl.logWrite("addDoc","friendInvitations",Se.id),y("好友邀請已發送"),Q(Ae=>Ae.map(oe=>oe.id===Y?{...oe,hasPendingRequest:!0}:oe))}catch(K){console.error("發送好友邀請失敗:",K),v("發送邀請失敗")}finally{g(!1)}},Ee=async(Y,K)=>{try{g(!0),await Al(hn(De,"friendInvitations",Y),{status:"accepted",acceptedAt:new Date().toISOString()}),Bl.logWrite("updateDoc","friendInvitations",Y);const ce=hn(De,"users",se.currentUser.uid);await Al(ce,{friends:T1(K)}),Bl.logWrite("updateDoc","users",se.currentUser.uid,{friends:"arrayUnion"});const Se=await No(yt(De,"friendInvitations"),{fromUserId:se.currentUser.uid,toUserId:K,status:"accepted",createdAt:new Date().toISOString(),acceptedAt:new Date().toISOString(),isReverse:!0});Bl.logWrite("addDoc","friendInvitations",Se.id),i(Ae=>({...Ae,friends:[...Ae.friends||[],K]})),D(Ae=>Ae.filter(oe=>oe.id!==Y)),y("已接受好友邀請"),await o(),await W()}catch(ce){console.error("接受好友邀請失敗:",ce),v(`接受邀請失敗: ${ce.message}`)}finally{g(!1)}},me=async Y=>{try{await Al(hn(De,"friendInvitations",Y),{status:"rejected"}),D(K=>K.filter(ce=>ce.id!==Y)),y("已拒絕好友邀請")}catch(K){console.error("拒絕好友邀請失敗:",K),v("拒絕邀請失敗")}},de=async Y=>{if(confirm("確定要移除這位好友嗎？"))try{g(!0);const K=hn(De,"users",se.currentUser.uid);await Al(K,{friends:j1(Y)});const Se=(await Ht(Dt(yt(De,"friendInvitations"),st("fromUserId","in",[se.currentUser.uid,Y]),st("toUserId","in",[se.currentUser.uid,Y]),st("status","==","accepted")))).docs.map(Ae=>Al(Ae.ref,{status:"cancelled",cancelledAt:new Date().toISOString()}));await Promise.all(Se),i(Ae=>{var oe;return{...Ae,friends:((oe=Ae.friends)==null?void 0:oe.filter(V=>V!==Y))||[]}}),w(Ae=>Ae.filter(oe=>oe.id!==Y)),(k==null?void 0:k.id)===Y&&(J(null),d("friends")),y("已移除好友")}catch(K){console.error("移除好友失敗:",K),v(`移除好友失敗: ${K.message}`)}finally{g(!1)}},pe=async()=>{var K;if(!k||!$.trim())return;const Y=P.find(ce=>ce.id===ne);console.log("準備發送挑戰:",{type:ne,challenge:$,from:se.currentUser.uid,to:k.id,toNickname:k.nickname});try{const ce={fromUserId:se.currentUser.uid,toUserId:k.id,fromUserNickname:(u==null?void 0:u.nickname)||((K=u==null?void 0:u.email)==null?void 0:K.split("@")[0])||"匿名用戶",toUserNickname:k.nickname,type:Y,challenge:$.trim(),status:"pending",timestamp:new Date().toISOString(),expiresAt:new Date(Date.now()+6048e5).toISOString(),isRead:!1};console.log("發送挑戰數據:",ce);const Se=await No(yt(De,"friendChallenges"),ce);console.log("挑戰發送成功，文檔ID:",Se.id),Z(""),y("挑戰發送成功！"),await _e(k.id)}catch(ce){console.error("發送挑戰失敗:",ce),console.error("Error details:",{code:ce.code,message:ce.message}),v("發送挑戰失敗: "+ce.message)}},_e=async Y=>{var K,ce;try{console.log("🔄 開始載入挑戰，參數:",{friendId:Y,currentUser:(K=se.currentUser)==null?void 0:K.uid});const Se=Dt(yt(De,"friendChallenges"));console.log("📡 執行查詢...");const Ae=await Ht(Se);console.log("📊 查詢結果:",{total:Ae.docs.length});const oe=Ae.docs.map(X=>({id:X.id,...X.data()})).filter(X=>X.fromUserId===se.currentUser.uid&&X.toUserId===Y||X.fromUserId===Y&&X.toUserId===se.currentUser.uid).sort((X,fe)=>new Date(fe.timestamp)-new Date(X.timestamp));console.log("📤 過濾後的挑戰數量:",oe.length);const V=new Date,C=oe.map(X=>new Date(X.expiresAt)<V&&X.status==="pending"?{...X,status:"expired",isClientExpired:!0}:X);console.log("✅ 最終挑戰列表 (共 "+C.length+" 條):",C),U(C)}catch(Se){console.error("❌ 載入挑戰失敗:",Se),console.error("Error details:",{code:Se.code,message:Se.message,friendId:Y,currentUser:(ce=se.currentUser)==null?void 0:ce.uid}),v("載入挑戰失敗，請稍後再試")}},Xe=async(Y,K)=>{try{const ce=hn(De,"friendChallenges",Y);await Al(ce,{status:K,updatedAt:new Date().toISOString()}),console.log(`挑戰 ${Y} 狀態更新為: ${K}`)}catch(ce){console.error("更新挑戰狀態失敗:",ce)}},Qe=async Y=>{if(Y.length!==0)try{const K=B1(De);Y.forEach(ce=>{const Se=hn(De,"friendChallenges",ce.id);K.update(Se,{status:"expired",updatedAt:new Date().toISOString()})}),await K.commit(),console.log(`批量更新了 ${Y.length} 個過期挑戰`)}catch(K){console.error("批量更新過期挑戰失敗:",K)}},dt=async(Y,K)=>{try{await Xe(Y,K),y(`挑戰已${K==="accepted"?"接受":"拒絕"}！`),U(ce=>ce.map(Se=>Se.id===Y?{...Se,status:K,updatedAt:new Date().toISOString()}:Se))}catch(ce){console.error("回應挑戰失敗:",ce),v("回應挑戰失敗: "+ce.message)}};R.useEffect(()=>{if(p||x){const Y=setTimeout(()=>{v(""),y("")},3e3);return()=>clearTimeout(Y)}},[p,x]);const at=()=>s.jsx("div",{className:"friends-list",children:N.length===0?s.jsx("div",{className:"empty-state",children:s.jsx("p",{children:"還沒有好友，去搜尋一些吧！"})}):N.map(Y=>s.jsxs("div",{className:"friend-card",children:[s.jsx("div",{className:"friend-avatar",children:Y.avatarUrl?s.jsx("img",{src:Y.avatarUrl,alt:Y.nickname}):s.jsx("div",{className:"avatar-placeholder",children:Y.nickname.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"friend-info",children:[s.jsx("h4",{children:Y.nickname}),s.jsxs("p",{children:["天梯分數: ",Y.ladderScore]})]}),s.jsxs("div",{className:"friend-actions",children:[s.jsx("button",{className:"btn-challenge",onClick:()=>{console.log("🏆 點擊挑戰按鈕，好友資訊:",Y),console.log("🎯 設置 selectedFriend 為:",Y),J(Y),console.log("📋 切換到 challenges 標籤"),d("challenges"),console.log("📥 開始載入挑戰..."),_e(Y.id)},style:{background:"linear-gradient(135deg, #81D8D0 0%, #5F9EA0 100%)",color:"white",border:"none",borderRadius:"8px",padding:"8px 12px",cursor:"pointer",fontSize:"16px"},children:"🏆"}),s.jsx("button",{className:"btn-remove",onClick:()=>de(Y.id),children:"❌"})]})]},Y.id))}),ft=()=>s.jsx("div",{className:"friend-requests",children:A.length===0?s.jsx("div",{className:"empty-state",children:s.jsx("p",{children:"沒有待處理的好友邀請"})}):A.map(Y=>s.jsxs("div",{className:"request-card",children:[s.jsx("div",{className:"friend-avatar",children:Y.senderAvatar?s.jsx("img",{src:Y.senderAvatar,alt:Y.senderName}):s.jsx("div",{className:"avatar-placeholder",children:Y.senderName.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"friend-info",children:[s.jsx("h4",{children:Y.senderName}),s.jsx("p",{children:"想要加您為好友"})]}),s.jsxs("div",{className:"request-actions",children:[s.jsx("button",{className:"btn-accept",onClick:()=>Ee(Y.id,Y.fromUserId),children:"接受"}),s.jsx("button",{className:"btn-reject",onClick:()=>me(Y.id),children:"拒絕"})]})]},Y.id))}),qt=()=>s.jsxs("div",{className:"search-section",children:[s.jsxs("div",{className:"search-box",children:[s.jsx("input",{type:"text",placeholder:"搜尋用戶暱稱或電子郵件...",value:L,onChange:Y=>te(Y.target.value),onKeyPress:Y=>Y.key==="Enter"&&ee()}),s.jsx("button",{onClick:ee,disabled:h,children:h?"搜尋中...":"搜尋"})]}),s.jsxs("div",{className:"search-tips",children:[s.jsx("p",{children:"💡 搜尋提示："}),s.jsxs("ul",{children:[s.jsx("li",{children:"輸入暱稱的開頭部分進行搜尋"}),s.jsx("li",{children:"輸入完整的電子郵件地址"}),s.jsx("li",{children:"搜尋結果會自動排除自己"})]})]}),s.jsx("div",{className:"search-results",children:q.length===0&&L.trim()&&!h?s.jsxs("div",{className:"empty-state",children:[s.jsx("p",{children:"沒有找到匹配的用戶"}),s.jsx("p",{children:"請嘗試："}),s.jsxs("ul",{children:[s.jsx("li",{children:"檢查拼寫是否正確"}),s.jsx("li",{children:"嘗試暱稱的開頭部分"}),s.jsx("li",{children:"使用完整的電子郵件地址"})]})]}):q.map(Y=>s.jsxs("div",{className:"user-card",children:[s.jsx("div",{className:"friend-avatar",children:Y.avatarUrl?s.jsx("img",{src:Y.avatarUrl,alt:Y.nickname}):s.jsx("div",{className:"avatar-placeholder",children:Y.nickname.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"friend-info",children:[s.jsx("h4",{children:Y.nickname}),s.jsx("p",{children:Y.email}),s.jsxs("p",{children:["天梯分數: ",Y.ladderScore]})]}),s.jsx("div",{className:"user-actions",children:Y.isFriend?s.jsx("span",{className:"status-badge",children:"已是好友"}):Y.hasPendingRequest?s.jsx("span",{className:"status-badge",children:"邀請已發送"}):s.jsx("button",{className:"btn-add",onClick:()=>ye(Y.id),disabled:h,children:"加好友"})})]},Y.id))})]}),wt=()=>{var Y;return console.log("🎨 渲染挑戰標籤頁:",{selectedFriend:k,challengesCount:H.length,activeTab:c}),s.jsx("div",{className:"messages-section",children:k?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"chat-header",children:s.jsxs("div",{style:{display:"flex",alignItems:"center",width:"100%",padding:"8px 0"},children:[s.jsx("button",{className:"back-btn",onClick:()=>{console.log("🔙 返回好友列表"),d("friends"),J(null)},style:{background:"rgba(255, 255, 255, 0.2)",color:"white",border:"none",padding:"6px 8px",borderRadius:"6px",cursor:"pointer",fontWeight:"500",fontSize:"12px",marginRight:"12px",width:"10%",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:"←"}),s.jsx("div",{className:"friend-avatar",style:{width:"36px",height:"36px",marginRight:"12px",borderRadius:"50%",overflow:"hidden",flexShrink:0,border:"2px solid rgba(255, 255, 255, 0.3)"},children:k.avatarUrl?s.jsx("img",{src:k.avatarUrl,alt:k.nickname,style:{width:"100%",height:"100%",objectFit:"cover"}}):s.jsx("div",{style:{width:"100%",height:"100%",background:"linear-gradient(135deg, #81D8D0 0%, #5F9EA0 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"16px"},children:k.nickname.charAt(0).toUpperCase()})}),s.jsx("div",{style:{flex:1,minWidth:0,overflow:"hidden"},children:s.jsx("h3",{style:{margin:0,fontWeight:600,fontSize:"16px",color:"white",textAlign:"left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",lineHeight:"1.2"},children:k.nickname})})]})}),s.jsx("div",{className:"messages-container",style:{paddingBottom:"120px"},children:s.jsxs("div",{className:"challenge-board",children:[s.jsx("h4",{children:"挑戰留言板"}),s.jsx("div",{className:"challenge-types",children:P.map(K=>s.jsxs("button",{className:`challenge-type-btn ${ne===K.id?"active":""}`,onClick:()=>ae(K.id),children:[K.icon," ",K.name]},K.id))}),s.jsxs("div",{className:"challenge-input-container",children:[s.jsx("textarea",{placeholder:`輸入您的 ${((Y=P.find(K=>K.id===ne))==null?void 0:Y.examples[0])||"挑戰"}...`,value:$,onChange:K=>Z(K.target.value),onKeyPress:K=>{K.key==="Enter"&&!K.shiftKey&&(K.preventDefault(),pe())}}),s.jsx("button",{onClick:pe,disabled:!$.trim(),children:"發布挑戰"})]}),s.jsxs("div",{className:"challenge-list",children:[H.some(K=>K.isClientExpired)&&s.jsxs("div",{style:{background:"#fff3cd",border:"1px solid #ffeaa7",borderRadius:"8px",padding:"12px",marginBottom:"15px",fontSize:"14px",color:"#856404"},children:[s.jsx("p",{style:{margin:"0 0 8px 0"},children:"⏰ 發現過期挑戰，點擊下方按鈕更新狀態"}),s.jsx("button",{onClick:()=>{const K=H.filter(ce=>ce.isClientExpired);Qe(K),U(ce=>ce.map(Se=>({...Se,isClientExpired:!1})))},style:{background:"#ffc107",color:"#212529",border:"none",borderRadius:"4px",padding:"6px 12px",cursor:"pointer",fontSize:"12px"},children:"更新過期挑戰"})]}),H.length===0?s.jsxs("div",{className:"empty-state",children:[s.jsx("p",{children:"目前沒有挑戰留言"}),s.jsx("p",{children:"您可以發布一個新的挑戰！"})]}):H.map(K=>s.jsxs("div",{className:"challenge-item",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:[s.jsx("span",{style:{fontSize:"18px",marginRight:"10px"},children:K.type.icon}),s.jsx("span",{style:{fontWeight:"bold",fontSize:"16px"},children:K.type.name})]}),s.jsx("div",{className:"challenge-content",children:K.challenge}),s.jsxs("div",{className:"challenge-meta",children:[s.jsxs("span",{children:[K.fromUserNickname," 發布於"," ",new Date(K.timestamp).toLocaleDateString()]}),s.jsxs("span",{style:{color:le[K.status].color,fontWeight:"bold"},children:[le[K.status].icon," ",le[K.status].label]})]}),K.toUserId===se.currentUser.uid&&K.status==="pending"&&s.jsxs("div",{className:"challenge-actions",children:[s.jsx("button",{className:"btn-accept",onClick:()=>dt(K.id,"accepted"),children:"✅ 接受挑戰"}),s.jsx("button",{className:"btn-decline",onClick:()=>dt(K.id,"declined"),children:"❌ 拒絕挑戰"})]}),K.fromUserId===se.currentUser.uid&&K.status==="accepted"&&s.jsx("div",{className:"challenge-actions",children:s.jsx("button",{className:"btn-complete",onClick:()=>dt(K.id,"completed"),children:"🏆 完成挑戰"})})]},K.id))]})]})}),s.jsx("div",{className:"message-input-container",style:{position:"fixed",bottom:window.innerWidth<=768?"64px":"70px",left:"0",right:"0",background:"white",borderTop:"1px solid #e9ecef",padding:"12px 16px",paddingBottom:"calc(12px + env(safe-area-inset-bottom))",zIndex:1001,boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.1)"},children:s.jsxs("div",{className:"text-input-row",style:{display:"flex",gap:"8px",alignItems:"center",maxWidth:"800px",margin:"0 auto"},children:[s.jsx("input",{type:"text",placeholder:"輸入挑戰內容...",value:$,onChange:K=>Z(K.target.value),onKeyPress:K=>{K.key==="Enter"&&(console.log("⌨️ 按下 Enter 發送挑戰"),pe())},style:{flex:9,padding:"12px 16px",border:"2px solid #e9ecef",borderRadius:"20px",fontSize:"14px",outline:"none",transition:"border-color 0.3s ease",minHeight:"40px"}}),s.jsx("button",{onClick:()=>{console.log("🚀 點擊發送按鈕"),pe()},disabled:!$.trim(),style:{flex:1,padding:"12px",background:$.trim()?"linear-gradient(135deg, #81D8D0 0%, #5F9EA0 100%)":"#ccc",color:"white",border:"none",borderRadius:"50%",cursor:$.trim()?"pointer":"not-allowed",minHeight:"40px",minWidth:"40px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px"},title:"發送挑戰",children:"➤"})]})})]}):s.jsxs("div",{className:"empty-state",style:{textAlign:"center",padding:"60px 20px",color:"#666"},children:[s.jsx("p",{style:{fontSize:"18px",marginBottom:"8px"},children:"請選擇一位好友開始挑戰"}),s.jsx("p",{style:{fontSize:"14px",color:"#999"},children:"點擊好友列表中的 🏆 按鈕"})]})})};return s.jsxs("div",{className:"friends-page",children:[s.jsxs("div",{className:"friends-header",children:[s.jsx("h1",{children:"好友系統"}),p&&s.jsx("div",{className:"alert alert-error",children:p}),x&&s.jsx("div",{className:"alert alert-success",children:x})]}),c!=="challenges"&&s.jsxs("div",{className:"tab-navigation",children:[s.jsx("div",{className:`tab-btn ${c==="friends"?"active":""}`,onClick:()=>d("friends"),children:s.jsxs("span",{className:"tab-label",children:["好友列表 (",N.length,")"]})}),s.jsxs("div",{className:`tab-btn ${c==="requests"?"active":""}`,onClick:()=>d("requests"),children:[s.jsx("span",{className:"tab-label",children:"邀請通知"}),A.length>0&&s.jsx("span",{className:"notification-badge",children:A.length})]}),s.jsx("div",{className:`tab-btn ${c==="search"?"active":""}`,onClick:()=>d("search"),children:s.jsx("span",{className:"tab-label",children:"搜尋好友"})})]}),s.jsxs("div",{className:"tab-content",children:[h&&s.jsx("div",{className:"loading",children:"載入中..."}),c==="friends"&&at(),c==="requests"&&ft(),c==="search"&&qt(),c==="challenges"&&wt()]})]})},R2=()=>{const{userData:u}=mn(),[i,o]=R.useState([]),[c,d]=R.useState(0),[h,g]=R.useState("all"),[p,v]=R.useState("total"),[x,y]=R.useState(!0),[N,w]=R.useState(!1),[A,D]=R.useState(null),[L,te]=R.useState({x:0,y:0}),q=[{value:"all",label:"全部年齡"},{value:"under20",label:"20歲以下"},{value:"21to30",label:"21~30歲"},{value:"31to40",label:"31~40歲"},{value:"41to50",label:"41~50歲"},{value:"51to60",label:"51~60歲"},{value:"61to70",label:"61~70歲"},{value:"over70",label:"70歲以上"},{value:"unknown",label:"未知年齡"}];R.useEffect(()=>{Q()},[h,p]);const Q=async()=>{var F;y(!0);try{console.log("🚀 開始載入天梯數據...");const he=Dt(yt(De,"users"),_o("ladderScore","desc"),Li(100)),P=await Ht(he);let le=[];if(console.log(`📥 從 Firebase 獲取到 ${P.size} 個文檔`),P.forEach(W=>{var G;const S=W.data();if(S.ladderScore>0){const ee=S.isAnonymousInLadder===!0,ye={...S,ageGroup:S.age?wl(Number(S.age)):S.ageGroup||""};le.push({id:W.id,...ye,displayName:ee?"匿名用戶":S.nickname||((G=S.email)==null?void 0:G.split("@")[0])||"未命名用戶",avatarUrl:ee?"":S.avatarUrl,isAnonymous:ee})}}),console.log(`📊 過濾後有分數的用戶：${le.length} 名`),h!=="all"){const W=le.length;le=le.filter(S=>S.ageGroup===h),console.log(`👥 年齡段過濾：${W} → ${le.length} 名用戶`)}if(p==="weekly"){const W=le.length,S=new Date;S.setDate(S.getDate()-7),le=le.filter(G=>G.lastActive?new Date(G.lastActive)>=S:!1),console.log(`📅 本周新進榜過濾：${W} → ${le.length} 名用戶`)}if(le.sort((W,S)=>S.ladderScore-W.ladderScore),le=le.slice(0,50),console.log(`📊 天梯數據載入完成：共 ${le.length} 名用戶，最高分：${((F=le[0])==null?void 0:F.ladderScore)||0}`),o(le),u&&u.ladderScore>0){const W=le.findIndex(S=>S.id===u.userId);if(W>=0){const S=W+1;console.log(`🎯 用戶排名：第 ${S} 名`),d(S)}else{console.log("📋 用戶不在前50名內，計算實際排名...");try{const S=Dt(yt(De,"users"),_o("ladderScore","desc")),G=await Ht(S);let ee=[];if(G.forEach(me=>{const de=me.data();if(de.ladderScore>0){const pe={...de,ageGroup:de.age?wl(Number(de.age)):de.ageGroup||""};ee.push(pe)}}),h!=="all"&&(ee=ee.filter(me=>me.ageGroup===h)),p==="weekly"){const me=new Date;me.setDate(me.getDate()-7),ee=ee.filter(de=>de.lastActive?new Date(de.lastActive)>=me:!1)}ee.sort((me,de)=>de.ladderScore-me.ladderScore);const ye=ee.findIndex(me=>me.id===u.userId),Ee=ye>=0?ye+1:0;console.log(`🎯 用戶實際排名：第 ${Ee} 名`),d(Ee)}catch(S){console.error("計算用戶實際排名失敗:",S),d(0)}}}else d(0)}catch(he){console.error("載入天梯數據失敗:",he),console.error("錯誤詳情:",{selectedAgeGroup:h,selectedTab:p,errorCode:he.code,errorMessage:he.message})}finally{y(!1)}},k=R.useMemo(()=>(F,he)=>({}),[]),J=()=>null,H=F=>F===1?"🥇":F===2?"🥈":F===3?"🥉":F<=10?"🏆":F<=50?"⭐":"",U=F=>{const he=q.find(P=>P.value===F);return he?he.label:F},$=R.useMemo(()=>{var P;if(!u||!u.ladderScore||u.ladderScore===0||c>0&&c<=7||c===0)return null;const F=c,he=H(F);return s.jsx("div",{className:"floating-rank-display","data-rank":F,children:s.jsxs("div",{className:"floating-rank-card",children:[s.jsxs("div",{className:"ladder__rank",children:[s.jsx("span",{className:"ladder__rank-number",children:F}),s.jsx("span",{className:"ladder__rank-badge",children:he})]}),s.jsxs("div",{className:"ladder__user",children:[s.jsx("div",{className:"ladder__avatar",children:u.avatarUrl?s.jsx("img",{src:u.avatarUrl,alt:"頭像"}):s.jsx("div",{className:"ladder__avatar-placeholder",children:u.nickname?u.nickname.charAt(0).toUpperCase():"U"})}),s.jsxs("div",{className:"ladder__user-info",children:[s.jsx("div",{className:"ladder__user-name current-user-flame",children:u.nickname||((P=u.email)==null?void 0:P.split("@")[0])||"未命名用戶"}),s.jsxs("div",{className:"ladder__user-details",children:[U(u.ageGroup)," •"," ",u.gender==="male"?"男":"女",s.jsx("br",{}),s.jsx("span",{className:"last-update",children:"我的排名"})]})]})]}),s.jsxs("div",{className:"ladder__score",children:[s.jsx("span",{className:"ladder__score-value",children:Hh(u.ladderScore)}),s.jsx("span",{className:"ladder__score-label",children:"分"})]})]})})},[u,c,i.length]),Z=(F,he)=>{if(F.isAnonymous)return;const P=he.currentTarget.getBoundingClientRect(),le=200,W=20,S=i.findIndex(Ee=>Ee.id===F.id)===0;let G=P.top-10,ee=-100,ye={};S?(G=P.bottom,ee=0,ye={width:"100%",maxWidth:"none",left:"0",transform:"translateX(0) translateY(0)",borderRadius:"0 0 16px 16px",boxShadow:"0 8px 25px rgba(0, 0, 0, 0.3)",zIndex:1001}):P.top-le-W<0&&(G=P.bottom+10,ee=0),te({x:P.left+P.width/2,y:G,transformY:ee,tooltipStyle:ye}),D(F)},ne=()=>{D(null)},ae=F=>{if(!F)return"未知";const he=F.toDate?F.toDate():new Date(F),le=new Date-he,W=Math.floor(le/(1e3*60)),S=Math.floor(le/(1e3*60*60)),G=Math.floor(le/(1e3*60*60*24));return W<1?"剛剛":W<60?`${W}分鐘前`:S<24?`${S}小時前`:G<7?`${G}天前`:he.toLocaleDateString("zh-TW")};return x?s.jsx("div",{className:"ladder",children:s.jsxs("div",{className:"ladder__loading",children:[s.jsx("div",{className:"ladder__loading-spinner"}),s.jsx("p",{children:"載入排行榜中..."})]})}):s.jsxs("div",{className:"ladder",children:[J(),$,s.jsxs("div",{className:"ladder__header",children:[s.jsx("h2",{children:"天梯排行榜"}),s.jsxs("div",{className:"ladder__filters",children:[s.jsx("div",{className:"ladder__filter-container",children:s.jsxs("select",{value:p,onChange:F=>v(F.target.value),className:"ladder__filter-select",children:[s.jsx("option",{value:"total",children:"🏆 總排行榜"}),s.jsx("option",{value:"weekly",children:"⭐ 本周新進榜"})]})}),s.jsx("div",{className:"ladder__filter-container",children:s.jsx("select",{value:h,onChange:F=>g(F.target.value),className:"ladder__filter-select",children:q.map(F=>s.jsx("option",{value:F.value,children:F.label},F.value))})}),c>50&&s.jsx("button",{className:"ladder__context-btn",onClick:()=>w(!N),children:N?"顯示前50名精華區":"顯示我的排名範圍"})]})]}),s.jsxs("div",{className:"ladder__list",children:[N&&c>50&&s.jsxs("div",{style:{padding:"8px 16px",background:"linear-gradient(135deg, #ff6b35 0%, #f7931e 100%)",color:"white",borderRadius:"8px 8px 0 0",fontSize:"12px",fontWeight:"600",textAlign:"center"},children:["🎯 您的排名範圍（第 ",Math.max(1,c-15)," - ",c+15," ","名）"]}),i.length===0?s.jsxs("div",{className:"ladder__empty",children:[s.jsx("p",{children:p==="weekly"?"暫無本周新進榜數據":"暫無排行榜數據"}),s.jsx("p",{children:p==="weekly"?"本周完成評測即可上榜！":"完成評測即可上榜！"})]}):i.map((F,he)=>s.jsxs("div",{className:`ladder__item ${F.id===(u==null?void 0:u.userId)?"ladder__item--current-user":""} ${F.isAnonymous?"":"clickable"}`,style:{...F.id===(u==null?void 0:u.userId)?{background:"linear-gradient(135deg, rgba(255, 107, 53, 0.1) 0%, rgba(247, 147, 30, 0.1) 100%)",borderLeft:"4px solid #ff6b35",fontWeight:"600"}:{},...k(F,he)},onClick:F.isAnonymous?void 0:P=>Z(F,P),title:F.isAnonymous?"":"點擊查看訓練背景",children:[s.jsxs("div",{className:"ladder__rank",children:[s.jsx("span",{className:`ladder__rank-number ${F.id===(u==null?void 0:u.userId)?"rank-changing":""}`,children:he+1}),s.jsx("span",{className:"ladder__rank-badge",children:H(he+1)})]}),s.jsxs("div",{className:"ladder__user",children:[s.jsx("div",{className:"ladder__avatar",children:F.avatarUrl&&!F.isAnonymous?s.jsx("img",{src:F.avatarUrl,alt:"頭像"}):s.jsx("div",{className:`ladder__avatar-placeholder ${F.isAnonymous?"anonymous":""}`,children:F.isAnonymous?"👤":F.displayName.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"ladder__user-info",children:[s.jsxs("div",{className:`ladder__user-name ${F.isAnonymous?"anonymous":""} ${F.id===(u==null?void 0:u.userId)?"current-user-flame":""}`,children:[F.displayName,F.isAnonymous&&" 🔒"]}),s.jsx("div",{className:"ladder__user-details",children:F.isAnonymous?"匿名用戶":s.jsxs(s.Fragment,{children:[U(F.ageGroup)," •"," ",F.gender==="male"?"男":"女",F.lastActive&&s.jsxs(s.Fragment,{children:[s.jsx("br",{}),s.jsxs("span",{className:"last-update",children:["更新於 ",ae(F.lastActive)]})]})]})})]})]}),s.jsxs("div",{className:"ladder__score",children:[s.jsx("span",{className:"ladder__score-value",children:Hh(F.ladderScore)}),s.jsx("span",{className:"ladder__score-label",children:"分"})]})]},F.id))]}),s.jsxs("div",{className:"ladder__footer",children:[p==="weekly"&&s.jsx("p",{style:{fontSize:"12px",color:"#666",marginTop:"8px"},children:"📅 本周新進榜：顯示過去7天內有活動的用戶"}),c>50&&s.jsxs("p",{style:{fontSize:"12px",color:"#666",marginTop:"8px",fontStyle:"italic"},children:["💡 提示：您的排名為第 ",c," ","名，可以點擊上方按鈕查看您附近的競爭對手"]})]}),A&&s.jsxs("div",{className:"training-tooltip",style:{position:"fixed",left:L.x,top:L.y,transform:`translateX(-50%) translateY(${L.transformY||-100}%)`,zIndex:1e3,...L.tooltipStyle},children:[s.jsxs("div",{className:`tooltip-content ${i.findIndex(F=>F.id===A.id)===0?"first-place-glow expanded":""}`,children:[s.jsxs("div",{className:"tooltip-header",children:[s.jsxs("h4",{children:[A.displayName," 的訓練背景"]}),s.jsx("button",{className:"tooltip-close",onClick:ne,children:"×"})]}),s.jsxs("div",{className:"tooltip-body",children:[A.profession&&s.jsxs("div",{className:"tooltip-item",children:[s.jsx("span",{className:"tooltip-label",children:"💼 職業："}),s.jsx("span",{className:"tooltip-value",children:A.profession})]}),A.weeklyTrainingHours&&s.jsxs("div",{className:"tooltip-item",children:[s.jsx("span",{className:"tooltip-label",children:"⏰ 每周訓練時數："}),s.jsxs("span",{className:"tooltip-value",children:[A.weeklyTrainingHours," 小時"]})]}),A.trainingYears&&s.jsxs("div",{className:"tooltip-item",children:[s.jsx("span",{className:"tooltip-label",children:"📅 訓練年資："}),s.jsxs("span",{className:"tooltip-value",children:[A.trainingYears," 年"]})]}),!A.profession&&!A.weeklyTrainingHours&&!A.trainingYears&&s.jsxs("div",{className:"tooltip-empty",children:[s.jsx("p",{children:"該用戶尚未填寫訓練背景信息"}),s.jsx("p",{children:"💡 在個人資料頁面填寫訓練背景，激勵其他健身愛好者！"})]})]})]}),s.jsx("div",{className:`tooltip-arrow ${i.findIndex(F=>F.id===A.id)===0?"first-place-arrow expanded":""}`,style:{...L.transformY===0?{bottom:"auto",top:"-8px",borderTop:"none",borderBottom:"8px solid white",...i.findIndex(F=>F.id===A.id)===0&&{left:"50px",transform:"translateX(-50%)"}}:{bottom:"-8px",top:"auto",borderBottom:"none",borderTop:"8px solid white"}}})]}),A&&s.jsx("div",{className:"tooltip-overlay",onClick:ne,style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:999}})]})},K0=({position:u="bottom",className:i="",showAd:o=!0,isFixed:c=!0})=>o?s.jsx("div",{className:`ad-banner ad-banner--${u} ${c?"ad-banner--fixed":""} ${i}`,children:s.jsx("div",{className:"ad-banner__test",children:s.jsxs("div",{className:"ad-banner__test-content",children:[s.jsx("span",{className:"ad-banner__test-label",children:"🎯 廣告空間預留 🎯"}),s.jsx("span",{className:"ad-banner__test-size",children:"點擊體驗優化版設計"})]})})}):null;K0.propTypes={position:Re.oneOf(["top","bottom","inline"]),className:Re.string,showAd:Re.bool,isFixed:Re.bool};const _2=()=>{const u=Rl(),i=["/user-info","/friends","/ladder","/history","/strength","/cardio","/explosive-power","/muscle-mass","/body-fat"],o=["/login","/privacy-policy","/test","/strength-instructions"];return(()=>{const d=u.pathname;return o.some(h=>d.startsWith(h))?!1:!!i.some(h=>d.startsWith(h))})()?s.jsx(K0,{position:"bottom",isFixed:!0,showAd:!0,className:"global-ad-banner"}):null};class O2 extends R.Component{constructor(){super(...arguments);Sh(this,"state",{hasError:!1})}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(o,c){console.error("ErrorBoundary 捕獲錯誤:",o,c)}render(){return this.state.hasError?s.jsx("div",{children:"發生錯誤，請稍後再試或聯繫支持團隊。"}):this.props.children}}function D2(){const[u,i]=R.useState(null),o=Rl(),c=["/user-info","/history","/ladder","/friends","/strength","/explosive-power","/cardio","/muscle-mass","/body-fat"].some(N=>o.pathname.startsWith(N)),d=["/user-info","/friends","/ladder","/history","/strength","/cardio","/explosive-power","/muscle-mass","/body-fat"].some(N=>o.pathname.startsWith(N)),h=async(N,w)=>{try{await Lo(se,N,w),sessionStorage.removeItem("guestMode"),i(null)}catch(A){throw console.error("登入失敗:",A),new Error("登入失敗")}},g=()=>{se.currentUser&&w1(se).then(()=>{i(null)}).catch(N=>{console.error("登出失敗:",N)})},p=N=>{i(N)},v=()=>{i(null)},x=()=>{sessionStorage.setItem("guestMode","true"),window.location.href="/user-info"},y=({element:N})=>{const{userData:w}=mn(),A=window.location.pathname;if(sessionStorage.getItem("guestMode")==="true"&&!se.currentUser&&["/user-info","/strength","/cardio","/explosive-power","/muscle-mass","/body-fat"].some(te=>A.startsWith(te)))return N;if(!se.currentUser)return s.jsx(So,{to:"/login"});if(A!=="/user-info"&&A!=="/login"){const te=typeof(w==null?void 0:w.height)=="number"&&w.height>0,q=typeof(w==null?void 0:w.weight)=="number"&&w.weight>0,Q=typeof(w==null?void 0:w.age)=="number"&&w.age>0,k=(w==null?void 0:w.gender)==="male"||(w==null?void 0:w.gender)==="female";if(!te||!q||!Q||!k)return s.jsx(So,{to:"/user-info"})}return N};return y.propTypes={element:Re.element.isRequired},s.jsxs("div",{className:`app-container ${d?"page-with-fixed-ad":""}`,children:[s.jsx(nv,{}),s.jsx(O2,{children:s.jsx("div",{className:"main-content",children:s.jsxs(s1,{children:[s.jsx(It,{path:"/",element:se.currentUser?s.jsx(So,{to:"/user-info"}):s.jsx(k0,{onLogin:h,onGuestMode:x})}),s.jsx(It,{path:"/user-info",element:s.jsx(y,{element:s.jsx(I0,{testData:u,onLogout:g,clearTestData:v})})}),s.jsx(It,{path:"/strength",element:s.jsx(y,{element:s.jsx(H0,{onComplete:p,clearTestData:v})})}),s.jsx(It,{path:"/cardio",element:s.jsx(y,{element:s.jsx(q0,{onComplete:p,clearTestData:v})})}),s.jsx(It,{path:"/explosive-power",element:s.jsx(y,{element:s.jsx(G0,{onComplete:p,clearTestData:v})})}),s.jsx(It,{path:"/muscle-mass",element:s.jsx(y,{element:s.jsx(V0,{onComplete:p,clearTestData:v})})}),s.jsx(It,{path:"/body-fat",element:s.jsx(y,{element:s.jsx(Y0,{onComplete:p,clearTestData:v})})}),s.jsx(It,{path:"/login",element:s.jsx(X0,{onLogin:h})}),s.jsx(It,{path:"/history",element:s.jsx(y,{element:s.jsx(N2,{})})}),s.jsx(It,{path:"/friends",element:s.jsx(y,{element:s.jsx(w2,{})})}),s.jsx(It,{path:"/ladder",element:s.jsx(y,{element:s.jsx(R2,{})})}),s.jsx(It,{path:"/privacy-policy",element:s.jsx(E2,{})}),s.jsx(It,{path:"/test",element:s.jsx(A2,{})}),s.jsx(It,{path:"*",element:s.jsx("div",{children:"404 - 頁面未找到"})})]})})}),o.pathname!=="/friends"&&s.jsx("footer",{className:"app-footer",children:s.jsx(r1,{to:"/privacy-policy",children:"隱私權政策"})}),o.pathname!=="/ladder"&&s.jsx(_2,{}),c&&s.jsx(B2,{})]})}function U2(){return s.jsx(O0,{children:s.jsx(i1,{children:s.jsx(D2,{})})})}const M2=L1.createRoot(document.getElementById("root"));M2.render(s.jsx(c1.StrictMode,{children:s.jsx(U2,{})}));
