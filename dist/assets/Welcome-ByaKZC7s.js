import{u as f,a as j,i as v,j as e,b as w}from"./index-BIhibsyR.js";import{d as N,r as a}from"./react-vendor-BToktFYo.js";import{n as b}from"./firebase-D0136ThQ.js";import{P as m}from"./charts-BNGpwEcn.js";import{L as E}from"./LanguageSwitcher-DPnT8PmU.js";function L({onGuestMode:n}){const s=N(),{isAuthenticated:o,isLoading:r}=f(),{t}=j(),[l,u]=a.useState(!1);a.useEffect(()=>{console.log("i18n current language:",v.language)},[]),a.useEffect(()=>{const x=async()=>{if(l||o)return;const c=localStorage.getItem("savedEmail"),d=localStorage.getItem("savedPassword");if(c&&d&&!l){console.log("Welcome - å˜—è©¦è‡ªå‹•ç™»å…¥:",c),u(!0);try{const i=await b(w,c,d);console.log("Welcome - è‡ªå‹•ç™»å…¥æˆåŠŸ:",i.user.email),setTimeout(()=>{s("/user-info")},500)}catch(i){console.error("Welcome - è‡ªå‹•ç™»å…¥å¤±æ•—:",i),localStorage.removeItem("savedEmail"),localStorage.removeItem("savedPassword")}}},p=setTimeout(()=>{x()},100);return()=>clearTimeout(p)},[l,o,s]),a.useEffect(()=>{o&&!r&&(console.log("Welcome - ç”¨æˆ¶å·²èªè­‰ï¼Œå°èˆªåˆ° user-info"),s("/user-info"))},[o,r,s]);const h=()=>{s("/login")},g=()=>{n?n():s("/guest")};return e.jsxs("div",{className:"welcome-container",children:[e.jsx("div",{className:"welcome-header",children:e.jsx(E,{})}),e.jsxs("div",{className:"welcome-content",children:[e.jsx("h1",{className:"welcome-title",children:t("welcome.title")}),e.jsx("p",{className:"welcome-subtitle",children:t("welcome.subtitle")}),e.jsxs("div",{className:"welcome-features",children:[e.jsxs("div",{className:"feature-card",children:[e.jsx("h3",{children:"ğŸ‹ï¸ å°ˆæ¥­è©•æ¸¬"}),e.jsx("p",{children:"æä¾›åŠ›é‡ã€å¿ƒè‚ºã€çˆ†ç™¼åŠ›ã€è‚Œè‚‰é‡ã€é«”è„‚ç­‰å¤šé …å°ˆæ¥­è©•æ¸¬"})]}),e.jsxs("div",{className:"feature-card",children:[e.jsx("h3",{children:"ğŸ“Š è©³ç´°åˆ†æ"}),e.jsx("p",{children:"åŸºæ–¼ç§‘å­¸æ¨™æº–ï¼Œæä¾›å€‹äººåŒ–çš„å¥èº«å»ºè­°å’Œé€²æ­¥è¿½è¹¤"})]}),e.jsxs("div",{className:"feature-card",children:[e.jsx("h3",{children:"ğŸ‘¥ ç¤¾ç¾¤äº’å‹•"}),e.jsx("p",{children:"èˆ‡å…¶ä»–å¥èº«æ„›å¥½è€…åˆ†äº«æˆæœï¼Œäº’ç›¸æ¿€å‹µæˆé•·"})]}),e.jsxs("div",{className:"feature-card",children:[e.jsx("h3",{children:"ğŸ“ˆ æ­·å²è¨˜éŒ„"}),e.jsx("p",{children:"å®Œæ•´è¨˜éŒ„æ‚¨çš„å¥èº«æ­·ç¨‹ï¼Œè¦‹è­‰æ¯ä¸€æ¬¡é€²æ­¥"})]})]}),e.jsxs("div",{className:"button-group-mode",children:[e.jsxs("div",{className:"button-with-tooltip",children:[e.jsx("button",{onClick:h,className:"mode-btn login-btn",children:t("welcome.login")}),e.jsx("span",{className:"tooltip",children:t("welcomeTooltips.login")})]}),e.jsxs("div",{className:"button-with-tooltip",children:[e.jsx("button",{onClick:g,className:"mode-btn guest-btn",children:t("welcome.guestMode")}),e.jsx("span",{className:"tooltip",children:t("welcomeTooltips.guest")})]})]})]})]})}L.propTypes={onLogin:m.func,onGuestMode:m.func};export{L as default};
