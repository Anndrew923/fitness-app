import{a as m,j as h}from"./index-BMtaLHIY.js";import{r as a}from"./react-vendor-BToktFYo.js";import"./firebase-D0136ThQ.js";import"./charts-BNGpwEcn.js";function L(){const[i,l]=a.useState("載入中..."),o=a.useRef(null),{i18n:s}=m();return a.useEffect(()=>{fetch("/terms.html").then(e=>{if(!e.ok)throw new Error("無法載入使用條款");return e.text()}).then(e=>l(e)).catch(e=>{console.error("載入使用條款失敗:",e),l("<div>載入使用條款時發生錯誤，請稍後再試。</div>")})},[]),a.useEffect(()=>{if(!o.current)return;window.switchTermsLanguage=function(n){var u;const r=o.current;if(!r)return;r.querySelectorAll(".content").forEach(t=>t.classList.remove("active"));const f=n==="zh"?"#zh-content":"#en-content";r.querySelectorAll(`[id^="${f.substring(1)}"]`).forEach(t=>{t.classList.contains("content")&&t.classList.add("active")});const c=Array.from(r.querySelectorAll(".language-btn"));c.forEach(t=>t.classList.remove("active"));const d=c.find(t=>t.getAttribute("data-lang")==="zh"),g=c.find(t=>t.getAttribute("data-lang")==="en");(u=n==="zh"?d:g)==null||u.classList.add("active")};const e=s.language&&s.language.toLowerCase().startsWith("zh")?"zh":"en";try{window.switchTermsLanguage(e)}catch(n){console.warn("無法切換條款語言:",n)}return()=>{try{delete window.switchTermsLanguage}catch(n){console.warn("無法清理條款語言函數:",n)}}},[i,s.language]),h.jsx("div",{style:{padding:"20px",maxWidth:"800px",margin:"0 auto"},ref:o,children:h.jsx("div",{dangerouslySetInnerHTML:{__html:i}})})}export{L as default};
